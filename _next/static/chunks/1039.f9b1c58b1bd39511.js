(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1039],{4470:function(h){"use strict";var m=Object.prototype.hasOwnProperty,_=Object.prototype.toString,v=Object.defineProperty,b=Object.getOwnPropertyDescriptor,isArray=function(h){return"function"==typeof Array.isArray?Array.isArray(h):"[object Array]"===_.call(h)},isPlainObject=function(h){if(!h||"[object Object]"!==_.call(h))return!1;var v,b=m.call(h,"constructor"),A=h.constructor&&h.constructor.prototype&&m.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!b&&!A)return!1;for(v in h);return void 0===v||m.call(h,v)},setProperty=function(h,m){v&&"__proto__"===m.name?v(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},getProperty=function(h,_){if("__proto__"===_){if(!m.call(h,_))return;if(b)return b(h,_).value}return h[_]};h.exports=function extend(){var h,m,_,v,b,A,C=arguments[0],S=1,I=arguments.length,w=!1;for("boolean"==typeof C&&(w=C,C=arguments[1]||{},S=2),(null==C||"object"!=typeof C&&"function"!=typeof C)&&(C={});S<I;++S)if(h=arguments[S],null!=h)for(m in h)_=getProperty(C,m),C!==(v=getProperty(h,m))&&(w&&v&&(isPlainObject(v)||(b=isArray(v)))?(b?(b=!1,A=_&&isArray(_)?_:[]):A=_&&isPlainObject(_)?_:{},setProperty(C,{name:m,newValue:extend(w,A,v)})):void 0!==v&&setProperty(C,{name:m,newValue:v}));return C}},9821:function(h,m,_){"use strict";let v=_(4579).parse,b=_(7799).compile,A=_(7094).segment,C=_(1105);h.exports={parse:v,compile:b,segment:A,hls:C}},7799:function(h){"use strict";function CompilerError(h,m){this.message=h,this.error=m}function convertTimestamp(h){let m=pad(Math.floor(h/60/60),2),_=pad(Math.floor(h/60)%60,2),v=pad(Math.floor(h%60),2),b=pad(Math.floor(1e3*(h%1).toFixed(4)),3);return`${m}:${_}:${v}.${b}`}function pad(h,m){let _=`${h}`;for(;_.length<m;)_=`0${_}`;return _}CompilerError.prototype=Object.create(Error.prototype),h.exports={CompilerError,compile:function(h){if(!h)throw new CompilerError("Input must be non-null");if("object"!=typeof h)throw new CompilerError("Input must be an object");if(Array.isArray(h))throw new CompilerError("Input cannot be array");if(!h.valid)throw new CompilerError("Input must be valid");let m="WEBVTT\n";if(h.meta){if("object"!=typeof h.meta||Array.isArray(h.meta))throw new CompilerError("Metadata must be an object");Object.entries(h.meta).forEach(h=>{if("string"!=typeof h[1])throw new CompilerError(`Metadata value for "${h[0]}" must be string`);m+=`${h[0]}: ${h[1]}
`})}let _=null;return h.cues.forEach((h,v)=>{if(_&&_>h.start)throw new CompilerError(`Cue number ${v} is not in chronological order`);_=h.start,m+="\n"+function(h){if("object"!=typeof h)throw new CompilerError("Cue malformed: not of type object");if("string"!=typeof h.identifier&&"number"!=typeof h.identifier&&null!==h.identifier)throw new CompilerError(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(h)}`);if(isNaN(h.start))throw new CompilerError(`Cue malformed: null start value.
    ${JSON.stringify(h)}`);if(isNaN(h.end))throw new CompilerError(`Cue malformed: null end value.
    ${JSON.stringify(h)}`);if(h.start>=h.end)throw new CompilerError(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(h)}`);if("string"!=typeof h.text)throw new CompilerError(`Cue malformed: null text value.
    ${JSON.stringify(h)}`);if("string"!=typeof h.styles)throw new CompilerError(`Cue malformed: null styles value.
    ${JSON.stringify(h)}`);let m="";h.identifier.length>0&&(m+=`${h.identifier}
`);let _=convertTimestamp(h.start),v=convertTimestamp(h.end);return m+(`${_} --> ${v}`+(h.styles?` ${h.styles}`:""))+`
${h.text}`}(h)+"\n"}),m}}},1105:function(h,m,_){"use strict";let v=_(7094).segment;function pad(h,m){let _="0".repeat(Math.max(0,m-h.toString().length));return`${_}${h}`}function printableTimestamp(h){let m=(h%1).toFixed(3);h=Math.round(h-m);let _=Math.floor(h/3600),v=Math.floor((h-3600*_)/60),b=h-3600*_-60*v,A=`${pad(_,2)}:`;return`${A}${pad(v,2)}:${pad(b,2)}.${pad(1e3*m,3)}`}h.exports={hlsSegment:function(h,m,_){void 0===_&&(_="900000");let b=v(h,m),A=[];return b.forEach((h,m)=>{let v=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${_},LOCAL:00:00:00.000

${function(h){let m=[];return h.forEach(h=>{m.push(function(h){let m=[];h.identifier&&m.push(h.identifier);let _=printableTimestamp(h.start),v=printableTimestamp(h.end),b=h.styles?`${h.styles}`:"";return m.push(`${_} --> ${v} ${b}`),m.push(h.text),m.join("\n")}(h))}),m.join("\n\n")}(h.cues)}
`,b=`${m}.vtt`;A.push({filename:b,content:v})}),A},hlsSegmentPlaylist:function(h,m){let _;let b=v(h,m),A=function(h){let m=[];return h.forEach((h,_)=>{m.push(`#EXTINF:${h.duration.toFixed(5)},
${_}.vtt`)}),m.join("\n")}(b),C=Math.round((_=0,b.forEach(h=>{h.duration>_&&(_=h.duration)}),_)),S=`#EXTM3U
#EXT-X-TARGETDURATION:${C}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${A}
#EXT-X-ENDLIST
`;return S}}},4579:function(h){"use strict";function ParserError(h,m){this.message=h,this.error=m}ParserError.prototype=Object.create(Error.prototype);let m=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function parseTimestamp(h){let _=h.match(m);return 3600*parseFloat(_[1]||0)+(60*parseFloat(_[2])+parseFloat(_[3]))}h.exports={ParserError,parse:function(h,_){_||(_={});let{meta:v=!1,strict:b=!0}=_;if("string"!=typeof h)throw new ParserError("Input must be a string");h=(h=(h=h.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n");let A=h.split("\n\n"),C=A.shift();if(!C.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');let S=C.split("\n"),I=S[0].replace("WEBVTT","");if(I.length>0&&" "!==I[0]&&"	"!==I[0])throw new ParserError("Header comment must start with space or tab");if(0===A.length&&1===S.length)return{valid:!0,strict:b,cues:[],errors:[]};if(!v&&S.length>1&&""!==S[1])throw new ParserError("Missing blank line after signature");let{cues:w,errors:O}=function(h,_){let v=[],b=h.map((h,b)=>{try{return function(h,_,v){var b,A;let C="",S=0,I=.01,w="",O="",L=h.split("\n").filter(Boolean);if(L.length>0&&L[0].trim().startsWith("NOTE"))return null;if(1===L.length&&!L[0].includes("-->"))throw new ParserError(`Cue identifier cannot be standalone (cue #${_})`);if(L.length>1&&!(L[0].includes("-->")||L[1].includes("-->"))){let h=`Cue identifier needs to be followed by timestamp (cue #${_})`;throw new ParserError(h)}L.length>1&&L[1].includes("-->")&&(C=L.shift());let M="string"==typeof L[0]&&L[0].split(" --> ");if(2!==M.length||(b=M[0],!m.test(b))||(A=M[1],!m.test(A)))throw new ParserError(`Invalid cue timestamp (cue #${_})`);if(S=parseTimestamp(M[0]),I=parseTimestamp(M[1]),v){if(S>I)throw new ParserError(`Start timestamp greater than end (cue #${_})`);if(I<=S)throw new ParserError(`End must be greater than start (cue #${_})`)}if(!v&&I<S)throw new ParserError(`End must be greater or equal to start when not strict (cue #${_})`);return O=M[1].replace(m,"").trim(),L.shift(),!!(w=L.join("\n"))&&{identifier:C,start:S,end:I,text:w,styles:O}}(h,b,_)}catch(h){return v.push(h),null}}).filter(Boolean);return{cues:b,errors:v}}(A,b);if(b&&O.length>0)throw O[0];let L=v?function(h){let m={};return h.slice(1).forEach(h=>{let _=h.indexOf(":"),v=h.slice(0,_).trim(),b=h.slice(_+1).trim();m[v]=b}),Object.keys(m).length>0?m:null}(S):null,M={valid:0===O.length,strict:b,cues:w,errors:O};return v&&(M.meta=L),M}}},7094:function(h,m,_){"use strict";let v=_(4579).parse;h.exports={segment:function(h,m){m=m||10;let _=v(h),b=[],A=[],C=null,S=0,I=0;return _.cues.forEach((h,v)=>{let w=0===v,O=v===_.cues.length-1,L=h.start,M=h.end,F=O?1/0:_.cues[v+1].start,B=w?M:M-L,U=w?0:L-_.cues[v-1].end;S=S+B+U,b.length,C&&(A.push(C),S+=C.end-I,C=null),A.push(h);let $=F-M<m&&U<m&&S>m;if(function(h,m,_,v){return(v<=m||v+(m-v%m)+h<_)&&_-h>=m}(I,m,F,U)){var G,j,q,Q;let h;let _=(G=m,j=S,q=I,h=G,j>G&&(h=(Q=j-G)+(G-Q%G)),h=O?parseFloat((M-q).toFixed(2)):Math.round(h));b.push({duration:_,cues:A}),I+=_,S=0,A=[]}else $=!1;$&&(C=h)}),b}}},1757:function(h,m){!function(h){"use strict";function t(h){return null==h}function r(h){throw Error("Argument "+h+" is empty.")}function e(h){return"function"==typeof h&&"getType"in h}function i(h){throw Error("Argument "+h+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function o(h,m){if(null==h)throw Error("Argument contains array with empty element at index "+m);if(null==h.getType)throw Error("Argument contains array with invalid element at index "+m+', it should be an action-creator instance from "typesafe-actions"')}function u(h){return"string"==typeof h||"symbol"==typeof h}function c(h){throw Error("Argument "+h+" is invalid, it should be an action type of type: string | symbol")}function f(h,m){if(null==h)throw Error("Argument contains array with empty element at index "+m);if("string"!=typeof h&&"symbol"!=typeof h)throw Error("Argument contains array with invalid element at index "+m+", it should be of type: string | symbol")}function s(h,m,_,v){return t(h)&&r(1),u(h)||i(1),{type:h,payload:m,meta:_,error:v}}function y(h,m){return t(h)&&r(1),u(h)||c(1),Object.assign(function(){var _=null!=m?m.apply(void 0,arguments):void 0;return Object.assign({type:h},_)},{getType:function(){return h},toString:function(){return h}})}function l(h,m,_){return t(h)&&r(1),u(h)||c(1),function(){return y(h,function(){var h=arguments.length<=0?void 0:arguments[0],v=arguments.length<=1?void 0:arguments[1];return null==m&&null==_||(h=null!=m?m.apply(void 0,arguments):void 0,v=null!=_?_.apply(void 0,arguments):void 0),Object.assign({},void 0!==h&&{payload:h},{},void 0!==v&&{meta:v})})}}function p(h){return t(h)&&r(1),e(h)||i(1),h.getType()}function d(h,m){return t(h)&&r(1),u(h)||c(1),Object.assign(null!=m?m(h):function(){return{type:h}},{getType:function(){return h},toString:function(){return h}})}h.action=s,h.createAction=l,h.createAsyncAction=function(h,m,_,v){return function(){var b=[h,m,_,v].map(function(h,m){return Array.isArray(h)?l(h[0],h[1],h[2])():"string"==typeof h||"symbol"==typeof h?l(h)():void(m<3&&function(h){throw Error("Argument "+h+' is invalid, it should be an action type of "string | symbol" or a tuple of "[string | symbol, Function, Function?]"')}(m))});return{request:b[0],success:b[1],failure:b[2],cancel:b[3]}}},h.createCustomAction=y,h.createReducer=function n(h,m){void 0===m&&(m={});var _=Object.assign({},m),o=function(m,v){var b=Array.isArray(m)?m:[m],A={};return b.map(function(h,m){return e(h)?p(h):u(h)?h:function(h){throw Error("Argument "+h+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(m+1)}).forEach(function(h){return A[h]=v}),n(h,Object.assign({},_,{},A))};return Object.assign(function(m,v){if(void 0===m&&(m=h),_.hasOwnProperty(v.type)){var b=_[v.type];if("function"!=typeof b)throw Error('Reducer under "'+v.type+'" key is not a valid reducer');return b(m,v)}return m},{handlers:Object.assign({},_),handleAction:o,handleType:o})},h.deprecated={createAction:function(h,m){return Object.assign(null==m?function(){return s(h)}:m(s.bind(null,h)),{getType:function(){return h},toString:function(){return h}})},createCustomAction:d,createStandardAction:function(h){return t(h)&&r(1),u(h)||c(1),Object.assign(function(){return d(h,function(h){return function(m,_){return{type:h,payload:m,meta:_}}})},{map:function(m){return d(h,function(h){return function(_,v){return Object.assign(m(_,v),{type:h})}})}})}},h.getType=p,h.isActionOf=function(h,m){t(h)&&r(1);var _=Array.isArray(h)?h:[h];_.forEach(o);var u=function(h){return _.some(function(m){return h.type===m.getType()})};return void 0===m?u:u(m)},h.isOfType=function(h,m){t(h)&&r(1);var _=Array.isArray(h)?h:[h];_.forEach(f);var o=function(h){return _.includes(h.type)};return void 0===m?o:o(m)}}(m)},1039:function(h,m,_){"use strict";let v,b,A,C;_.r(m),_.d(m,{Helpers:function(){return ux},Image:function(){return Ce},Primitives:function(){return nT.default},Scroll:function(){return Xt},Slider:function(){return oq.default},Viewer:function(){return fi},default:function(){return uC}});var S,I,w,O,L,M,F,B,U,$,G,j,q,Q,X,K,J,Z,ee,en,er,ei,ea,eo,es,el,ec,eu,ed,eh,ep,em,ef,eg,e_,eE,ev,eT,ey,eb,ek,eA,ex,eC,eS,eI,ew={};_.r(ew),_.d(ew,{boolean:function(){return nI},booleanish:function(){return nw},commaOrSpaceSeparated:function(){return nD},commaSeparated:function(){return nL},number:function(){return nO},overloadedBoolean:function(){return nN},spaceSeparated:function(){return nR}});var eN={};_.r(eN),_.d(eN,{attentionMarkers:function(){return aP},contentInitial:function(){return aw},disable:function(){return aM},document:function(){return aI},flow:function(){return aO},flowInitial:function(){return aN},insideSpan:function(){return aD},string:function(){return aR},text:function(){return aL}});var eO=_(9203),eR=_(4511),eL=_(6744),eD=_(7294),eP=_.t(eD,2),eM=Object.defineProperty,__defNormalProp=(h,m,_)=>m in h?eM(h,m,{enumerable:!0,configurable:!0,writable:!0,value:_}):h[m]=_,__publicField=(h,m,_)=>(__defNormalProp(h,"symbol"!=typeof m?m+"":m,_),_);let eF=[];Object.freeze(eF);let eB={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:eF,motivation:null,label:null,thumbnail:eF,summary:null,requiredStatement:null,metadata:eF,rights:null,provider:eF,items:eF,seeAlso:eF,homepage:eF,logo:eF,rendering:eF,service:eF},eH={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:eF,motivation:null,thumbnail:eF,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:eF,rights:null,navDate:null,provider:eF,items:eF,annotations:eF,seeAlso:eF,homepage:eF,logo:eF,partOf:eF,rendering:eF,service:eF,duration:0,height:0,width:0},eU={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:eF,motivation:null,thumbnail:eF,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:eF,rights:null,navDate:null,provider:eF,items:eF,annotations:eF,seeAlso:eF,homepage:eF,logo:eF,partOf:eF,rendering:eF,service:eF,services:eF},e$={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:eF,behavior:eF,homepage:eF,items:eF,label:null,logo:eF,metadata:eF,motivation:null,navDate:null,provider:eF,partOf:eF,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,rendering:eF,requiredStatement:null,rights:null,seeAlso:eF,service:eF,services:eF,start:null,structures:eF,summary:null,thumbnail:eF,viewingDirection:"left-to-right"},ez={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:eF,motivation:null,thumbnail:eF,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:eF,rights:null,navDate:null,provider:eF,items:eF,annotations:eF,seeAlso:eF,homepage:eF,logo:eF,partOf:eF,rendering:eF,service:eF,start:null,supplementary:null,viewingDirection:"left-to-right"},eG={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:eF,seeAlso:eF,homepage:eF};function ensureArray$1(h){return Array.isArray(h)?h:[h]}let ej=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"];let Traverse$1=class Traverse$1{constructor(h,m={}){__publicField(this,"traversals"),__publicField(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],...h},this.options={allowUndefinedReturn:!1,...m}}static all(h){return new Traverse$1({collection:[h],manifest:[h],canvas:[h],annotationCollection:[h],annotationPage:[h],annotation:[h],contentResource:[h],choice:[h],range:[h],service:[h]})}traverseDescriptive(h){return h.thumbnail&&(h.thumbnail=h.thumbnail.map(h=>this.traverseType(h,this.traversals.contentResource))),h.provider&&(h.provider=h.provider.map(h=>this.traverseAgent(h))),h}traverseLinking(h){return h.seeAlso&&(h.seeAlso=h.seeAlso.map(h=>this.traverseType(h,this.traversals.contentResource))),h.service&&(h.service=ensureArray$1(h.service).map(h=>this.traverseType(h,this.traversals.service))),h.services&&(h.services=h.services.map(h=>this.traverseType(h,this.traversals.service))),h.logo&&(h.logo=h.logo.map(h=>this.traverseType(h,this.traversals.contentResource))),h.homepage&&(h.homepage=h.homepage.map(h=>this.traverseType(h,this.traversals.contentResource))),h.partOf&&(h.partOf=h.partOf.map(h=>"string"!=typeof h&&h.type?"Canvas"===h.type?this.traverseType(h,this.traversals.canvas):"AnnotationCollection"===h.type?this.traverseType(h,this.traversals.annotationCollection):"Collection"===h.type?this.traverseType(h,this.traversals.collection):this.traverseType(h,this.traversals.contentResource):this.traverseType(h,this.traversals.contentResource))),h.start&&(h.start=h.start?this.traverseType(h.start,this.traversals.canvas):null),h.rendering&&(h.rendering=h.rendering.map(h=>this.traverseType(h,this.traversals.contentResource))),h.supplementary&&(h.supplementary=h.supplementary.map(h=>this.traverseType(h,this.traversals.contentResource))),h}traverseCollectionItems(h){return h.items&&h.items.map(h=>"Collection"===h.type?this.traverseCollection(h):this.traverseManifest(h)),h}traverseCollection(h){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traversePosterCanvas(this.traverseCollectionItems(h))))),this.traversals.collection)}traverseManifestItems(h){return h.items&&(h.items=h.items.map(h=>this.traverseCanvas(h))),h}traverseManifestStructures(h){return h.structures&&(h.structures=h.structures.map(h=>this.traverseRange(h))),h}traverseManifest(h){return this.traverseType(this.traverseInlineAnnotationPages(this.traverseManifestStructures(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(h)))))),this.traversals.manifest)}traverseCanvasItems(h){return h.items=(h.items||[]).map(h=>this.traverseAnnotationPage(h)),h}traverseInlineAnnotationPages(h){return"string"!=typeof h&&h&&h.annotations&&(h.annotations=h.annotations.map(h=>this.traverseAnnotationPage(h))),h}traverseCanvas(h){return this.traverseType(this.traverseInlineAnnotationPages(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(h))))),this.traversals.canvas)}traverseAnnotationPageItems(h){return h.items&&(h.items=h.items.map(h=>this.traverseAnnotation(h))),h}traverseAnnotationPage(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationPageItems(h))),this.traversals.annotationPage)}traverseAnnotationBody(h){return Array.isArray(h.body)?h.body=h.body.map(h=>this.traverseContentResource(h)):h.body&&(h.body=this.traverseContentResource(h.body)),h}traversePosterCanvas(h){return h.posterCanvas&&(h.posterCanvas=this.traverseCanvas(h.posterCanvas)),h.placeholderCanvas&&(h.placeholderCanvas=this.traverseCanvas(h.placeholderCanvas)),h.accompanyingCanvas&&(h.accompanyingCanvas=this.traverseCanvas(h.accompanyingCanvas)),h}traverseAnnotation(h){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(h)),this.traversals.annotation)}traverseContentResourceLinking(h){return"string"!=typeof h&&h&&h&&h.service&&(h.service=ensureArray$1(h.service||[]).map(h=>this.traverseType(h,this.traversals.service))),h}traverseContentResource(h){return"Choice"===h.type&&(h.items=h.items.map(h=>this.traverseContentResource(h))),this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(h)),this.traversals.contentResource)}traverseRangeRanges(h){return h.items&&(h.items=h.items.map(h=>"string"==typeof h?this.traverseCanvas({id:h,type:"Canvas"}):"Manifest"===h.type?this.traverseManifest(h):this.traverseRange(h))),h}traverseRange(h){return this.traverseType(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseRangeRanges(h)))),this.traversals.range)}traverseAgent(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(h)),this.traversals.agent)}traverseType(h,m){return m.reduce((h,m)=>{let _=m(h);return void 0!==_||this.options.allowUndefinedReturn?_:h},h)}traverseService(h){return this.traverseType(h,this.traversals.service)}traverseUnknown(h){let m=function(h){if(null==h)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(h))throw Error("Array is not a valid entity");if("object"!=typeof h)throw Error(`${typeof h} is not a valid entity`);if("string"==typeof h.type){let m=ej.indexOf(h.type);if(-1!==m)return ej[m]}if(h.profile)return"Service";throw Error("Resource type is not known")}(h);switch(m){case"Collection":return this.traverseCollection(h);case"Manifest":return this.traverseManifest(h);case"Canvas":return this.traverseCanvas(h);case"AnnotationPage":return this.traverseAnnotationPage(h);case"Annotation":return this.traverseAnnotation(h);case"ContentResource":return this.traverseContentResource(h);case"Range":return this.traverseRange(h);case"Service":return this.traverseService(h);case"Agent":return this.traverseAgent(h);default:throw Error(`Unknown or unsupported resource type of ${m}`)}}};let eV=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"];let Traverse=class Traverse{constructor(h,m={}){__publicField(this,"traversals"),__publicField(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...h},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...m}}static all(h){return new Traverse({collection:[h],manifest:[h],canvas:[h],annotationList:[h],sequence:[h],annotation:[h],contentResource:[h],choice:[h],range:[h],service:[h],layer:[h]})}traverseCollection(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(h))),this.traversals.collection)}traverseCollectionItems(h){if(this.options.mergeMemberProperties){let m=[...(h.manifests||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Manifest"}:h),...(h.collections||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Collection"}:h),...h.members||[]];delete h.collections,delete h.manifests,h.members=m}return h.manifests&&(h.manifests=h.manifests.map(h=>this.traverseManifest("string"==typeof h?{"@id":h,"@type":"sc:Manifest"}:h))),h.collections&&(h.collections=h.collections.map(h=>this.traverseCollection("string"==typeof h?{"@id":h,"@type":"sc:Collection"}:h))),h.members&&(h.members=h.members.map(h=>"string"==typeof h?h:this.traverseUnknown(h))),h}traverseManifest(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(h))),this.traversals.manifest)}traverseManifestItems(h){return h.sequences&&(h.sequences=h.sequences.map(h=>this.traverseSequence(h))),h.structures&&(h.structures=h.structures.map(h=>this.traverseRange(h))),h}traverseSequence(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(h))),this.traversals.sequence)}traverseSequenceItems(h){return h.canvases&&(h.canvases=h.canvases.map(h=>this.traverseCanvas(h))),h}traverseCanvas(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(h))),this.traversals.canvas)}traverseCanvasItems(h){return h.images&&(h.images=h.images.map(h=>this.traverseAnnotation(h))),h.otherContent&&(h.otherContent=h.otherContent.map(h=>this.traverseAnnotationList(h))),h}traverseRange(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(h))),this.traversals.range)}traverseRangeItems(h){if(this.options.mergeMemberProperties){let m=[...(h.ranges||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Range"}:h),...(h.canvases||[]).map(h=>"string"==typeof h?{"@id":h,"@type":"sc:Canvas"}:h),...h.members||[]];delete h.ranges,delete h.canvases,h.members=m.length?m.map(h=>this.traverseUnknown(h)):void 0}return h}traverseAnnotationList(h){let m="string"==typeof h?{"@id":h,"@type":"sc:AnnotationList"}:h;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(m)),this.traversals.annotationList)}traverseAnnotationListItems(h){return h.resources&&(h.resources=h.resources.map(h=>this.traverseAnnotation(h))),h}traverseAnnotation(h){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(h))),this.traversals.annotation)}traverseAnnotationItems(h){return h.resource&&(Array.isArray(h.resource)?h.resource=h.resource.map(h=>this.traverseContentResource(h)):h.resource=this.traverseContentResource(h.resource)),h.on,h}traverseLayer(h){return this.traverseType(this.traverseLinking(this.traverseLayerItems(h)),this.traversals.layer)}traverseLayerItems(h){return h.otherContent&&(h.otherContent=h.otherContent.map(h=>this.traverseAnnotationList(h))),h}traverseChoice(h){return this.traverseType(this.traverseChoiceItems(h),this.traversals.choice)}traverseChoiceItems(h){return h.default&&"rdf:nil"!==h.default&&(h.default=this.traverseContentResource(h.default)),h.item&&"rdf:nil"!==h.item&&(h.item=h.item.map(h=>this.traverseContentResource(h))),h}traverseService(h){return this.traverseType(this.traverseLinking(h),this.traversals.service)}traverseContentResource(h){return"oa:Choice"===h["@type"]?this.traverseChoice(h):this.traverseType(this.traverseDescriptive(this.traverseLinking(h)),this.traversals.contentResource)}traverseUnknown(h){if(!h["@type"]||"string"==typeof h)return h;switch(function(h){if(null==h)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(h))throw Error("Array is not a valid entity");if("object"!=typeof h)throw Error(`${typeof h} is not a valid entity`);if("string"==typeof h["@type"]){let m=eV.indexOf(h["@type"]);if(-1!==m)return eV[m]}if(h.profile)return"Service";if(h.format||h["@type"])return"ContentResource";throw Error("Resource type is not known")}(h)){case"sc:Collection":return this.traverseCollection(h);case"sc:Manifest":return this.traverseManifest(h);case"sc:Canvas":return this.traverseCanvas(h);case"sc:Sequence":return this.traverseSequence(h);case"sc:Range":return this.traverseRange(h);case"oa:Annotation":return this.traverseAnnotation(h);case"sc:AnnotationList":return this.traverseAnnotationList(h);case"sc:Layer":return this.traverseLayer(h);case"Service":return this.traverseService(h);case"oa:Choice":return this.traverseChoice(h);case"ContentResource":return this.traverseContentResource(h)}return h.profile?this.traverseService(h):h}traverseImageResource(h){let m=Array.isArray(h),_=Array.isArray(h)?h:[h],v=[];for(let h of _)"string"==typeof h?v.push(this.traverseContentResource({"@id":h,"@type":"dctypes:Image"})):v.push(this.traverseContentResource(h));return m||this.options.convertPropsToArray?v:v[0]}traverseDescriptive(h){return h.thumbnail&&(h.thumbnail=this.traverseImageResource(h.thumbnail)),h.logo&&(h.logo=this.traverseImageResource(h.logo)),h}traverseOneOrMoreServices(h){let m=Array.isArray(h),_=Array.isArray(h)?h:[h],v=[];for(let h of _)v.push(this.traverseService(h));return m||this.options.convertPropsToArray?v:v[0]}traverseLinking(h){return h.related&&(h.related=this.traverseOneOrManyType(h.related,this.traversals.contentResource)),h.rendering&&(h.rendering=this.traverseOneOrManyType(h.rendering,this.traversals.contentResource)),h.service&&(h.service=this.traverseOneOrMoreServices(h.service)),h.seeAlso&&(h.seeAlso=this.traverseOneOrManyType(h.seeAlso,this.traversals.contentResource)),h.within&&("string"==typeof h.within||(h.within=this.traverseOneOrManyType(h.within,this.traversals.contentResource))),h.startCanvas&&("string"==typeof h.startCanvas?h.startCanvas=this.traverseType({"@id":h.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):h.startCanvas&&this.traverseType(h.startCanvas,this.traversals.canvas)),h.contentLayer&&("string"==typeof h.contentLayer?h.contentLayer=this.traverseLayer({"@id":h.contentLayer,"@type":"sc:Layer"}):h.contentLayer=this.traverseLayer(h.contentLayer)),h}traverseOneOrManyType(h,m){if(!Array.isArray(h)){if(!this.options.convertPropsToArray)return this.traverseType(h,m);h=[h]}return h.map(h=>this.traverseType(h,m))}traverseType(h,m){return m.reduce((h,m)=>{let _=m(h);return void 0!==_||this.options.allowUndefinedReturn?_:h},h)}};let eq="http://library.stanford.edu/iiif/image-api/compliance.html#level1",eW="http://library.stanford.edu/iiif/image-api/compliance.html#level2",eY="http://library.stanford.edu/iiif/image-api/conformance.html#level1",eQ="http://library.stanford.edu/iiif/image-api/conformance.html#level2",eX="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",eK="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",eJ="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",eZ="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e0="http://iiif.io/api/image/1/level1.json",e1="http://iiif.io/api/image/1/profiles/level1.json",e2="http://iiif.io/api/image/1/level2.json",e3="http://iiif.io/api/image/1/profiles/level2.json",e4="http://iiif.io/api/image/2/level1.json",e5="http://iiif.io/api/image/2/profiles/level1.json",e6="http://iiif.io/api/image/2/level2.json",e8="http://iiif.io/api/image/2/profiles/level2.json",e9="level1",e7="level2",te="http://iiif.io/api/image/2/level1",tn="http://iiif.io/api/image/2/level2",tr=[te,tn,eq,eW,eY,eQ,eX,eK,eJ,eZ,e0,e1,e2,e3,e4,e5,e6,e8,e9,e7],ti=["http://iiif.io/api/image/2/level0",te,tn,"http://library.stanford.edu/iiif/image-api/compliance.html#level0",eq,eW,"http://library.stanford.edu/iiif/image-api/conformance.html#level0",eY,eQ,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",eX,eK,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",eJ,eZ,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json",e0,e1,e2,e3,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json",e4,e5,e6,e8,"level0",e9,e7],ta={attributionLabel:"Attribution",providerId:"http://example.org/provider",providerName:"Unknown"};function convertLanguageMapping(h,m="none"){if(!h)return{};let _=Array.isArray(h)?h:[h],v={};for(let h of _){if("string"==typeof h){v[m]=v[m]?v[m]:[],v[m].push(h||"");continue}if(!h["@language"]){v[m]=v[m]?v[m]:[],v[m].push(h["@value"]||"");continue}let _=h["@language"];v[_]=v[_]?v[_]:[],v[_].push(h["@value"]||"")}return v}function removePrefix(h){for(let m of["sc","oa","dcterms","dctypes","iiif"])if(h.startsWith(`${m}:`))return h.slice(m.length+1);return h}let to=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function getNewType(h){let m=h["@id"]||h.id,_=h["@type"]||h.type,v=h.profile||void 0,b=h["@context"]||void 0;if(v){let h=function(h){switch(h){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}(v);if(h)return h}if(b){let h=function(h){let m=Array.isArray(h)?h:[h];for(let h of m)switch(h){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}(b);if(h)return h}if(_){if(Array.isArray(_)){if(-1!==_.indexOf("oa:CssStylesheet"))return"CssStylesheet";if(-1!==_.indexOf("cnt:ContentAsText"))return"TextualBody";_=_[0]}for(let h of["sc","oa","dcterms","dctypes","iiif"])if(_.startsWith(`${h}:`)){_=_.slice(h.length+1);break}switch(_){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(_&&-1!==to.indexOf(_))return _;if(h.format){if(h.format.startsWith("image/"))return"Image";if(h.format.startsWith("text/")||"application/pdf"===h.format)return"Text";if(h.format.startsWith("application/"))return"Dataset"}return m&&(m.endsWith(".jpg")||m.endsWith(".png")||m.endsWith(".jpeg"))?"Image":_||"unknown"}let ts=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm,tl=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"];function removeUndefinedProperties(h){for(let m in h)(void 0===h[m]||null===h[m])&&delete h[m];return h}let tc=0;function mintNewIdFromResource(h,m){let _=encodeURI(h.id||h["@id"]||"").trim();return _&&m?`${_}/${m}`:_||(tc++,`http://example.org/${h["@type"]}${m?`/${m}`:""}/${tc}`)}function technicalProperties$2(h){let m;let _=[...h.behavior||[]];return h.viewingHint&&_.push(h.viewingHint),Array.isArray(h.motivation)?m=h.motivation.map(removePrefix):h.motivation&&(m=removePrefix(h.motivation)),{"@context":h["@context"]?function(h){if(h){let m=Array.isArray(h)?h:[h],_=[];for(let h of m)"http://iiif.io/api/presentation/2/context.json"===h&&_.push("http://iiif.io/api/presentation/3/context.json"),-1===tl.indexOf(h)&&_.push(h);if(m.length)return 1===_.length?_[0]:_}}(h["@context"]):void 0,id:(h["@id"]||mintNewIdFromResource(h)).trim(),type:getNewType(h),behavior:_.length?_:void 0,height:h.height?h.height:void 0,width:h.width?h.width:void 0,motivation:m,viewingDirection:h.viewingDirection,profile:h.profile,format:h.format?h.format:void 0,duration:void 0,timeMode:void 0}}function descriptiveProperties$2(h){var m;let[_,v]=function(h,m="Rights/License",_="none"){let v=null,b=[],A=Array.isArray(h)?h:[h];for(let h of A){let A=h?function(h){let m=h.match(ts);return m?m[0]:h}(h):void 0;if(A&&(-1!==A.indexOf("creativecommons.org")||-1!==A.indexOf("rightsstatements.org"))){v=A.startsWith("https://")?`http://${A.slice(8)}`:A;continue}A&&b.push({label:{[_]:[m]},value:{[_]:[A]}})}return[v,b]}(h.license),b=[...h.metadata&&(m=h.metadata)?m.map(h=>({label:convertLanguageMapping(h.label),value:convertLanguageMapping(h.value)})):[],...v];return{rights:_,metadata:b.length?b:void 0,label:h.label?convertLanguageMapping(h.label):void 0,requiredStatement:h.attribution?{label:convertLanguageMapping(ta.attributionLabel),value:convertLanguageMapping(h.attribution)}:void 0,navDate:h.navDate,summary:h.description?convertLanguageMapping(h.description):void 0,thumbnail:h.thumbnail}}function linkingProperties$2(h){let m=h.related?Array.isArray(h.related)?h.related:[h.related]:[],_=h.contentLayer;return{provider:h.logo||m.length?[{id:ta.providerId,type:"Agent",homepage:m.length?[m[0]]:void 0,logo:h.logo?Array.isArray(h.logo)?h.logo:[h.logo]:void 0,label:convertLanguageMapping(ta.providerName)}]:void 0,partOf:function(h){if(!h.within)return;let m=Array.isArray(h.within)?h.within:[h.within],_=[];for(let v of m)"string"==typeof v?v&&"sc:Manifest"===h["@type"]&&_.push({id:v,type:"Collection"}):v["@id"]&&_.push({id:v["@id"],type:getNewType(v)});return _.length?_:void 0}(h),rendering:h.rendering,seeAlso:h.seeAlso,start:h.startCanvas,service:h.service?ensureArray$1(h.service):void 0,supplementary:_?[_]:void 0}}function upgradeContentResource(h){return removeUndefinedProperties({...technicalProperties$2(h),...descriptiveProperties$2(h),...linkingProperties$2(h),chars:h.chars,format:h.format?h.format:void 0,language:h.language})}let tu=new Traverse({collection:[function(h){return removeUndefinedProperties({...technicalProperties$2(h),...descriptiveProperties$2(h),...linkingProperties$2(h),items:h.members})}],manifest:[function(h){let m=[],_=[];for(let v of h.sequences||[])v.canvases.length&&m.push(...v.canvases),v.behavior&&_.push(...v.behavior);let v=technicalProperties$2(h);return _.length&&(v.behavior?v.behavior.push(..._):v.behavior=_),removeUndefinedProperties({...v,...descriptiveProperties$2(h),...linkingProperties$2(h),items:m,structures:h.structures})}],canvas:[function(h){return removeUndefinedProperties({...technicalProperties$2(h),...descriptiveProperties$2(h),...linkingProperties$2(h),annotations:h.otherContent&&h.otherContent.length?h.otherContent:void 0,items:h.images&&h.images.length?[{id:mintNewIdFromResource(h,"annotation-page"),type:"AnnotationPage",items:h.images}]:void 0})}],annotationList:[function(h){return removeUndefinedProperties({...technicalProperties$2(h),...descriptiveProperties$2(h),...linkingProperties$2(h),items:h.resources&&h.resources.length?h.resources:void 0})}],sequence:[function(h){return h.canvases&&0!==h.canvases.length?{canvases:h.canvases,behavior:h.viewingHint?[h.viewingHint]:[]}:{canvases:[],behavior:[]}}],annotation:[function(h){return removeUndefinedProperties({...technicalProperties$2(h),...descriptiveProperties$2(h),...linkingProperties$2(h),target:function upgradeTarget(h){if(Array.isArray(h)){if(h.length>1)return{type:"List",items:h.map(upgradeTarget)};h=h[0]}if("string"==typeof h)return encodeURI(h).trim();if(!("@type"in h))return encodeURI(h["@id"]).trim();{let m;if("string"==typeof h.full)m=h.full;else if("dctypes:Image"===h.full["@type"])m={id:h.full["@id"],type:"Image"};else if("sc:Canvas"===h.full["@type"])m={id:h.full["@id"],type:"Canvas"};else throw Error(`Unsupported source type on annotation: ${h.full["@type"]}`);return{type:"SpecificResource",source:m,selector:function upgradeSelector(h){let m=(Array.isArray(h["@type"])&&h["@type"].includes("oa:SvgSelector")||"oa:SvgSelector"==h["@type"])&&("chars"in h||"value"in h);if(m)return{type:"SvgSelector",value:"chars"in h?h.chars:h.value};if("oa:FragmentSelector"===h["@type"])return{type:"FragmentSelector",value:h.value};if("oa:Choice"===h["@type"])return[upgradeSelector(h.default),...(Array.isArray(h.item)?h.item:[h.item]).map(upgradeSelector)];if("iiif:ImageApiSelector"==h["@type"])return{type:"ImageApiSelector",region:"region"in h?h.region:void 0,rotation:"rotation"in h?h.rotation:void 0};throw Error(`Unsupported selector type: ${h["@type"]}`)}(h.selector)}}}(h.on),body:Array.isArray(h.resource)?h.resource.map(upgradeContentResource):upgradeContentResource(h.resource)})}],contentResource:[upgradeContentResource],choice:[function(h){let m=[];return h.default&&"rdf:nil"!==h.default&&m.push(h.default),h.item&&"rdf:nil"!==h.item&&m.push(...h.item),{...technicalProperties$2(h),...descriptiveProperties$2(h),items:m}}],range:[function(h){return removeUndefinedProperties({...technicalProperties$2(h),...descriptiveProperties$2(h),...linkingProperties$2(h),items:h.members})}],service:[function(h){let{"@id":m,"@type":_,"@context":v,profile:b,...A}=h,C={};return m&&(C["@id"]=m),C["@type"]=getNewType(h),"unknown"===C["@type"]&&(v&&v.length&&(C["@context"]=v),C["@type"]="Service"),b&&(C.profile=function getProfile(h){return Array.isArray(h)?getProfile(h.find(h=>"string"==typeof h)):-1!==ti.indexOf(h)?"level2":-1!==tr.indexOf(h)?"level1":"string"==typeof h?h:void 0}(b)),removeUndefinedProperties({...C,...A})}],layer:[function(h){return removeUndefinedProperties({...technicalProperties$2(h),...descriptiveProperties$2(h),...linkingProperties$2(h)})}]});function getResource(h,m){if("string"==typeof h)return{id:h,type:m};if(!h.id)throw Error(`Invalid resource does not have an ID (${m})`);return h}function addMissingIdToContentResource(h){return m=>"string"==typeof m?{id:m,type:h}:m.id?m.type?m:{type:h,...m}:{id:`vault://${function(h){let m=JSON.stringify(h),_=5381,v=m.length;for(;v;)_=33*_^m.charCodeAt(--v);let b=_>>>0,A=b.toString(16);return A.length%2?"0"+A:A}(m)}`,type:h,...m}}function ensureDefaultFields(h){return m=>({...h,...m})}function ensureArray(h){return Array.isArray(h)?h:[h]}function ensureArrayOnAnnotation(h){return h.body&&(h.body=ensureArray(h.body)),h.seeAlso&&(h.seeAlso=ensureArray(h.seeAlso)),h.body&&(h.body=ensureArray(h.body)),h.audience&&(h.audience=ensureArray(h.audience)),h.accessibility&&(h.accessibility=ensureArray(h.accessibility)),h.motivation&&(h.motivation=ensureArray(h.motivation)),h}let td="__$UNSET$__",th="__$UNWRAP$__";function languageString2to3(h){if(!h)return;let m=Object.keys(h);if(0!==m.length){if(1===m.length){let _=m[0];if(!_)return"";let v=(h[_]||[]).join("");return"@none"===_||"none"===_||"en"===_?v:{"@language":_,"@value":v}}return m.map(m=>({"@language":m,"@value":(h[m]||[]).join("")}))}}function unNestArray(h,m=!1){return h?h.length>1&&!m?h:h[0]||void 0:void 0}function convertService(h){if(h){if("string"==typeof h)return{"@id":h};if("@id"in h){let m={...h};return delete m["@type"],m}return{"@context":"http://iiif.io/api/image/2/context.json","@id":h.id,profile:`http://iiif.io/api/image/2/profiles/${h.profile}.json`}}}function technicalProperties$1(h,m){return[["@id",h.id],["@type",m],["format",h.format],["height",h.height],["width",h.width],["viewingDirection","left-to-right"!==h.viewingDirection?h.viewingDirection:void 0]]}function*descriptiveProperties$1(h){let m=h.provider?yield h.provider[0]:void 0;return[["label",languageString2to3(h.label)],["metadata",h.metadata&&h.metadata.length?h.metadata.map(h=>({label:languageString2to3(h.label)||"",value:languageString2to3(h.value)||""})):void 0],["description",languageString2to3(h.summary)],["thumbnail",unNestArray((yield h.thumbnail))],["navDate",h.navDate],["logo",m?unNestArray(m.logo):void 0],["homepage",m?m.homepage:void 0],["attribution",h.requiredStatement?languageString2to3(h.requiredStatement.value):void 0]]}function*linkingProperties$1(h){return[["seeAlso",unNestArray((yield h.seeAlso))],["service",unNestArray((h.service||[]).map(convertService))],["rendering",unNestArray((yield h.rendering))],["startCanvas",h.start?h.start.id:void 0]]}let tp={Manifest:function*(h){return[...technicalProperties$1(h,"sc:Manifest"),...yield*descriptiveProperties$1(h),...yield*linkingProperties$1(h),["sequences",[{"@id":`${h.id}/sequence0`,"@type":"sc:Sequence",canvases:yield h.items}]],["structures",(yield h.structures)]]},Canvas:function*(h){let m=yield h.items,_=m[0];return[...technicalProperties$1(h,"sc:Canvas"),...yield*descriptiveProperties$1(h),...yield*linkingProperties$1(h),["images",_?[_.resources]:void 0],["annotations",h.annotations&&h.annotations.length?unNestArray((yield h.annotations)):void 0]]},AnnotationPage:function*(h){return[...technicalProperties$1(h,"sc:AnnotationList"),...yield*descriptiveProperties$1(h),["resources",h.items&&h.items.length?unNestArray((yield h.items)):void 0]]},Annotation:function*(h){return[["@id",h.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",function parseCanvasTarget(h){return Array.isArray(h)?h.map(h=>parseCanvasTarget(h)):"string"==typeof h?h:h.type&&"Canvas"===h.type?h.id:h}(h.target)],["resource",unNestArray((yield h.body),!0)]]},ContentResource:function*(h){return"Image"===h.type?[...technicalProperties$1(h,"dctypes:Image"),...yield*descriptiveProperties$1(h),...yield*linkingProperties$1(h)]:[...technicalProperties$1(h,void 0),...yield*descriptiveProperties$1(h)]},AnnotationCollection:function*(h){return[["@id",h.id],["@type","sc:Layer"],["label",languageString2to3(h.label)]]},Collection:function*(h){return[...technicalProperties$1(h,"sc:Collection"),...yield*descriptiveProperties$1(h),...yield*linkingProperties$1(h),["members",(yield*h.items)]]},Range:function*(h){let m=[],_=[];if(h.items)for(let v of h.items){let b=yield v;m.push({"@id":v.id,"@type":v.type,label:b?b.label:void 0,within:h.id}),"Canvas"===v.type&&_.push(v.id)}return[...technicalProperties$1(h,"sc:Range"),...yield*descriptiveProperties$1(h),...yield*linkingProperties$1(h),["canvases",_.length===m.length?_:void 0],["members",_.length!==m.length?m:void 0]]}};function technicalProperties(h){var m;return[["id",(null==(m=h.id)?void 0:m.startsWith("vault://"))?void 0:h.id],["type",h.type],["format",h.format],["profile",h.profile],["height",h.height],["width",h.width],["duration",h.duration||void 0],["viewingDirection","left-to-right"!==h.viewingDirection?h.viewingDirection:void 0],["behavior",h.behavior&&h.behavior.length?h.behavior:void 0],["timeMode",h.timeMode],["motivation",Array.isArray(h.motivation)?h.motivation[0]:h.motivation]]}function filterEmpty(h){if(h&&0!==h.length)return h}function service2compat(h){if(h&&h.type&&"ImageService2"===h.type){let{id:m,type:_,profile:v,...b}=h,A="string"==typeof v?v:Array.isArray(v)?v.find(h=>"string"==typeof h):"";return{"@id":m,"@type":_,profile:A?A.startsWith("http")?A:`http://iiif.io/api/image/2/${A}.json`:"http://iiif.io/api/image/2/level0.json",...b}}return h}function filterService2Compat(h){if(h&&0!==h.length)return h.map(service2compat)}function*descriptiveProperties(h){return[["label",h.label],["metadata",filterEmpty(h.metadata)],["summary",h.summary],["requiredStatement",h.requiredStatement],["rights",h.rights],["navDate",h.navDate],["language",h.language],["thumbnail",filterEmpty((yield h.thumbnail))],["placeholderCanvas",(yield h.placeholderCanvas)],["accompanyingCanvas",(yield h.accompanyingCanvas)],["provider",filterEmpty((yield h.provider))]]}function*linkingProperties(h){return[["seeAlso",filterEmpty((yield h.seeAlso))],["service",filterService2Compat(h.service)],["services",filterService2Compat(h.services)],["rendering",filterEmpty((yield h.rendering))],["supplementary",filterEmpty((yield h.supplementary))],["homepage",filterEmpty((yield h.homepage))],["logo",filterEmpty((yield h.logo))],["partOf",filterEmpty((yield h.partOf))],["start",h.start]]}let tm={Manifest:function*(h,m,{isTopLevel:_}){return _?[["@context","http://iiif.io/api/presentation/3/context.json"],...technicalProperties(h),...yield*descriptiveProperties(h),...yield*linkingProperties(h),["items",(yield h.items)],["structures",filterEmpty((yield h.structures))],["annotations",filterEmpty((yield h.annotations))]]:[...technicalProperties(h),...yield*descriptiveProperties(h)]},Canvas:function*(h){return[...technicalProperties(h),...yield*descriptiveProperties(h),...yield*linkingProperties(h),["items",(yield h.items)],["annotations",filterEmpty((yield h.annotations))]]},Agent:function*(h){return[["id",h.id],["type","Agent"],["label",h.label],...yield*linkingProperties(h)]},AnnotationPage:function*(h){let m=Object.entries(h).map(([h,m])=>[h,Array.isArray(m)?filterEmpty(m):m]).filter(([h,m])=>"items"!==h);return[...m,...yield*linkingProperties(h),["items",(yield h.items)]]},Service:function*(h){return[[th,service2compat(h)]]},Annotation:function*(h){let m=Object.entries(h).map(([h,m])=>"motivation"===h?[h,Array.isArray(m)?m[0]:m]:[h,Array.isArray(m)?filterEmpty(m):m]).filter(([h])=>"body"!==h),_=yield h.body;return[...m,["body",1===_.length?_[0]:_]]},ContentResource:function*(h){return[...technicalProperties(h),...yield*descriptiveProperties(h),...yield*linkingProperties(h),["annotations",filterEmpty((yield h.annotations))],["items",filterEmpty((yield h.items))]]},AnnotationCollection:function*(h){return[["id",h.id],["type","AnnotationCollection"],["label",h.label]]},Collection:function*(h,m,{isTopLevel:_}){return _?[["@context","http://iiif.io/api/presentation/3/context.json"],...technicalProperties(h),...yield*descriptiveProperties(h),...yield*linkingProperties(h),["items",filterEmpty((yield h.items))]]:[...technicalProperties(h),...yield*descriptiveProperties(h)]},Range:function*(h){let m=[];for(let _ of h.items)"Range"===_.type?m.push((yield _)):m.push(_);return[...technicalProperties(h),...yield*descriptiveProperties(h),...yield*linkingProperties(h),["items",m],["annotations",filterEmpty((yield h.annotations))]]}};var tf=_(1757);function _typeof(h){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(h)}function ownKeys(h,m){var _=Object.keys(h);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(h);m&&(v=v.filter(function(m){return Object.getOwnPropertyDescriptor(h,m).enumerable})),_.push.apply(_,v)}return _}function _objectSpread2(h){for(var m=1;m<arguments.length;m++){var _=null!=arguments[m]?arguments[m]:{};m%2?ownKeys(Object(_),!0).forEach(function(m){!function(h,m,_){var v;(v=function(h,m){if("object"!=_typeof(h)||!h)return h;var _=h[Symbol.toPrimitive];if(void 0!==_){var v=_.call(h,m||"default");if("object"!=_typeof(v))return v;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===m?String:Number)(h)}(m,"string"),(m="symbol"==_typeof(v)?v:v+"")in h)?Object.defineProperty(h,m,{value:_,enumerable:!0,configurable:!0,writable:!0}):h[m]=_}(h,m,_[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(_,m))})}return h}function formatProdErrorMessage(h){return"Minified Redux error #"+h+"; visit https://redux.js.org/Errors?code="+h+" for the full message or use the non-minified dev environment for full errors. "}var tg="function"==typeof Symbol&&Symbol.observable||"@@observable",randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},t_={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function combineReducers(h){for(var m,_=Object.keys(h),v={},b=0;b<_.length;b++){var A=_[b];"function"==typeof h[A]&&(v[A]=h[A])}var C=Object.keys(v);try{!function(h){Object.keys(h).forEach(function(m){var _=h[m];if(void 0===_(void 0,{type:t_.INIT}))throw Error(formatProdErrorMessage(12));if(void 0===_(void 0,{type:t_.PROBE_UNKNOWN_ACTION()}))throw Error(formatProdErrorMessage(13))})}(v)}catch(h){m=h}return function(h,_){if(void 0===h&&(h={}),m)throw m;for(var b=!1,A={},S=0;S<C.length;S++){var I=C[S],w=v[I],O=h[I],L=w(O,_);if(void 0===L)throw _&&_.type,Error(formatProdErrorMessage(14));A[I]=L,b=b||L!==O}return(b=b||C.length!==Object.keys(h).length)?A:h}}function compose(){for(var h=arguments.length,m=Array(h),_=0;_<h;_++)m[_]=arguments[_];return 0===m.length?function(h){return h}:1===m.length?m[0]:m.reduce(function(h,m){return function(){return h(m.apply(void 0,arguments))}})}function applyMiddleware(){for(var h=arguments.length,m=Array(h),_=0;_<h;_++)m[_]=arguments[_];return function(h){return function(){var _=h.apply(void 0,arguments),_dispatch=function(){throw Error(formatProdErrorMessage(15))},v={getState:_.getState,dispatch:function(){return _dispatch.apply(void 0,arguments)}},b=m.map(function(h){return h(v)});return _dispatch=compose.apply(void 0,b)(_.dispatch),_objectSpread2(_objectSpread2({},_),{},{dispatch:_dispatch})}}}let tE="@iiif/IMPORT_ENTITIES",tv="@iiif/MODIFY_ENTITY_FIELD",tT="@iiif/REORDER_ENTITY_FIELD",ty="@iiif/ADD_REFERENCE",tb="@iiif/REMOVE_REFERENCE",tk=(0,tf.createAction)(tE)(),tA=(0,tf.createAction)(tv)(),tx=(0,tf.createAction)(tT)(),tC=(0,tf.createAction)(ty)(),tS=(0,tf.createAction)(tb)(),tI={importEntities:tk,modifyEntityField:tA,reorderEntityField:tx,addReference:tC,removeReference:tS},tw="@iiif/ADD_MAPPING",tN="@iiif/ADD_MAPPINGS",tO=(0,tf.createAction)(tw)(),tR=(0,tf.createAction)(tN)(),tL="@iiif/SET_META_VALUE",tD="@iiif/SET_META_VALUE_DYNAMIC",tP="@iiif/UNSET_META_VALUE",tM=(0,tf.createAction)(tL)(),tF=(0,tf.createAction)(tD)(),tB=(0,tf.createAction)(tP)(),tH={setMetaValue:tM,setMetaValueDynamic:tF,unsetMetaValue:tB},tU="RESOURCE_ERROR",t$="RESOURCE_LOADING",tz="RESOURCE_READY",tG="@iiif/REQUEST_RESOURCE",tj="@iiif/REQUEST_ERROR",tV="@iiif/REQUEST_MISMATCH",tq="@iiif/REQUEST_COMPLETE",tW="@iiif/REQUEST_OFFLINE_RESOURCE",tY=(0,tf.createAction)(tG)(),tQ=(0,tf.createAction)(tj)(),tX=(0,tf.createAction)(tV)(),tK=(0,tf.createAction)(tq)();(0,tf.createAction)(tW)();let tJ="@iiif/BATCH",tZ="@iiif/BATCH_IMPORT",t0=(0,tf.createAction)(tJ)();(0,tf.createAction)(tZ)();let actionListFromResource=(h,m)=>{let{entities:_,resource:v,mapping:b}=function(h){let m=h&&h["@context"]&&("http://iiif.io/api/presentation/2/context.json"===h["@context"]||-1!==h["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")||"http://www.shared-canvas.org/ns/context.json"===h["@context"])||"http://iiif.io/api/image/2/context.json"===h["@context"]?tu.traverseUnknown(h):h,_={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}},v={},addToEntities=(h,m)=>{let v=_[h]?_[h]:{};return _=>{let b=getResource(_,m||h);return b&&b.id&&h?(v[b.id]=v[b.id]?function(h,m){if("string"==typeof h)return h;if(m.id!==h.id||m.type!==h.type)throw Error("Can only merge entities with identical identifiers and type!");return function merge(h,m){if(!m)return h;if(Array.isArray(h)){if(!Array.isArray(m))throw Error("Cannot merge array with non-array");let _=[...h];for(let v of m)if(null!=v){if(Array.isArray(v))_.push(v);else if("object"==typeof v&&v.id&&v.type){let h=_.findIndex(h=>h.id===v.id&&h.type===v.type);h>=0&&(_[h]=merge(_[h],v))}else -1===h.indexOf(v)&&_.push(v)}return _}if("object"==typeof h){if(Array.isArray(m)||"object"!=typeof m)throw Error("Cannot merge object with non-object");let _={...h};for(let[h,v]of Object.entries(m)){let m=_[h];m!==eF&&m?_[h]=merge(m,v):_[h]=v}return _}return h||m}({...h},m)}(v[b.id],b):Object.assign({},b),{id:b.id,type:"ContentResource"===h?h:b.type}):b}},addToMapping=(h,m)=>_=>{let{id:b,type:A}=getResource(_,m||h);if(void 0===b)throw Error("Found invalid entity without an ID.");return"ContentResource"===h?v[b]=h:v[b]=A,_},b=new Traverse$1({collection:[ensureDefaultFields(eU),addToMapping("Collection"),addToEntities("Collection")],manifest:[ensureDefaultFields(e$),addToMapping("Manifest"),addToEntities("Manifest")],canvas:[ensureDefaultFields(eH),addToMapping("Canvas"),addToEntities("Canvas")],annotationPage:[addMissingIdToContentResource("AnnotationPage"),ensureDefaultFields(eB),addToMapping("AnnotationPage"),addToEntities("AnnotationPage")],annotation:[addMissingIdToContentResource("Annotation"),ensureArrayOnAnnotation,addToMapping("Annotation"),addToEntities("Annotation")],contentResource:[addMissingIdToContentResource("ContentResource"),addToMapping("ContentResource"),addToEntities("ContentResource")],range:[ensureDefaultFields(ez),addToMapping("Range","Canvas"),addToEntities("Range","Canvas")],agent:[ensureDefaultFields(eG),addToMapping("Agent"),addToEntities("Agent")]}),A=b.traverseUnknown(m);return{entities:_,resource:A,mapping:v}}(m);if(void 0===v.id)return[tQ({id:h,message:"ID is not defined in resource."})];let A=[tk({entities:_}),tR({mapping:b})];return v.id!==h&&(A.push(tO({id:h,type:v.type})),A.push(tX({requestId:h,actualId:v.id}))),A.push(tK({id:h})),A},t1=Number.isNaN||function(h){return"number"==typeof h&&h!=h};function areInputsEqual(h,m){if(!Array.isArray(h)||!Array.isArray(m))return h===m;if(h.length!==m.length)return!1;for(let b=0;b<h.length;b++){var _,v;if(!((_=h[b])===(v=m[b])||t1(_)&&t1(v)))return!1}return!0}function esm_resolveIfExists(h,m){let _=h.iiif.requests[m],v=h.iiif.mapping[m];if(v&&h.iiif.entities[v][_.resourceUri])return h.iiif.entities[v][_.resourceUri]}function createFetchHelper(h,m,{waitTimeout:_=30}={}){return async(v,b)=>{let A=h.getState(),C=A.iiif.requests[v];if(C)switch(C.loadingState){case tU:break;case t$:{let m;let b=!1;try{let A=await Promise.race([new Promise((_,A)=>{b||(m=h.subscribe(()=>{let m=h.getState();if(m.iiif.requests[v].loadingState===tU){A();return}if(m.iiif.requests[v].loadingState===tz){let h=esm_resolveIfExists(m,v);h?_(h):A()}}))}),new Promise((h,m)=>setTimeout(()=>{b=!0,m()},60*_))]);if(m&&m(),A)return A}catch(h){m&&m()}break}case tz:{let h=esm_resolveIfExists(A,v);if(h)return h}}h.dispatch(tY({id:v}));try{let _=await m(v,b);_.id||_["@id"]||(_["@type"]&&(_["@id"]=v),_.id=v);let A=actionListFromResource(v,_);return h.dispatch(t0({actions:A})),esm_resolveIfExists(h.getState(),v)}catch(m){throw h.dispatch(tQ({id:v,message:m.toString()})),m}}}function esm_getDefaultEntities(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}function isReferenceList(h,m,_,v){return!(!h[_]||!h[_][m]||!h[_][m][v]||!Array.isArray(h[_][m][v]))}let t2=combineReducers({mapping:(h={},m)=>{switch(m.type){case tw:return{...h,[m.payload.id]:m.payload.type};case tN:return{...h,...m.payload.mapping};default:return h}},entities:(h=esm_getDefaultEntities(),m)=>{switch(m.type){case tv:{if(!h[m.payload.type]||!h[m.payload.type][m.payload.id])return h;let _=h[m.payload.type][m.payload.id];if("string"==typeof _)return h;return{...h,[m.payload.type]:{...h[m.payload.type],[m.payload.id]:{..._,[m.payload.key]:m.payload.value}}}}case tT:{if(!isReferenceList(h,m.payload.id,m.payload.type,m.payload.key))return h;let _=h[m.payload.type][m.payload.id];if("string"==typeof _)return h;let v=Array.from(_[m.payload.key]),[b]=v.splice(m.payload.startIndex,1);return v.splice(m.payload.endIndex,0,b),{...h,[m.payload.type]:{...h[m.payload.type],[m.payload.id]:{..._,[m.payload.key]:v}}}}case tE:{let _=Object.keys(m.payload.entities),v={...h};for(let b of _){let _=m.payload.entities[b],A={...h[b]||{}},C=!1,S=Object.keys(_||{})||[];if(_&&S){for(let m of S)C=!0,A[m]=h[b][m]?function(h,m){let _={},v=[];for(let[b,A]of Object.entries(h||{})){v.push(b);let h=(m||{})[b];if(!h||0===h.length){_[b]=A;continue}_[b]=h}for(let[h,b]of Object.entries(m||{}))-1===v.indexOf(h)&&(_[h]=b);return _}(h[b][m],_[m]):_[m];C&&(v[b]=A)}}return v}case ty:{if(!isReferenceList(h,m.payload.id,m.payload.type,m.payload.key))return h;let _=h[m.payload.type][m.payload.id],v=Array.from(_[m.payload.key]);return v.splice(m.payload.index||v.length+1,0,m.payload.reference),{...h,[m.payload.type]:{...h[m.payload.type],[m.payload.id]:{..._,[m.payload.key]:v}}}}case tb:{if(!isReferenceList(h,m.payload.id,m.payload.type,m.payload.key))return h;let _=h[m.payload.type][m.payload.id],v=Array.from(_[m.payload.key]),b=m.payload.index||v.findIndex(h=>h&&h.id===m.payload.reference.id);if(-1===b||v[b]?.id!==m.payload.reference.id)return h;return v.splice(b,1),{...h,[m.payload.type]:{...h[m.payload.type],[m.payload.id]:{..._,[m.payload.key]:v}}}}default:return h}},requests:(h={},m)=>{switch(m.type){case tG:case tW:return{...h,[m.payload.id]:{requestUri:m.payload.id,loadingState:t$,uriMismatch:!1,resourceUri:m.payload.id}};case tV:return{...h,[m.payload.requestId]:{...h[m.payload.requestId]||{},uriMismatch:!0,resourceUri:m.payload.actualId},[m.payload.actualId]:{requestUri:m.payload.requestId,loadingState:h[m.payload.requestId].loadingState,uriMismatch:!0,resourceUri:m.payload.actualId}};case tj:return{...h,[m.payload.id]:{...h[m.payload.id]||{},loadingState:tU,error:m.payload.message}};case tq:return{...h,[m.payload.id]:{...h[m.payload.id]||{},loadingState:tz,error:void 0}}}return h},meta:(h={},m)=>{let{id:_,updateValue:v,value:b,meta:A,key:C}=m&&m.payload||{};switch(m.type){case tL:return{...h,[_]:{...h[_]||{},[A]:{...h[_]&&h[_][A]||{},[C]:b}}};case tD:return{...h,[_]:{...h[_]||{},[A]:{...h[_]&&h[_][A]||{},[C]:v(h[_]&&h[_][A]?h[_][A][C]:void 0)}}};case tP:if(h[_]&&h[_][A]&&h[_][A][C])return{...h,[_]:{...h[_]||{},[A]:{...h[_]&&h[_][A]||{},[C]:void 0}}};return h;default:return h}}}),t3="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose;let Vault=class Vault{options;store;emitter;isBatching=!1;batchQueue=[];remoteFetcher;staticFetcher;constructor(h,m){var _;this.options=Object.assign({reducers:{},middleware:[],defaultState:{},customFetcher:this.defaultFetcher,enableDevtools:!0},h||{}),this.store=m||function(h={}){let{enableDevtools:m=!0,iiifStoreName:_="iiif",defaultState:v={},extraMiddleware:b=[],customReducers:A={}}=h,C=combineReducers({[_]:t2,...A}),S=function createStore(h,m,_){if("function"==typeof m&&"function"==typeof _||"function"==typeof _&&"function"==typeof arguments[3])throw Error(formatProdErrorMessage(0));if("function"==typeof m&&void 0===_&&(_=m,m=void 0),void 0!==_){if("function"!=typeof _)throw Error(formatProdErrorMessage(1));return _(createStore)(h,m)}if("function"!=typeof h)throw Error(formatProdErrorMessage(2));var v,b=h,A=m,C=[],S=C,I=!1;function ensureCanMutateNextListeners(){S===C&&(S=C.slice())}function getState(){if(I)throw Error(formatProdErrorMessage(3));return A}function subscribe(h){if("function"!=typeof h)throw Error(formatProdErrorMessage(4));if(I)throw Error(formatProdErrorMessage(5));var m=!0;return ensureCanMutateNextListeners(),S.push(h),function(){if(m){if(I)throw Error(formatProdErrorMessage(6));m=!1,ensureCanMutateNextListeners();var _=S.indexOf(h);S.splice(_,1),C=null}}}function dispatch(h){if(!function(h){if("object"!=typeof h||null===h)return!1;for(var m=h;null!==Object.getPrototypeOf(m);)m=Object.getPrototypeOf(m);return Object.getPrototypeOf(h)===m}(h))throw Error(formatProdErrorMessage(7));if(void 0===h.type)throw Error(formatProdErrorMessage(8));if(I)throw Error(formatProdErrorMessage(9));try{I=!0,A=b(A,h)}finally{I=!1}for(var m=C=S,_=0;_<m.length;_++)(0,m[_])();return h}return dispatch({type:t_.INIT}),(v={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function(h){if("function"!=typeof h)throw Error(formatProdErrorMessage(10));b=h,dispatch({type:t_.REPLACE})}})[tg]=function(){var h;return(h={subscribe:function(h){if("object"!=typeof h||null===h)throw Error(formatProdErrorMessage(11));function observeState(){h.next&&h.next(getState())}return observeState(),{unsubscribe:subscribe(observeState)}}})[tg]=function(){return this},h},v}((h,m)=>m&&m.type===tJ?m.payload.actions.reduce(C,h):m&&m.type===tZ?m.payload.state:C(h,m),v,m?t3(applyMiddleware(...b)):compose(applyMiddleware(...b)));return S}({customReducers:this.options.reducers,extraMiddleware:[...this.options.middleware,this.middleware],defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:_=_||new Map,on:function(h,m){var v=_.get(h);v?v.push(m):_.set(h,[m])},off:function(h,m){var v=_.get(h);v&&(m?v.splice(v.indexOf(m)>>>0,1):_.set(h,[]))},emit:function(h,m){var v=_.get(h);v&&v.slice().map(function(h){h(m)}),(v=_.get("*"))&&v.slice().map(function(_){_(h,m)})}},this.remoteFetcher=createFetchHelper(this.store,this.options.customFetcher),this.staticFetcher=createFetchHelper(this.store,(h,m)=>m)}defaultFetcher=h=>fetch(h).then(h=>h.json());batch(h){this.isBatching=!0;try{h(this),this.store.dispatch(t0({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[],this.isBatching=!1}async asyncBatch(h){this.isBatching=!0;try{await h(this),this.store.dispatch(t0({actions:this.batchQueue}))}catch(h){throw this.batchQueue=[],this.isBatching=!1,h}this.batchQueue=[],this.isBatching=!1}modifyEntityField(h,m,_){this.dispatch(tI.modifyEntityField({id:h.id,type:h.type,key:m,value:_}))}dispatch(h){this.isBatching?this.batchQueue.push(h):this.store.dispatch(h)}middleware=h=>m=>_=>{if(_.type===tJ){for(let m of _.payload.actions)this.emitter.emit(m.type,{realAction:m,state:h.getState()});let v=m(_);for(let h of _.payload.actions)this.emitter.emit(`after:${_.type}`,{action:_,state:v});return v}this.emitter.emit(_.type,{action:_,state:h.getState()});let v=m(_);return this.emitter.emit(`after:${_.type}`,{action:_,state:v}),v};serialize(h,m){return function(h,m,_){if(!m.type||!m.id)throw Error("Unknown entity");if(!_[m.type])throw Error(`Serializer not found for ${m.type}`);return function flatten(v){let b=_[v.type];if(!b)return td;let A=function(h,m){let _=h.requests[m],v=h.mapping[m];if(v&&(!_||!_.resourceUri||h.entities[v][_.resourceUri]))return h.entities[v][_?_.resourceUri:m]}(h,v.id)||(v.id&&v.type?v:null);if(!A)return td;let C=b(A,h,{isTopLevel:m.id===v.id}),S=C.next();for(;!S.done;){let h=S.value,m=td;if(h){if(Array.isArray(h)){let _=[];for(let m of h)_.push(flatten(m));m=_}else m=flatten(h)}S=C.next(m)}return S.value===td?td:function(h){let m={};for(let[_,v]of h){if(_===th&&v!==td)return v;v!==td&&null!=v&&(m[_]=v)}return m}(S.value)}(m)}(this.getState().iiif,h,m)}toPresentation2(h){return this.serialize(h,tp)}toPresentation3(h){return this.serialize(h,tm)}hydrate(h,m){return this.get(h,m,{skipSelfReturn:!1})}get(h,m,_={}){"string"!=typeof m&&(_=m||{},m=void 0);let{skipSelfReturn:v=!0}=_||{};if(Array.isArray(h))return h.map(h=>this.get(h,_));let b=this.getState();if("string"==typeof h){let _=m||b.iiif.mapping[h];if(!_)return v?null:{id:h,type:"unknown"};h={id:h,type:_}}let A=m||h.type,C=h.id,S=b.iiif.entities[A];if(!S){let m=b.iiif.requests[C];return m&&m.resourceUri!==C?this.get(m.resourceUri,_):v?null:h}return S[h.id]||(v?null:h)}select(h){return h(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}loadManifest(h,m){let _="string"==typeof h?h:h.id;return this.load(_,m)}loadCollection(h,m){let _="string"==typeof h?h:h.id;return this.load(_,m)}load(h,m){let _="string"==typeof h?h:h.id;return m?this.staticFetcher(_,m):this.remoteFetcher(_)}areInputsEqual(h,m){return areInputsEqual(h,m)}subscribe(h,m,_){void 0===_&&(void 0===m||!1===m||!0===m)&&(_=m,m=h,h=h=>h);let v=_?null:h(this.store.getState());return _||m(v,this),this.store.subscribe(()=>{let _=this.store.getState(),b=h(_);v===b||areInputsEqual(v,b)||m(b,this),v=b})}async ensureLoaded(h){let m="string"==typeof h?h:h.id;this.requestStatus(m)||await this.load(m)}requestStatus(h){return this.select(m=>m.iiif.requests[h])}getResourceMeta(h,m){let _=this.getState().iiif.meta[h];return _?m?_[m]:_:void 0}setMetaValue([h,m,_],v){this.dispatch("function"==typeof v?tH.setMetaValueDynamic({id:h,meta:m,key:_,updateValue:v}):tH.setMetaValue({id:h,meta:m,key:_,value:v}))}};let t4="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var t5={randomUUID:t4};let t6=new Uint8Array(16),t8=[];for(let h=0;h<256;++h)t8.push((h+256).toString(16).slice(1));var esm_browser_v4=function(h,m,_){if(t5.randomUUID&&!m&&!h)return t5.randomUUID();h=h||{};let b=h.random||(h.rng||function(){if(!v&&!(v="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(t6)})();if(b[6]=15&b[6]|64,b[8]=63&b[8]|128,m){_=_||0;for(let h=0;h<16;++h)m[_+h]=b[h];return m}return function(h,m=0){return t8[h[m+0]]+t8[h[m+1]]+t8[h[m+2]]+t8[h[m+3]]+"-"+t8[h[m+4]]+t8[h[m+5]]+"-"+t8[h[m+6]]+t8[h[m+7]]+"-"+t8[h[m+8]]+t8[h[m+9]]+"-"+t8[h[m+10]]+t8[h[m+11]]+t8[h[m+12]]+t8[h[m+13]]+t8[h[m+14]]+t8[h[m+15]]}(b)};let t9=window.OpenSeadragon;if(!t9&&!(t9=eO))throw Error("OpenSeadragon is missing.");let t7="http://www.w3.org/2000/svg";t9.Viewer&&(t9.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new H(this)),this._svgOverlayInfo});let H=function(h){let m=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(t7,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(t7,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){m.resize()}),this._viewer.addHandler("open",function(){m.resize()}),this._viewer.addHandler("rotate",function(){m.resize()}),this._viewer.addHandler("flip",function(){m.resize()}),this._viewer.addHandler("resize",function(){m.resize()}),this.resize()};H.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new t9.Point(0,0),!0),m=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),v=this._viewer.viewport.getFlip(),b=this._viewer.viewport._containerInnerSize.x,A=b*m,C=A;v&&(A=-A,h.x=-h.x+b),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+A+","+C+") rotate("+_+")")},onClick:function(h,m){new t9.MouseTracker({element:h,clickHandler:m}).setTracking(!0)}};let R=h=>fetch(`${h.replace(/\/$/,"")}/info.json`).then(h=>h.json()).then(h=>h).catch(m=>{console.error(`The IIIF tilesource ${h.replace(/\/$/,"")}/info.json failed to load: ${m}`)}),W=h=>{let m,_;return Array.isArray(h)&&(m=h[0])&&(_="@id"in m?m["@id"]:m.id),_};var ne=((S=ne||{}).TiledImage="tiledImage",S.SimpleImage="simpleImage",S);let D=h=>{let m=Array.isArray(null==h?void 0:h.service)&&(null==h?void 0:h.service.length)>0,_=m?W(null==h?void 0:h.service):null==h?void 0:h.id,v=m?ne.TiledImage:ne.SimpleImage;return{uri:_,imageType:v}},N=(h,m)=>{let _=m?ne.TiledImage:ne.SimpleImage;return{uri:h,imageType:_}},{styled:nn,css:nr,keyframes:ni,createTheme:na}=(0,eL.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),ns=nn("div",{display:"flex",flexDirection:"column",alignItems:"center"}),nl=nn("p",{fontWeight:"bold",fontSize:"x-large"}),nc=nn("span",{fontSize:"medium"}),Y=({error:h})=>{let{message:m}=h;return eD.createElement(ns,{role:"alert"},eD.createElement(nl,{"data-testid":"headline"},"Something went wrong"),m&&eD.createElement(nc,null,`Error message: ${m}`," "))},nu=nn("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),nd=nn("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),nh=nn("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${nu}`]:{display:"block"}},false:{[`${nu}`]:{display:"none"}}}}}),np=nn("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),f=({className:h,id:m,label:_,children:v})=>{let b=_.toLowerCase().replace(/\s/g,"-");return eD.createElement(np,{id:m,className:h,"data-testid":"openseadragon-button","data-button":b},eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${m}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eD.createElement("title",{id:`${m}-svg-title`},_),v))},nm=nn("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),nf={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},ng=(I=null==(ei=null==(er=null==nf?void 0:nf.informationPanel)?void 0:er.vtt)?void 0:ei.autoScroll,A={...nf.informationPanel.vtt.autoScroll},"object"==typeof I&&(A="enabled"in I?I:{enabled:!0,settings:I}),!1===I&&(A.enabled=!1),function({behavior:h,block:m}){let _=["auto","instant","smooth"],v=["center","end","nearest","start"];if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`);if(!v.includes(m))throw TypeError(`'${m}' not in ${v.join(" | ")}`)}(A.settings),A),n_={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:nf,customDisplays:[],plugins:[],isAutoScrollEnabled:ng.enabled,isAutoScrolling:!1,isInformationOpen:null==(ea=null==nf?void 0:nf.informationPanel)?void 0:ea.open,isLoaded:!1,isUserScrolling:void 0,vault:new Vault,contentSearchVault:new Vault,openSeadragonViewer:null,viewerId:esm_browser_v4()},nE=eD.createContext(n_),nv=eD.createContext(n_);function k(){let h=eD.useContext(nE);if(void 0===h)throw Error("useViewerState must be used within a ViewerProvider");return h}function P(){let h=eD.useContext(nv);if(void 0===h)throw Error("useViewerDispatch must be used within a ViewerProvider");return h}let ae=()=>eD.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),se=()=>eD.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),le=()=>eD.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),ce=()=>eD.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),z=()=>eD.createElement(eD.Fragment,null,eD.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eD.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),de=({_cloverViewerHasPlaceholder:h,config:m})=>{let _=k(),{activeCanvas:v,plugins:b,vault:A}=_,C=A.get({id:v,type:"Canvas"});return eD.createElement(nm,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:h},m.showZoomControl&&eD.createElement(eD.Fragment,null,eD.createElement(f,{id:m.zoomInButton,label:"zoom in"},eD.createElement(ae,null)),eD.createElement(f,{id:m.zoomOutButton,label:"zoom out"},eD.createElement(se,null))),m.showFullPageControl&&eD.createElement(f,{id:m.fullPageButton,label:"full page"},eD.createElement(le,null)),m.showRotationControl&&eD.createElement(eD.Fragment,null,eD.createElement(f,{id:m.rotateRightButton,label:"rotate right"},eD.createElement(z,null)),eD.createElement(f,{id:m.rotateLeftButton,label:"rotate left"},eD.createElement(z,null))),m.showHomeControl&&eD.createElement(f,{id:m.homeButton,label:"reset"},eD.createElement(ce,null)),b.filter(h=>{var m;return null==(m=h.imageViewer)?void 0:m.controls}).map((h,m)=>{var _,v,b,A;let S=null==(v=null==(_=h.imageViewer)?void 0:_.controls)?void 0:v.component;return eD.createElement(S,{key:m,...null==(A=null==(b=null==h?void 0:h.imageViewer)?void 0:b.controls)?void 0:A.componentProps,canvas:C,useViewerDispatch:P,useViewerState:k})}))},ue=({ariaLabel:h,config:m,uri:_,_cloverViewerHasPlaceholder:v,imageType:b,openSeadragonCallback:A})=>{let[C,S]=(0,eD.useState)(),[I,w]=(0,eD.useState)(),O=P(),L=(0,eD.useRef)(!1);return(0,eD.useEffect)(()=>(L.current||(L.current=!0,I||w(eO(m))),()=>null==I?void 0:I.destroy()),[]),(0,eD.useEffect)(()=>{I&&A&&A(I)},[I,A]),(0,eD.useEffect)(()=>{I&&_!==C&&(null==I||I.forceRedraw(),S(_))},[I,C,_]),(0,eD.useEffect)(()=>{if(C&&I)switch(b){case"simpleImage":null==I||I.addSimpleImage({url:C});break;case"tiledImage":R(C).then(h=>{try{if(!h)throw Error(`No tile source found for ${C}`);null==I||I.addTiledImage({tileSource:h,success:()=>{"function"==typeof O&&O({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(h){console.error(h)}});break;default:null==I||I.close(),console.warn(`Unable to render ${C} in OpenSeadragon as type: "${b}"`)}},[b,C]),eD.createElement(nh,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":m.id,hasNavigator:m.showNavigator},eD.createElement(de,{_cloverViewerHasPlaceholder:v,config:m}),m.showNavigator&&eD.createElement(nu,{id:m.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eD.createElement(nd,{id:m.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...h&&{"aria-label":h}}))},me=(h,m="none")=>{if(!h)return null;if("string"==typeof h)return[h];if(!h[m]){let m=Object.getOwnPropertyNames(h);if(m.length>0)return h[m[0]]}return h[m]&&Array.isArray(h[m])?h[m]:null},pe=(h,m="none",_=", ")=>{let v=me(h,m);return Array.isArray(v)?v.join(`${_}`):v},Ce=({_cloverViewerHasPlaceholder:h=!1,body:m,instanceId:_,isTiledImage:v=!1,label:b,src:A="",openSeadragonCallback:C,openSeadragonConfig:S={}})=>{let I=_||esm_browser_v4(),w="string"==typeof b?b:pe(b),O={id:`openseadragon-${I}`,navigatorId:`openseadragon-navigator-${I}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${I}`,homeButton:`reset-${I}`,rotateLeftButton:`rotateLeft-${I}`,rotateRightButton:`rotateRight-${I}`,zoomInButton:`zoomIn-${I}`,zoomOutButton:`zoomOut-${I}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...S},{imageType:L,uri:M}=m?D(m):N(A,v);return M?eD.createElement(eR.SV,{FallbackComponent:Y},eD.createElement(ue,{_cloverViewerHasPlaceholder:h,ariaLabel:w,config:O,imageType:L,key:I,uri:M,openSeadragonCallback:C})):null};var nT=_(1830),ny=_(1036),nb=_(3041);let nk="object"==typeof self?self:globalThis,deserializer=(h,m)=>{let as=(m,_)=>(h.set(_,m),m),unpair=_=>{if(h.has(_))return h.get(_);let[v,b]=m[_];switch(v){case 0:case -1:return as(b,_);case 1:{let h=as([],_);for(let m of b)h.push(unpair(m));return h}case 2:{let h=as({},_);for(let[m,_]of b)h[unpair(m)]=unpair(_);return h}case 3:return as(new Date(b),_);case 4:{let{source:h,flags:m}=b;return as(new RegExp(h,m),_)}case 5:{let h=as(new Map,_);for(let[m,_]of b)h.set(unpair(m),unpair(_));return h}case 6:{let h=as(new Set,_);for(let m of b)h.add(unpair(m));return h}case 7:{let{name:h,message:m}=b;return as(new nk[h](m),_)}case 8:return as(BigInt(b),_);case"BigInt":return as(Object(BigInt(b)),_)}return as(new nk[v](b),_)};return unpair},deserialize=h=>deserializer(new Map,h)(0),{toString:nA}={},{keys:nx}=Object,typeOf=h=>{let m=typeof h;if("object"!==m||!h)return[0,m];let _=nA.call(h).slice(8,-1);switch(_){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""]}return _.includes("Array")?[1,_]:_.includes("Error")?[7,_]:[2,_]},shouldSkip=([h,m])=>0===h&&("function"===m||"symbol"===m),serializer=(h,m,_,v)=>{let as=(h,m)=>{let b=v.push(h)-1;return _.set(m,b),b},pair=v=>{if(_.has(v))return _.get(v);let[b,A]=typeOf(v);switch(b){case 0:{let m=v;switch(A){case"bigint":b=8,m=v.toString();break;case"function":case"symbol":if(h)throw TypeError("unable to serialize "+A);m=null;break;case"undefined":return as([-1],v)}return as([b,m],v)}case 1:{if(A)return as([A,[...v]],v);let h=[],m=as([b,h],v);for(let m of v)h.push(pair(m));return m}case 2:{if(A)switch(A){case"BigInt":return as([A,v.toString()],v);case"Boolean":case"Number":case"String":return as([A,v.valueOf()],v)}if(m&&"toJSON"in v)return pair(v.toJSON());let _=[],C=as([b,_],v);for(let m of nx(v))(h||!shouldSkip(typeOf(v[m])))&&_.push([pair(m),pair(v[m])]);return C}case 3:return as([b,v.toISOString()],v);case 4:{let{source:h,flags:m}=v;return as([b,{source:h,flags:m}],v)}case 5:{let m=[],_=as([b,m],v);for(let[_,b]of v)(h||!(shouldSkip(typeOf(_))||shouldSkip(typeOf(b))))&&m.push([pair(_),pair(b)]);return _}case 6:{let m=[],_=as([b,m],v);for(let _ of v)(h||!shouldSkip(typeOf(_)))&&m.push(pair(_));return _}}let{message:C}=v;return as([b,{name:A,message:C}],v)};return pair},serialize_serialize=(h,{json:m,lossy:_}={})=>{let v=[];return serializer(!(m||_),!!m,new Map,v)(h),v};var nC="function"==typeof structuredClone?(h,m)=>m&&("json"in m||"lossy"in m)?deserialize(serialize_serialize(h,m)):structuredClone(h):(h,m)=>deserialize(serialize_serialize(h,m));let Schema=class Schema{constructor(h,m,_){this.property=h,this.normal=m,_&&(this.space=_)}};function merge_merge(h,m){let _={},v={},b=-1;for(;++b<h.length;)Object.assign(_,h[b].property),Object.assign(v,h[b].normal);return new Schema(_,v,m)}function normalize_normalize(h){return h.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;let Info=class Info{constructor(h,m){this.property=h,this.attribute=m}};Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let nS=0,nI=increment(),nw=increment(),nN=increment(),nO=increment(),nR=increment(),nL=increment(),nD=increment();function increment(){return 2**++nS}let nP=Object.keys(ew);let DefinedInfo=class DefinedInfo extends Info{constructor(h,m,_,v){var b,A;let C=-1;if(super(h,m),v&&(this.space=v),"number"==typeof _)for(;++C<nP.length;){let h=nP[C];b=nP[C],(A=(_&ew[h])===ew[h])&&(this[b]=A)}}};DefinedInfo.prototype.defined=!0;let nM={}.hasOwnProperty;function create(h){let m;let _={},v={};for(m in h.properties)if(nM.call(h.properties,m)){let b=h.properties[m],A=new DefinedInfo(m,h.transform(h.attributes||{},m),b,h.space);h.mustUseProperty&&h.mustUseProperty.includes(m)&&(A.mustUseProperty=!0),_[m]=A,v[normalize_normalize(m)]=m,v[normalize_normalize(A.attribute)]=m}return new Schema(_,v,h.space)}let nF=create({space:"xlink",transform:(h,m)=>"xlink:"+m.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),nB=create({space:"xml",transform:(h,m)=>"xml:"+m.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(h,m){return m in h?h[m]:m}function caseInsensitiveTransform(h,m){return caseSensitiveTransform(h,m.toLowerCase())}let nH=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),nU=create({transform:(h,m)=>"role"===m?m:"aria-"+m.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:nw,ariaAutoComplete:null,ariaBusy:nw,ariaChecked:nw,ariaColCount:nO,ariaColIndex:nO,ariaColSpan:nO,ariaControls:nR,ariaCurrent:null,ariaDescribedBy:nR,ariaDetails:null,ariaDisabled:nw,ariaDropEffect:nR,ariaErrorMessage:null,ariaExpanded:nw,ariaFlowTo:nR,ariaGrabbed:nw,ariaHasPopup:null,ariaHidden:nw,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nR,ariaLevel:nO,ariaLive:null,ariaModal:nw,ariaMultiLine:nw,ariaMultiSelectable:nw,ariaOrientation:null,ariaOwns:nR,ariaPlaceholder:null,ariaPosInSet:nO,ariaPressed:nw,ariaReadOnly:nw,ariaRelevant:null,ariaRequired:nw,ariaRoleDescription:nR,ariaRowCount:nO,ariaRowIndex:nO,ariaRowSpan:nO,ariaSelected:nw,ariaSetSize:nO,ariaSort:null,ariaValueMax:nO,ariaValueMin:nO,ariaValueNow:nO,ariaValueText:null,role:null}}),n$=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nL,acceptCharset:nR,accessKey:nR,action:null,allow:null,allowFullScreen:nI,allowPaymentRequest:nI,allowUserMedia:nI,alt:null,as:null,async:nI,autoCapitalize:null,autoComplete:nR,autoFocus:nI,autoPlay:nI,blocking:nR,capture:null,charSet:null,checked:nI,cite:null,className:nR,cols:nO,colSpan:null,content:null,contentEditable:nw,controls:nI,controlsList:nR,coords:nO|nL,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nI,defer:nI,dir:null,dirName:null,disabled:nI,download:nN,draggable:nw,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nI,formTarget:null,headers:nR,height:nO,hidden:nI,high:nO,href:null,hrefLang:null,htmlFor:nR,httpEquiv:nR,id:null,imageSizes:null,imageSrcSet:null,inert:nI,inputMode:null,integrity:null,is:null,isMap:nI,itemId:null,itemProp:nR,itemRef:nR,itemScope:nI,itemType:nR,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nI,low:nO,manifest:null,max:null,maxLength:nO,media:null,method:null,min:null,minLength:nO,multiple:nI,muted:nI,name:null,nonce:null,noModule:nI,noValidate:nI,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nI,optimum:nO,pattern:null,ping:nR,placeholder:null,playsInline:nI,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nI,referrerPolicy:null,rel:nR,required:nI,reversed:nI,rows:nO,rowSpan:nO,sandbox:nR,scope:null,scoped:nI,seamless:nI,selected:nI,shadowRootClonable:nI,shadowRootDelegatesFocus:nI,shadowRootMode:null,shape:null,size:nO,sizes:null,slot:null,span:nO,spellCheck:nw,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nO,step:null,style:null,tabIndex:nO,target:null,title:null,translate:null,type:null,typeMustMatch:nI,useMap:null,value:nw,width:nO,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nR,axis:null,background:null,bgColor:null,border:nO,borderColor:null,bottomMargin:nO,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nI,declare:nI,event:null,face:null,frame:null,frameBorder:null,hSpace:nO,leftMargin:nO,link:null,longDesc:null,lowSrc:null,marginHeight:nO,marginWidth:nO,noResize:nI,noHref:nI,noShade:nI,noWrap:nI,object:null,profile:null,prompt:null,rev:null,rightMargin:nO,rules:null,scheme:null,scrolling:nw,standby:null,summary:null,text:null,topMargin:nO,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nO,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nI,disableRemotePlayback:nI,prefix:null,property:null,results:nO,security:null,unselectable:null}}),nz=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:nD,accentHeight:nO,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nO,amplitude:nO,arabicForm:null,ascent:nO,attributeName:null,attributeType:null,azimuth:nO,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nO,by:null,calcMode:null,capHeight:nO,className:nR,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nO,diffuseConstant:nO,direction:null,display:null,dur:null,divisor:nO,dominantBaseline:null,download:nI,dx:null,dy:null,edgeMode:null,editable:null,elevation:nO,enableBackground:null,end:null,event:null,exponent:nO,externalResourcesRequired:null,fill:null,fillOpacity:nO,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nL,g2:nL,glyphName:nL,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nO,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nO,horizOriginX:nO,horizOriginY:nO,id:null,ideographic:nO,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nO,k:nO,k1:nO,k2:nO,k3:nO,k4:nO,kernelMatrix:nD,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nO,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nO,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nO,overlineThickness:nO,paintOrder:null,panose1:null,path:null,pathLength:nO,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nR,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nO,pointsAtY:nO,pointsAtZ:nO,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nD,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nD,rev:nD,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nD,requiredFeatures:nD,requiredFonts:nD,requiredFormats:nD,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nO,specularExponent:nO,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nO,strikethroughThickness:nO,string:null,stroke:null,strokeDashArray:nD,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nO,strokeOpacity:nO,strokeWidth:null,style:null,surfaceScale:nO,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nD,tabIndex:nO,tableValues:null,target:null,targetX:nO,targetY:nO,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nD,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nO,underlineThickness:nO,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nO,values:null,vAlphabetic:nO,vMathematical:nO,vectorEffect:null,vHanging:nO,vIdeographic:nO,version:null,vertAdvY:nO,vertOriginX:nO,vertOriginY:nO,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nO,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),nG=merge_merge([nB,nF,nH,nU,n$],"html"),nj=merge_merge([nB,nF,nH,nU,nz],"svg");function parse(h){let m=[],_=String(h||""),v=_.indexOf(","),b=0,A=!1;for(;!A;){-1===v&&(v=_.length,A=!0);let h=_.slice(b,v).trim();(h||!A)&&m.push(h),b=v+1,v=_.indexOf(",",b)}return m}function comma_separated_tokens_stringify(h,m){let _=m||{},v=""===h[h.length-1]?[...h,""]:h;return v.join((_.padRight?" ":"")+","+(!1===_.padLeft?"":" ")).trim()}let nV=/[#.]/g,nq=/^data[-\w.:]+$/i,nW=/-[a-z]/g,nY=/[A-Z]/g;function find(h,m){let _=normalize_normalize(m),v=m,b=Info;if(_ in h.normal)return h.property[h.normal[_]];if(_.length>4&&"data"===_.slice(0,4)&&nq.test(m)){if("-"===m.charAt(4)){let h=m.slice(5).replace(nW,camelcase);v="data"+h.charAt(0).toUpperCase()+h.slice(1)}else{let h=m.slice(4);if(!nW.test(h)){let _=h.replace(nY,kebab);"-"!==_.charAt(0)&&(_="-"+_),m="data"+_}}b=DefinedInfo}return new b(v,m)}function kebab(h){return"-"+h.toLowerCase()}function camelcase(h){return h.charAt(1).toUpperCase()}function space_separated_tokens_parse(h){let m=String(h||"").trim();return m?m.split(/[ \t\n\r\f]+/g):[]}function space_separated_tokens_stringify(h){return h.join(" ").trim()}let nQ=new Set(["button","menu","reset","submit"]),nX={}.hasOwnProperty;function createH(h,m,_){let v=_&&function(h){let m={},_=-1;for(;++_<h.length;)m[h[_].toLowerCase()]=h[_];return m}(_);return function(_,b,...A){let C,S=-1;if(null==_)C={type:"root",children:[]},A.unshift(b);else{var I;if((C=function(h,m){let _,v;let b=h||"",A={},C=0;for(;C<b.length;){nV.lastIndex=C;let h=nV.exec(b),m=b.slice(C,h?h.index:b.length);m&&(_?"#"===_?A.id=m:Array.isArray(A.className)?A.className.push(m):A.className=[m]:v=m,C+=m.length),h&&(_=h[0],C++)}return{type:"element",tagName:v||m||"div",properties:A,children:[]}}(_,m)).tagName=C.tagName.toLowerCase(),v&&nX.call(v,C.tagName)&&(C.tagName=v[C.tagName]),I=C.tagName,!(null==b||"object"!=typeof b||Array.isArray(b))&&("input"===I||!b.type||"string"!=typeof b.type||!("children"in b&&Array.isArray(b.children))&&("button"===I?nQ.has(b.type.toLowerCase()):!("value"in b)))){let m;for(m in b)nX.call(b,m)&&function(h,m,_,v){let b;let A=find(h,_),C=-1;if(null!=v){if("number"==typeof v){if(Number.isNaN(v))return;b=v}else b="boolean"==typeof v?v:"string"==typeof v?A.spaceSeparated?space_separated_tokens_parse(v):A.commaSeparated?parse(v):A.commaOrSpaceSeparated?space_separated_tokens_parse(parse(v).join(" ")):parsePrimitive(A,A.property,v):Array.isArray(v)?v.concat():"style"===A.property?function(h){let m;let _=[];for(m in h)nX.call(h,m)&&_.push([m,h[m]].join(": "));return _.join("; ")}(v):String(v);if(Array.isArray(b)){let h=[];for(;++C<b.length;){let m=parsePrimitive(A,A.property,b[C]);h[C]=m}b=h}if("className"===A.property&&Array.isArray(m.className)){let h=b;b=m.className.concat(h)}m[A.property]=b}}(h,C.properties,m,b[m])}else A.unshift(b)}for(;++S<A.length;)!function addChild(h,m){let _=-1;if(null==m);else if("string"==typeof m||"number"==typeof m)h.push({type:"text",value:String(m)});else if(Array.isArray(m))for(;++_<m.length;)addChild(h,m[_]);else if("object"==typeof m&&"type"in m)"root"===m.type?addChild(h,m.children):h.push(m);else throw Error("Expected node, nodes, or string, got `"+m+"`")}(C.children,A[S]);return"element"===C.type&&"template"===C.tagName&&(C.content={type:"root",children:C.children},C.children=[]),C}}function parsePrimitive(h,m,_){if("string"==typeof _){if(h.number&&_&&!Number.isNaN(Number(_)))return Number(_);if((h.boolean||h.overloadedBoolean)&&(""===_||normalize_normalize(_)===normalize_normalize(m)))return!0}return _}let nK=createH(nG,"div"),nJ=createH(nj,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function next(h,m){let _=h.indexOf("\r",m),v=h.indexOf("\n",m);return -1===v?_:-1===_||_+1===v?v:_<v?_:v}let nZ={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},n0={}.hasOwnProperty,n1=Object.prototype;function one(h,m){let _;switch(m.nodeName){case"#comment":return _={type:"comment",value:m.data},patch(h,m,_),_;case"#document":case"#document-fragment":{let v="mode"in m&&("quirks"===m.mode||"limited-quirks"===m.mode);if(_={type:"root",children:lib_all(h,m.childNodes),data:{quirksMode:v}},h.file&&h.location){let m=String(h.file),v=function(h){let m=String(h),_=[];return{toOffset:function(h){if(h&&"number"==typeof h.line&&"number"==typeof h.column&&!Number.isNaN(h.line)&&!Number.isNaN(h.column)){for(;_.length<h.line;){let h=_[_.length-1],v=next(m,h),b=-1===v?m.length+1:v+1;if(h===b)break;_.push(b)}let v=(h.line>1?_[h.line-2]:0)+h.column-1;if(v<_[h.line-1])return v}},toPoint:function(h){if("number"==typeof h&&h>-1&&h<=m.length){let v=0;for(;;){let b=_[v];if(void 0===b){let h=next(m,_[v-1]);b=-1===h?m.length+1:h+1,_[v]=b}if(b>h)return{line:v+1,column:h-(v>0?_[v-1]:0)+1,offset:h};v++}}}}}(m),b=v.toPoint(0),A=v.toPoint(m.length);_.position={start:b,end:A}}return _}case"#documentType":return patch(h,m,_={type:"doctype"}),_;case"#text":return _={type:"text",value:m.value},patch(h,m,_),_;default:return function(h,m){let _=h.schema;h.schema=m.namespaceURI===nZ.svg?nj:nG;let v=-1,b={};for(;++v<m.attrs.length;){let h=m.attrs[v],_=(h.prefix?h.prefix+":":"")+h.name;n0.call(n1,_)||(b[_]=h.value)}let A="svg"===h.schema.space?nJ:nK,C=A(m.tagName,b,lib_all(h,m.childNodes));if(patch(h,m,C),"template"===C.tagName){let _=m.sourceCodeLocation,v=_&&_.startTag&&position(_.startTag),b=_&&_.endTag&&position(_.endTag),A=one(h,m.content);v&&b&&h.file&&(A.position={start:v.end,end:b.start}),C.content=A}return h.schema=_,C}(h,m)}}function lib_all(h,m){let _=-1,v=[];for(;++_<m.length;){let b=one(h,m[_]);v.push(b)}return v}function patch(h,m,_){if("sourceCodeLocation"in m&&m.sourceCodeLocation&&h.file){let v=function(h,m,_){let v=position(_);if("element"===m.type){let b=m.children[m.children.length-1];if(v&&!_.endTag&&b&&b.position&&b.position.end&&(v.end=Object.assign({},b.position.end)),h.verbose){let v;let b={};if(_.attrs)for(v in _.attrs)n0.call(_.attrs,v)&&(b[find(h.schema,v).property]=position(_.attrs[v]));_.startTag;let A=position(_.startTag),C=_.endTag?position(_.endTag):void 0,S={opening:A};C&&(S.closing=C),S.properties=b,m.data={position:S}}}return v}(h,_,m.sourceCodeLocation);v&&(h.location=!0,_.position=v)}}function position(h){let m=point({line:h.startLine,column:h.startCol,offset:h.startOffset}),_=point({line:h.endLine,column:h.endCol,offset:h.endOffset});return m||_?{start:m,end:_}:void 0}function point(h){return h.line&&h.column?h:void 0}let n2={}.hasOwnProperty;function zwitch(h,m){let _=m||{};function one(m,..._){let v=one.invalid,b=one.handlers;if(m&&n2.call(m,h)){let _=String(m[h]);v=n2.call(b,_)?b[_]:one.unknown}if(v)return v.call(this,m,..._)}return one.handlers=_.handlers||{},one.invalid=_.invalid,one.unknown=_.unknown,one}let n3={},n4={}.hasOwnProperty,n5=zwitch("type",{handlers:{root:function(h,m){let _={nodeName:"#document",mode:(h.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return _.childNodes=hast_util_to_parse5_lib_all(h.children,_,m),lib_patch(h,_),_},element:function(h,m){let _;let v=m;"element"===h.type&&"svg"===h.tagName.toLowerCase()&&"html"===m.space&&(v=nj);let b=[];if(h.properties){for(_ in h.properties)if("children"!==_&&n4.call(h.properties,_)){let m=function(h,m,_){let v=find(h,m);if(!1===_||null==_||"number"==typeof _&&Number.isNaN(_)||!_&&v.boolean)return;Array.isArray(_)&&(_=v.commaSeparated?comma_separated_tokens_stringify(_):space_separated_tokens_stringify(_));let b={name:v.attribute,value:!0===_?"":String(_)};if(v.space&&"html"!==v.space&&"svg"!==v.space){let h=b.name.indexOf(":");h<0?b.prefix="":(b.name=b.name.slice(h+1),b.prefix=v.attribute.slice(0,h)),b.namespace=nZ[v.space]}return b}(v,_,h.properties[_]);m&&b.push(m)}}let A=v.space,C={nodeName:h.tagName,tagName:h.tagName,attrs:b,namespaceURI:nZ[A],childNodes:[],parentNode:null};return C.childNodes=hast_util_to_parse5_lib_all(h.children,C,v),lib_patch(h,C),"template"===h.tagName&&h.content&&(C.content=function(h,m){let _={nodeName:"#document-fragment",childNodes:[]};return _.childNodes=hast_util_to_parse5_lib_all(h.children,_,m),lib_patch(h,_),_}(h.content,v)),C},text:function(h){let m={nodeName:"#text",value:h.value,parentNode:null};return lib_patch(h,m),m},comment:function(h){let m={nodeName:"#comment",data:h.value,parentNode:null};return lib_patch(h,m),m},doctype:function(h){let m={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return lib_patch(h,m),m}}});function hast_util_to_parse5_lib_all(h,m,_){let v=-1,b=[];if(h)for(;++v<h.length;){let A=n5(h[v],_);A.parentNode=m,b.push(A)}return b}function lib_patch(h,m){let _=h.position;_&&_.start&&_.end&&(_.start.offset,_.end.offset,m.sourceCodeLocation={startLine:_.start.line,startCol:_.start.column,startOffset:_.start.offset,endLine:_.end.line,endCol:_.end.column,endOffset:_.end.offset})}let n6=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],n8=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);(w=eo=eo||(eo={}))[w.EOF=-1]="EOF",w[w.NULL=0]="NULL",w[w.TABULATION=9]="TABULATION",w[w.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",w[w.LINE_FEED=10]="LINE_FEED",w[w.FORM_FEED=12]="FORM_FEED",w[w.SPACE=32]="SPACE",w[w.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",w[w.QUOTATION_MARK=34]="QUOTATION_MARK",w[w.NUMBER_SIGN=35]="NUMBER_SIGN",w[w.AMPERSAND=38]="AMPERSAND",w[w.APOSTROPHE=39]="APOSTROPHE",w[w.HYPHEN_MINUS=45]="HYPHEN_MINUS",w[w.SOLIDUS=47]="SOLIDUS",w[w.DIGIT_0=48]="DIGIT_0",w[w.DIGIT_9=57]="DIGIT_9",w[w.SEMICOLON=59]="SEMICOLON",w[w.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",w[w.EQUALS_SIGN=61]="EQUALS_SIGN",w[w.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",w[w.QUESTION_MARK=63]="QUESTION_MARK",w[w.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",w[w.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",w[w.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",w[w.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",w[w.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",w[w.GRAVE_ACCENT=96]="GRAVE_ACCENT",w[w.LATIN_SMALL_A=97]="LATIN_SMALL_A",w[w.LATIN_SMALL_F=102]="LATIN_SMALL_F",w[w.LATIN_SMALL_X=120]="LATIN_SMALL_X",w[w.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",w[w.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";let n9={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(h){return h>=55296&&h<=57343}function isControlCodePoint(h){return 32!==h&&10!==h&&13!==h&&9!==h&&12!==h&&h>=1&&h<=31||h>=127&&h<=159}function isUndefinedCodePoint(h){return h>=64976&&h<=65007||n8.has(h)}(O=es=es||(es={})).controlCharacterInInputStream="control-character-in-input-stream",O.noncharacterInInputStream="noncharacter-in-input-stream",O.surrogateInInputStream="surrogate-in-input-stream",O.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",O.endTagWithAttributes="end-tag-with-attributes",O.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",O.unexpectedSolidusInTag="unexpected-solidus-in-tag",O.unexpectedNullCharacter="unexpected-null-character",O.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",O.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",O.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",O.missingEndTagName="missing-end-tag-name",O.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",O.unknownNamedCharacterReference="unknown-named-character-reference",O.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",O.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",O.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",O.eofBeforeTagName="eof-before-tag-name",O.eofInTag="eof-in-tag",O.missingAttributeValue="missing-attribute-value",O.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",O.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",O.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",O.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",O.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",O.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",O.missingDoctypePublicIdentifier="missing-doctype-public-identifier",O.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",O.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",O.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",O.cdataInHtmlContent="cdata-in-html-content",O.incorrectlyOpenedComment="incorrectly-opened-comment",O.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",O.eofInDoctype="eof-in-doctype",O.nestedComment="nested-comment",O.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",O.eofInComment="eof-in-comment",O.incorrectlyClosedComment="incorrectly-closed-comment",O.eofInCdata="eof-in-cdata",O.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",O.nullCharacterReference="null-character-reference",O.surrogateCharacterReference="surrogate-character-reference",O.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",O.controlCharacterReference="control-character-reference",O.noncharacterCharacterReference="noncharacter-character-reference",O.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",O.missingDoctypeName="missing-doctype-name",O.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",O.duplicateAttribute="duplicate-attribute",O.nonConformingDoctype="non-conforming-doctype",O.missingDoctype="missing-doctype",O.misplacedDoctype="misplaced-doctype",O.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",O.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",O.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",O.openElementsLeftAfterEof="open-elements-left-after-eof",O.abandonedHeadElementChild="abandoned-head-element-child",O.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",O.nestedNoscriptInHead="nested-noscript-in-head",O.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";let Preprocessor=class Preprocessor{constructor(h){this.handler=h,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(h){let{line:m,col:_,offset:v}=this;return{code:h,startLine:m,endLine:m,startCol:_,endCol:_,startOffset:v,endOffset:v}}_err(h){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(h)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(h){if(this.pos!==this.html.length-1){let m=this.html.charCodeAt(this.pos+1);if(m>=56320&&m<=57343)return this.pos++,this._addGap(),(h-55296)*1024+9216+m}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,eo.EOF;return this._err(es.surrogateInInputStream),h}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(h,m){this.html.length>0?this.html+=h:this.html=h,this.endOfChunkHit=!1,this.lastChunkWritten=m}insertHtmlAtCurrentPos(h){this.html=this.html.substring(0,this.pos+1)+h+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(h,m){if(this.pos+h.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(m)return this.html.startsWith(h,this.pos);for(let m=0;m<h.length;m++){let _=32|this.html.charCodeAt(this.pos+m);if(_!==h.charCodeAt(m))return!1}return!0}peek(h){let m=this.pos+h;if(m>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,eo.EOF;let _=this.html.charCodeAt(m);return _===eo.CARRIAGE_RETURN?eo.LINE_FEED:_}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,eo.EOF;let h=this.html.charCodeAt(this.pos);if(h===eo.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,eo.LINE_FEED;if(h===eo.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,isSurrogate(h)&&(h=this._processSurrogate(h));let m=null===this.handler.onParseError||h>31&&h<127||h===eo.LINE_FEED||h===eo.CARRIAGE_RETURN||h>159&&h<64976;return m||this._checkForProblematicCharacters(h),h}_checkForProblematicCharacters(h){isControlCodePoint(h)?this._err(es.controlCharacterInInputStream):isUndefinedCodePoint(h)&&this._err(es.noncharacterInInputStream)}retreat(h){for(this.pos-=h;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};function getTokenAttr(h,m){for(let _=h.attrs.length-1;_>=0;_--)if(h.attrs[_].name===m)return h.attrs[_].value;return null}(L=el=el||(el={}))[L.CHARACTER=0]="CHARACTER",L[L.NULL_CHARACTER=1]="NULL_CHARACTER",L[L.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",L[L.START_TAG=3]="START_TAG",L[L.END_TAG=4]="END_TAG",L[L.COMMENT=5]="COMMENT",L[L.DOCTYPE=6]="DOCTYPE",L[L.EOF=7]="EOF",L[L.HIBERNATION=8]="HIBERNATION";var n7=new Uint16Array('<\xd5\x00\x00\x00\x00\x00\x00EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\xc6P&cute\xc1reve;iyx}rc\xc2;r;\ud835\udd04rave\xc0pha;acr;d;gp\x9d\xa1on;f;\ud835\udd38plyFunction;ing\xc5cs\xbe\xc3r;\ud835\udc9cign;ilde\xc3ml\xc4aceforsu\xe5\xfb\xfecr\xea\xf2kslash;\xf6\xf8;ed;y;crtause;noullis;a;r;\ud835\udd05pf;\ud835\udd39eve;c\xf2mpeq;HOacdefhilorsucy;PY\xa9cpyute;;italDifferentialD;leys;aeioron;dil\xc7rc;nint;ot;dnilla;terDot;\xf2i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;\ud835\udc9ep;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;\ud835\udd07afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\x00\x00\x00\x00f;\ud835\udd3b;DEot;qual;bleCDLRUVontourIntegra\xeco\x00\x00\xbbnArrow;eoftARTrrow;ightArrow;e\xe5ngLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\x00\x00rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\x00\x00ightVector;eeVector;ector;Bar;ight\x00eeVector;ector;Bar;ee;Arrow;ctr;\ud835\udc9frok;NTacdfglmopqstuxG;H\xd0cute\xc9aiyron;rc\xca;ot;r;\ud835\udd08rave\xc8ement;apcr;ty\x00\x00mallSquare;erySmallSquare;gpon;f;\ud835\udd3csilon;uail;Tilde;librium;cir;m;a;ml\xcbipsts;onentialE;cfiosy;r;\ud835\udd09lled\x00\x00mallSquare;erySmallSquare;\x00\x00\x00f;\ud835\udd3dAll;riertrf;c\xf2JTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;\ud835\udd0a;pf;\ud835\udd3eeaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;\ud835\udca2;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\x00f;izontalLine;ct\xf2rok;mpownHum\xf0qual;EJOacdfgmnostucy;lig;cy;cute\xcdiyrc\xce;ot;r;rave\xcc;apcgr;inaryI;lie\xf3\x00;egrral;section;isibleCTomma;imes;gpton;f;\ud835\udd40a;cr;ilde;\x00cy;l\xcfcfosuiyrc;;r;\ud835\udd0dpf;\ud835\udd41\x00r;\ud835\udca5rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;\ud835\udd0epf;\ud835\udd42cr;\ud835\udca6JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\x00bleBracket;n\x00eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ight\xe1sEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;\ud835\udd0f;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftaright\xe1ight\xe1f;\ud835\udd43erLReftArrow;ightArrow;cht\xf2;rok;;acefiosup;y;dliumSpace;lintrf;r;\ud835\udd10nusPlus;pf;\ud835\udd44c\xf2;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicn\xeberyThi\xeetedGLreaterGreate\xf2essLes\xf3Line;r;\ud835\udd11Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;\ud835\udca9ilde\xd1;Eacdfgmoprstuvlig;cute\xd3iyrc\xd4;blac;r;\ud835\udd12rave\xd2aeicr;ga;cron;pf;\ud835\udd46enCurlyDQoubleQuote;uote;;clr;\ud835\udcaaash\xd8ide\xd5es;ml\xd6erBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;\ud835\udd13i;;usMinus;ipncareplan\xe5f;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;\ud835\udcab;UfosOT"r;\ud835\udd14pf;cr;\ud835\udcacBEacefhiorsuarr;G\xaecnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;r\xbbo;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\x00bleBracket;n\x00eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;\ud835\udd16ortDLRUownArrow\xbbeftArrow\xbbightArrow\xbbpArrow;gma;allCircle;pf;\ud835\udd4a\x00\x00t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;\ud835\udcaear;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th\xe1;;esrset;Equal;et\xbbHRSacfhiorsORN\xdeADE;Hccy;y;bu;;aeyron;dil;;r;\ud835\udd17ei\x00efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;\ud835\udd4bipleDot;ctr;\ud835\udcafrok;\x00\x00\x00\x00\x00\x00\x00crute\xdar;ocir;r\x00y;ve;iyrc\xdb;blac;r;\ud835\udd18rave\xd9acr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;\ud835\udd4cADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;own\xe1erLReftArrow;ightArrow;i;lon;ing;cr;\ud835\udcb0ilde;ml\xdcDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;\ud835\udd19pf;\ud835\udd4dcr;\ud835\udcb1dash;cefosirc;dge;r;\ud835\udd1apf;\ud835\udd4ecr;\ud835\udcb2fiosr;\ud835\udd1b;pf;\ud835\udd4fcr;\ud835\udcb3AIUacfosucy;cy;cy;cute\xddiyrc;;r;\ud835\udd1cpf;\ud835\udd50cr;\ud835\udcb4ml;Hacdefoscy;cute;ayron;;ot;\x00oWidt\xe8a;r;pf;cr;\ud835\udcb5\x00\x00\x00\x00\x00\x00\x00cute\xe1reve;;Ediuy;;rc\xe2te\xb4;lig\xe6;r\xb2;\ud835\udd1erave\xe0epfpsym;\xe8ha;apcclr;g;\x00\x00;adsvnd;;lope;;;elmrsz;e\xbbsd;a;;;;;;;;t;vb;d;pth;\xbb\xb9arr;gpon;f;\ud835\udd52;Eaeiop;cir;;d;s;rox;e\xf1ing\xe5ctyr;\ud835\udcb6;mp;e\xf1ilde\xe3ml\xe4cionin\xf4nt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;ge\xbbrk;tbrk;oy;quo;cmprtaus;eptyv;s\xe9no\xf5ahw;;een;r;\ud835\udd1fgcostuvwaiu\xf0rc;p\xbbdptot;lus;imes;\x00\x00cup;ar;riangleduown;p;plus;e\xe5\xe5arow;akocnklstozenge;riangle;dlrown;eft;ight;k;\x00\x00;;4;ck;eo;q=uiv;t;ptwxf;\ud835\udd53;tom\xbbtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbar\xa6ceior;\ud835\udcb7mi;m;el;bh;sub;l;et\xbbp;Ee;;q\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00cprute;;abcdsnd;rcup;aup;p;ot;;eot;\xeeaeiu\x00s;on;dil\xe7rc;ps;sm;ot;dmnil\xb8ptyv;t\xa2;er\xe4r;\ud835\udd20ceiy;ck;mark\xbb;r;Ecefms;;elq;e\x00\x00rrowlreft;ight;RSacd\xbb;st;irc;ash;nint;id;cir;ubs;uit\xbb\x00on;e;q\xc7\xc6\x00\x00a;t;;fl\xeeemxent\xbbe\xf3\x00;dot;n\xf4fry;\ud835\udd54o\xe4\xa9;sr;aorr;ss;cur;\ud835\udcb8bp;e;;e;dot;delprvwarrlr;;\x00\x00r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\x00\x00re\xe3u\xe3ee;edge;en\xa4earrowlreft\xbbight\xbbe\xe4cionin\xf4nt;lcty;AHabcdefhijlorstuwzr\xf2ar;glrsger;eth;\xf2h;v\xbbarow;a\xe3ayron;;;aogrr;tseq;glm\xb0ta;ptyv;irsht;;\ud835\udd21arlr\xbb\xbbaegsvm;osnd;suit;amma;in;;iode\xf7;ontimes;n\xf8cy;c\x00\x00rn;op;lptuwlar;f;\ud835\udd55;empsq;dot;inus;lus;quare;blebarwedg\xe5\xfanadhownarrow\xf3arpoonlref\xf4igh\xf4karo\xf7\x00\x00rn;op;cotry;\ud835\udcb9;l;rok;drot;i;fahr\xf2a\xf2angle;ciy;grarr;DacdefglmnopqrstuxDoo\xf4csute\xe9ter;aioyron;r;c\xealon;;ot;Drot;;\ud835\udd22;rsave\xe8;dot;;ilsnters;;;dot;apscr;ty;svet\xbbp1;;;gs;p;gpon;f;\ud835\udd56alsr;sl;us;i;lvon\xbb;csuviorc\xbb\x00\x00\xedantgltr\xbbess\xbbaeils;st;v;DD;parsl;Daot;rr;cdir;o\xf4ah;\xf0mrl\xebo;cipl;s\xf4eoctatio\xeenential\xe5\x00\x00\x00\x00\x00\x00\x00llingdotse\xf1y;male;ilrlig;\x00\x00g;ig;;\ud835\udd23lig;lig;fjaltt;ig;ns;of;\x00f;\ud835\udd57ak;v;artint;aocs\x00\x00\xbd;\xbc;;;\x00;;\x00\x00\xbe;;5;\x00;;8;l;wn;cr;\ud835\udcbbEabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan\xf4;cdlc;ot;o;l;;es;r;\ud835\udd24;gmel;cy;;Eaj;;;Eaes;p;prox\xbb;q;qim;pf;\ud835\udd58cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\x00pro\xf8r;qlqles\xf3i\xedenrtneqq;\xc5Aabcefkosyr\xf2ilmrrs\xf0f\xbbil\xf4drcy;;cwir;;ar;irc;alrrts;uit\xbblip;con;r;\ud835\udd25sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;\ud835\udd59bar;cltr;\ud835\udcbdas\xe8rok;bpull;hen\xbb\x00\x00\x00\x00\x00\x00cute\xed;iyrc\xee;cxy;cl\xa1fr;\ud835\udd26rave\xec;inoinnt;t;fin;ta;lig;aopcgtr;elpin\xe5ar\xf4h;f;ed;;cfotare;in;tie;do\xf4;celpal;grer\xf3\xe3arhk;rod;cgpty;on;f;\ud835\udd5aa;uest\xbfcir;\ud835\udcben;Edsv;ot;;v;;ilde;\x00cy;l\xefcfmosuiyrc;;r;\ud835\udd27ath;pf;\ud835\udd5b\x00r;\ud835\udcbfrcy;kcy;acfghjosppa;v;eydil;;r;\ud835\udd28reen;cy;cy;pf;\ud835\udd5ccr;\ud835\udcc0ABEHabcdefghjlmnoprstuvartr\xf2\xf2ail;arr;;g;ar;\x00\x00\x00\x00\x00\x00\x00\x00\x00ute;mptyv;ra\xeebda;g;dl;\xe5;uo\xabr;bfhlpst;fs;s;\xebp;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;ta\xe9arpoonduown\xbbp\xbbeftarrows;ightahsrrow;sarpoon\xf3quigarro\xf7hreetimes;;qslan\xf4;cdgsc;ot;o;r;;es;adegsppro\xf8ot;qgq\xf4gt\xf2\xf4i\xedilrsht;;\ud835\udd29;E;rdu;l;lk;cy;;achtr\xf2orne\xf2ard;ri;iodot;ust;ache\xbbEaes;p;prox\xbb;q;qim;abnoptwznrg;r;r\xebglmreftaright\xe1apsto;ight\xe1parrowlref\xf4ight;aflr;;\ud835\udd5dus;imes;st;\xe1;efnge\xbbar;lt;achmtr\xf2orne\xf2ar;d;;ri;achiqtquo;r;\ud835\udcc1m;eg;;buo;r;rok;<;cdhilqrci;r;re\xe5mes;arr;uest;Piar;;efrdushar;har;enrtneqq;\xc5DacdefhilnopsuDot;clprr\xafet;;ese\xbb;sto;dluow\xeeef\xf4\xf0ker;oymma;;ash;asuredangle\xbbr;\ud835\udd2ao;cdnro\xb5;acds\xf4ir;ot\xb7us;bd;u;p;\xf2\xf0dpels;f;\ud835\udd5ectr;\ud835\udcc2pos\xbb;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptla\xbbute;g;;Eiop;d;s;ro\xf8ur;al;s\x00p\xa0mp;eaeouy\x00;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;ui\xf6eiar;\xedist;sr;\ud835\udd2bEest;qs;qslan\xf4i\xed;r\xbbAapr\xf2rr;ar;;sv;d;cy;AEadestr\xf2;rr;r;;fqstarrro\xf7ightarro\xf7;qslan\xf4;s\xbbi\xed;ri;ei\xe4ptf;\ud835\udd5f\xac;inn;Edv;ot;;;i;v;;aorr;astlle\xecl;;lint;;ceu\xe5;c;e\xf1Aaitr\xf2rr;cw;;ghtarrow\xbbri;echimpqu;ceru\xe5;\ud835\udcc3ort\x00\x00ar\xe1m;e;qsubp\xe5\xe5bcp;Ees;et;eq;qc;e\xf1;Ees;et;eq;qgilr\xeclde\xf1\xe7ianglelreft;e\xf1ight;e\xf1;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00csute\xf3iyr;c\xf4;abioslac;v;old;lig;crir;;\ud835\udd2c\x00\x00\x00n;ave\xf2;bmar;acitr\xf2irr;oss;n\xe5;aeicr;ga;cdnron;;pf;\ud835\udd60aelr;rp;;adiosvr\xf2;efmr;of\xbb\xaa\xbagof;r;lope;;clo\xf2ash\xf8l;ide\xf5es;as;ml\xf6bar;\x00\x00\x00\x00\x00\x00\x00\x00\x00r;ast\xb6;lle\xec\x00\x00m;;y;rcimptnt;od;il;enk;r;\ud835\udd2dimo;v;ma\xf4ne;;tvchfork\xbb;aunckk;h;\xf6s;abcdemstcir;ir;ou;;n\xb1im;wo;ipuntint;f;\ud835\udd61nd\xa3;Eaceinosu;p;u\xe5;c;acensppro\xf8urlye\xf1\xf1aespprox;qq;im;i\xedme;sEas\xf0dfpalslar;ine;urf;;t\xefrel;cir;\ud835\udcc5;ncsp;fiopsur;\ud835\udd2epf;\ud835\udd62rime;cr;\ud835\udcc6aeoteirnion\xf3nt;st;e\xf1\xf4ABHabcdefhilmnoprstuxartr\xf2\xf2ail;ar\xf2ar;cdenqrteu;te;i\xe3mptyv;g;del;;\xe5uo\xbbr;abcfhlpstwp;;fs;;s;\xeb\xf0l;im;l;;aiil;o;nal\xf3abrr\xf2rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;clqsa;dhar;uo;rh;acgl;ipsn\xe5ar\xf4t;ilrsht;;\ud835\udd2faordu\xbb;l;;v;gnshtahlrstrrow;ta\xe9arpoonduow\xeep\xbbeftahrrow\xf3arpoon\xf3ightarrows;quigarro\xf7hreetimes;g;ingdotse\xf1ahmr\xf2a\xf2;oust;ache\xbbmid;abptnrg;r;r\xebaflr;;\ud835\udd63us;imes;apr;gt;olint;ar\xf2achqquo;r;\ud835\udcc7buo;rhirre\xe5mes;i;efltri;luhar;;\x00\x00\x00\x00\x00\x00\x00cute;qu\xef;Eaceinpsy;\x00;on;u\xe5;dil;rc;Eas;p;im;olint;i\xed;ot;be;Aacmstxrr;rhr\xeb;ot\xa7i;war;min\xf0nu\xf3\xf1t;r;o\ud835\udd30acoyrp;hycy;;rt\x00\x00i\xe4ara\xec\xadgmma;fv;;deglnprot;;q;E;;E;e;lus;arr;ar\xf2aeitlslsetm\xe9hp;parsl;dle;;e;s;flptcy;;b;ar;f;\ud835\udd64adres;uit\xbbcsuaup;s;p;s;ubp;eset;e\xf1;eset;e\xf1;afr\xbbar\xf2cemtr;\ud835\udcc8tm\xee\xf1i\xecar\xe6arr;fanighteppsilo\xeeh\xe9s\xbbbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acensppro\xf8urlye\xf1\xf1aesppro\xf8q\xf1g;123;Edehlmnps\xb9\xb2\xb3;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr\xeb;owar;lig\xdf\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00get;;r\xebaeyron;dil;;lrec;r;\ud835\udd31eiko\x00e4fa;svym;cnkasppro\xf8im\xbbs\xf0as\xf0rn\xfees\xd7;bd;ar;;eps\xe1;bcfot;ir;;o\ud835\udd65rk;\xe1rime;aipd\xe5adempstngle;dlqrown\xbbeft;e\xf1;ight;e\xf1ot;inus;lus;b;ime;ezium;chtry;\ud835\udcc9;cy;rok;iox\xf4headlreftarro\xf7ightarrow\xbbAHabcdfghlmoprstuwr\xf2ar;crute\xfa\xf2r\x00y;ve;iyrc\xfb;abhr\xf2lac;a\xf2irsht;;\ud835\udd32rave\xf9rlr\xbb\xbblk;ct\x00\x00rn;er\xbbop;ri;alcr;\xa8gpon;f;\ud835\udd66adhlsuown\xe1arpoonlref\xf4igh\xf4i;hl\xbbon\xbbparrows;cit\x00\x00rn;er\xbbop;ng;ri;cr;\ud835\udccadirot;lde;i;f\xbbamr\xf2l\xfcangle;ABDacdeflnoprszr\xf2ar;v;as\xe8nrgrt;eknprstapp\xe1othin\xe7hirop\xf4;h\xefiugm\xe1bpsetneq;q;setneq;q;hret\xe1ianglelreft\xbbight\xbby;ash\xbbelr;bear;q;lip;bta\xf2r;\ud835\udd33tr\xe9subp\xbb\xbbpf;\ud835\udd67ro\xf0tr\xe9cur;\ud835\udccbbpnEe\xbbnEe\xbbigzag;cefoprsirc;dibgar;e;q;erp;r;\ud835\udd34pf;\ud835\udd68;eat\xe8cr;\ud835\udccc\x00\x00\x00\x00\x00\x00\x00tr\xe9r;\ud835\udd35Aar\xf2r\xf2;Aar\xf2r\xf2a\xf0is;dptfl;\ud835\udd69im\xe5Aar\xf2r\xf2cqr;\ud835\udccdptr\xe9acefiosucuyte\xfd;iyrc;;n\xa5r;\ud835\udd36cy;pf;\ud835\udd6acr;\ud835\udccecmy;l\xffacdefhioswcute;ayron;;ot;ettr\xe6a;r;\ud835\udd37cy;grarr;pf;\ud835\udd6bcr;\ud835\udccfjn;j;'.split("").map(h=>h.charCodeAt(0))),re=new Uint16Array("aglq	\x15\x18\x1b\x0f\x00\x00\x12p;os;t;t;uot;".split("").map(h=>h.charCodeAt(0)));let rt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),rn=null!==(ec=String.fromCodePoint)&&void 0!==ec?ec:function(h){let m="";return h>65535&&(h-=65536,m+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),m+=String.fromCharCode(h)};function isNumber(h){return h>=eu.ZERO&&h<=eu.NINE}(M=eu||(eu={}))[M.NUM=35]="NUM",M[M.SEMI=59]="SEMI",M[M.EQUALS=61]="EQUALS",M[M.ZERO=48]="ZERO",M[M.NINE=57]="NINE",M[M.LOWER_A=97]="LOWER_A",M[M.LOWER_F=102]="LOWER_F",M[M.LOWER_X=120]="LOWER_X",M[M.LOWER_Z=122]="LOWER_Z",M[M.UPPER_A=65]="UPPER_A",M[M.UPPER_F=70]="UPPER_F",M[M.UPPER_Z=90]="UPPER_Z",(F=ed||(ed={}))[F.VALUE_LENGTH=49152]="VALUE_LENGTH",F[F.BRANCH_LENGTH=16256]="BRANCH_LENGTH",F[F.JUMP_TABLE=127]="JUMP_TABLE",(B=eh||(eh={}))[B.EntityStart=0]="EntityStart",B[B.NumericStart=1]="NumericStart",B[B.NumericDecimal=2]="NumericDecimal",B[B.NumericHex=3]="NumericHex",B[B.NamedEntity=4]="NamedEntity",(U=ep||(ep={}))[U.Legacy=0]="Legacy",U[U.Strict=1]="Strict",U[U.Attribute=2]="Attribute";let EntityDecoder=class EntityDecoder{constructor(h,m,_){this.decodeTree=h,this.emitCodePoint=m,this.errors=_,this.state=eh.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ep.Strict}startEntity(h){this.decodeMode=h,this.state=eh.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(h,m){switch(this.state){case eh.EntityStart:if(h.charCodeAt(m)===eu.NUM)return this.state=eh.NumericStart,this.consumed+=1,this.stateNumericStart(h,m+1);return this.state=eh.NamedEntity,this.stateNamedEntity(h,m);case eh.NumericStart:return this.stateNumericStart(h,m);case eh.NumericDecimal:return this.stateNumericDecimal(h,m);case eh.NumericHex:return this.stateNumericHex(h,m);case eh.NamedEntity:return this.stateNamedEntity(h,m)}}stateNumericStart(h,m){return m>=h.length?-1:(32|h.charCodeAt(m))===eu.LOWER_X?(this.state=eh.NumericHex,this.consumed+=1,this.stateNumericHex(h,m+1)):(this.state=eh.NumericDecimal,this.stateNumericDecimal(h,m))}addToNumericResult(h,m,_,v){if(m!==_){let b=_-m;this.result=this.result*Math.pow(v,b)+parseInt(h.substr(m,b),v),this.consumed+=b}}stateNumericHex(h,m){let _=m;for(;m<h.length;){var v;let b=h.charCodeAt(m);if(!isNumber(b)&&(!((v=b)>=eu.UPPER_A)||!(v<=eu.UPPER_F))&&(!(v>=eu.LOWER_A)||!(v<=eu.LOWER_F)))return this.addToNumericResult(h,_,m,16),this.emitNumericEntity(b,3);m+=1}return this.addToNumericResult(h,_,m,16),-1}stateNumericDecimal(h,m){let _=m;for(;m<h.length;){let v=h.charCodeAt(m);if(!isNumber(v))return this.addToNumericResult(h,_,m,10),this.emitNumericEntity(v,2);m+=1}return this.addToNumericResult(h,_,m,10),-1}emitNumericEntity(h,m){var _,v,b;if(this.consumed<=m)return null===(_=this.errors)||void 0===_||_.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(h===eu.SEMI)this.consumed+=1;else if(this.decodeMode===ep.Strict)return 0;return this.emitCodePoint((v=this.result)>=55296&&v<=57343||v>1114111?65533:null!==(b=rt.get(v))&&void 0!==b?b:v,this.consumed),this.errors&&(h!==eu.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(h,m){let{decodeTree:_}=this,v=_[this.treeIndex],b=(v&ed.VALUE_LENGTH)>>14;for(;m<h.length;m++,this.excess++){let A=h.charCodeAt(m);if(this.treeIndex=determineBranch(_,v,this.treeIndex+Math.max(1,b),A),this.treeIndex<0)return 0===this.result||this.decodeMode===ep.Attribute&&(0===b||function(h){var m;return h===eu.EQUALS||(m=h)>=eu.UPPER_A&&m<=eu.UPPER_Z||m>=eu.LOWER_A&&m<=eu.LOWER_Z||isNumber(m)}(A))?0:this.emitNotTerminatedNamedEntity();if(0!=(b=((v=_[this.treeIndex])&ed.VALUE_LENGTH)>>14)){if(A===eu.SEMI)return this.emitNamedEntityData(this.treeIndex,b,this.consumed+this.excess);this.decodeMode!==ep.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var h;let{result:m,decodeTree:_}=this,v=(_[m]&ed.VALUE_LENGTH)>>14;return this.emitNamedEntityData(m,v,this.consumed),null===(h=this.errors)||void 0===h||h.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(h,m,_){let{decodeTree:v}=this;return this.emitCodePoint(1===m?v[h]&~ed.VALUE_LENGTH:v[h+1],_),3===m&&this.emitCodePoint(v[h+2],_),_}end(){var h;switch(this.state){case eh.NamedEntity:return 0!==this.result&&(this.decodeMode!==ep.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case eh.NumericDecimal:return this.emitNumericEntity(0,2);case eh.NumericHex:return this.emitNumericEntity(0,3);case eh.NumericStart:return null===(h=this.errors)||void 0===h||h.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case eh.EntityStart:return 0}}};function getDecoder(h){let m="",_=new EntityDecoder(h,h=>m+=rn(h));return function(h,v){let b=0,A=0;for(;(A=h.indexOf("&",A))>=0;){m+=h.slice(b,A),_.startEntity(v);let C=_.write(h,A+1);if(C<0){b=A+_.end();break}b=A+C,A=0===C?b+1:b}let C=m+h.slice(b);return m="",C}}function determineBranch(h,m,_,v){let b=(m&ed.BRANCH_LENGTH)>>7,A=m&ed.JUMP_TABLE;if(0===b)return 0!==A&&v===A?_:-1;if(A){let m=v-A;return m<0||m>=b?-1:h[_+m]-1}let C=_,S=C+b-1;for(;C<=S;){let m=C+S>>>1,_=h[m];if(_<v)C=m+1;else{if(!(_>v))return h[m+b];S=m-1}}return -1}getDecoder(n7),getDecoder(re),($=em=em||(em={})).HTML="http://www.w3.org/1999/xhtml",$.MATHML="http://www.w3.org/1998/Math/MathML",$.SVG="http://www.w3.org/2000/svg",$.XLINK="http://www.w3.org/1999/xlink",$.XML="http://www.w3.org/XML/1998/namespace",$.XMLNS="http://www.w3.org/2000/xmlns/",(G=ef=ef||(ef={})).TYPE="type",G.ACTION="action",G.ENCODING="encoding",G.PROMPT="prompt",G.NAME="name",G.COLOR="color",G.FACE="face",G.SIZE="size",(j=eg=eg||(eg={})).NO_QUIRKS="no-quirks",j.QUIRKS="quirks",j.LIMITED_QUIRKS="limited-quirks",(q=e_=e_||(e_={})).A="a",q.ADDRESS="address",q.ANNOTATION_XML="annotation-xml",q.APPLET="applet",q.AREA="area",q.ARTICLE="article",q.ASIDE="aside",q.B="b",q.BASE="base",q.BASEFONT="basefont",q.BGSOUND="bgsound",q.BIG="big",q.BLOCKQUOTE="blockquote",q.BODY="body",q.BR="br",q.BUTTON="button",q.CAPTION="caption",q.CENTER="center",q.CODE="code",q.COL="col",q.COLGROUP="colgroup",q.DD="dd",q.DESC="desc",q.DETAILS="details",q.DIALOG="dialog",q.DIR="dir",q.DIV="div",q.DL="dl",q.DT="dt",q.EM="em",q.EMBED="embed",q.FIELDSET="fieldset",q.FIGCAPTION="figcaption",q.FIGURE="figure",q.FONT="font",q.FOOTER="footer",q.FOREIGN_OBJECT="foreignObject",q.FORM="form",q.FRAME="frame",q.FRAMESET="frameset",q.H1="h1",q.H2="h2",q.H3="h3",q.H4="h4",q.H5="h5",q.H6="h6",q.HEAD="head",q.HEADER="header",q.HGROUP="hgroup",q.HR="hr",q.HTML="html",q.I="i",q.IMG="img",q.IMAGE="image",q.INPUT="input",q.IFRAME="iframe",q.KEYGEN="keygen",q.LABEL="label",q.LI="li",q.LINK="link",q.LISTING="listing",q.MAIN="main",q.MALIGNMARK="malignmark",q.MARQUEE="marquee",q.MATH="math",q.MENU="menu",q.META="meta",q.MGLYPH="mglyph",q.MI="mi",q.MO="mo",q.MN="mn",q.MS="ms",q.MTEXT="mtext",q.NAV="nav",q.NOBR="nobr",q.NOFRAMES="noframes",q.NOEMBED="noembed",q.NOSCRIPT="noscript",q.OBJECT="object",q.OL="ol",q.OPTGROUP="optgroup",q.OPTION="option",q.P="p",q.PARAM="param",q.PLAINTEXT="plaintext",q.PRE="pre",q.RB="rb",q.RP="rp",q.RT="rt",q.RTC="rtc",q.RUBY="ruby",q.S="s",q.SCRIPT="script",q.SECTION="section",q.SELECT="select",q.SOURCE="source",q.SMALL="small",q.SPAN="span",q.STRIKE="strike",q.STRONG="strong",q.STYLE="style",q.SUB="sub",q.SUMMARY="summary",q.SUP="sup",q.TABLE="table",q.TBODY="tbody",q.TEMPLATE="template",q.TEXTAREA="textarea",q.TFOOT="tfoot",q.TD="td",q.TH="th",q.THEAD="thead",q.TITLE="title",q.TR="tr",q.TRACK="track",q.TT="tt",q.U="u",q.UL="ul",q.SVG="svg",q.VAR="var",q.WBR="wbr",q.XMP="xmp",(Q=eE=eE||(eE={}))[Q.UNKNOWN=0]="UNKNOWN",Q[Q.A=1]="A",Q[Q.ADDRESS=2]="ADDRESS",Q[Q.ANNOTATION_XML=3]="ANNOTATION_XML",Q[Q.APPLET=4]="APPLET",Q[Q.AREA=5]="AREA",Q[Q.ARTICLE=6]="ARTICLE",Q[Q.ASIDE=7]="ASIDE",Q[Q.B=8]="B",Q[Q.BASE=9]="BASE",Q[Q.BASEFONT=10]="BASEFONT",Q[Q.BGSOUND=11]="BGSOUND",Q[Q.BIG=12]="BIG",Q[Q.BLOCKQUOTE=13]="BLOCKQUOTE",Q[Q.BODY=14]="BODY",Q[Q.BR=15]="BR",Q[Q.BUTTON=16]="BUTTON",Q[Q.CAPTION=17]="CAPTION",Q[Q.CENTER=18]="CENTER",Q[Q.CODE=19]="CODE",Q[Q.COL=20]="COL",Q[Q.COLGROUP=21]="COLGROUP",Q[Q.DD=22]="DD",Q[Q.DESC=23]="DESC",Q[Q.DETAILS=24]="DETAILS",Q[Q.DIALOG=25]="DIALOG",Q[Q.DIR=26]="DIR",Q[Q.DIV=27]="DIV",Q[Q.DL=28]="DL",Q[Q.DT=29]="DT",Q[Q.EM=30]="EM",Q[Q.EMBED=31]="EMBED",Q[Q.FIELDSET=32]="FIELDSET",Q[Q.FIGCAPTION=33]="FIGCAPTION",Q[Q.FIGURE=34]="FIGURE",Q[Q.FONT=35]="FONT",Q[Q.FOOTER=36]="FOOTER",Q[Q.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",Q[Q.FORM=38]="FORM",Q[Q.FRAME=39]="FRAME",Q[Q.FRAMESET=40]="FRAMESET",Q[Q.H1=41]="H1",Q[Q.H2=42]="H2",Q[Q.H3=43]="H3",Q[Q.H4=44]="H4",Q[Q.H5=45]="H5",Q[Q.H6=46]="H6",Q[Q.HEAD=47]="HEAD",Q[Q.HEADER=48]="HEADER",Q[Q.HGROUP=49]="HGROUP",Q[Q.HR=50]="HR",Q[Q.HTML=51]="HTML",Q[Q.I=52]="I",Q[Q.IMG=53]="IMG",Q[Q.IMAGE=54]="IMAGE",Q[Q.INPUT=55]="INPUT",Q[Q.IFRAME=56]="IFRAME",Q[Q.KEYGEN=57]="KEYGEN",Q[Q.LABEL=58]="LABEL",Q[Q.LI=59]="LI",Q[Q.LINK=60]="LINK",Q[Q.LISTING=61]="LISTING",Q[Q.MAIN=62]="MAIN",Q[Q.MALIGNMARK=63]="MALIGNMARK",Q[Q.MARQUEE=64]="MARQUEE",Q[Q.MATH=65]="MATH",Q[Q.MENU=66]="MENU",Q[Q.META=67]="META",Q[Q.MGLYPH=68]="MGLYPH",Q[Q.MI=69]="MI",Q[Q.MO=70]="MO",Q[Q.MN=71]="MN",Q[Q.MS=72]="MS",Q[Q.MTEXT=73]="MTEXT",Q[Q.NAV=74]="NAV",Q[Q.NOBR=75]="NOBR",Q[Q.NOFRAMES=76]="NOFRAMES",Q[Q.NOEMBED=77]="NOEMBED",Q[Q.NOSCRIPT=78]="NOSCRIPT",Q[Q.OBJECT=79]="OBJECT",Q[Q.OL=80]="OL",Q[Q.OPTGROUP=81]="OPTGROUP",Q[Q.OPTION=82]="OPTION",Q[Q.P=83]="P",Q[Q.PARAM=84]="PARAM",Q[Q.PLAINTEXT=85]="PLAINTEXT",Q[Q.PRE=86]="PRE",Q[Q.RB=87]="RB",Q[Q.RP=88]="RP",Q[Q.RT=89]="RT",Q[Q.RTC=90]="RTC",Q[Q.RUBY=91]="RUBY",Q[Q.S=92]="S",Q[Q.SCRIPT=93]="SCRIPT",Q[Q.SECTION=94]="SECTION",Q[Q.SELECT=95]="SELECT",Q[Q.SOURCE=96]="SOURCE",Q[Q.SMALL=97]="SMALL",Q[Q.SPAN=98]="SPAN",Q[Q.STRIKE=99]="STRIKE",Q[Q.STRONG=100]="STRONG",Q[Q.STYLE=101]="STYLE",Q[Q.SUB=102]="SUB",Q[Q.SUMMARY=103]="SUMMARY",Q[Q.SUP=104]="SUP",Q[Q.TABLE=105]="TABLE",Q[Q.TBODY=106]="TBODY",Q[Q.TEMPLATE=107]="TEMPLATE",Q[Q.TEXTAREA=108]="TEXTAREA",Q[Q.TFOOT=109]="TFOOT",Q[Q.TD=110]="TD",Q[Q.TH=111]="TH",Q[Q.THEAD=112]="THEAD",Q[Q.TITLE=113]="TITLE",Q[Q.TR=114]="TR",Q[Q.TRACK=115]="TRACK",Q[Q.TT=116]="TT",Q[Q.U=117]="U",Q[Q.UL=118]="UL",Q[Q.SVG=119]="SVG",Q[Q.VAR=120]="VAR",Q[Q.WBR=121]="WBR",Q[Q.XMP=122]="XMP";let rr=new Map([[e_.A,eE.A],[e_.ADDRESS,eE.ADDRESS],[e_.ANNOTATION_XML,eE.ANNOTATION_XML],[e_.APPLET,eE.APPLET],[e_.AREA,eE.AREA],[e_.ARTICLE,eE.ARTICLE],[e_.ASIDE,eE.ASIDE],[e_.B,eE.B],[e_.BASE,eE.BASE],[e_.BASEFONT,eE.BASEFONT],[e_.BGSOUND,eE.BGSOUND],[e_.BIG,eE.BIG],[e_.BLOCKQUOTE,eE.BLOCKQUOTE],[e_.BODY,eE.BODY],[e_.BR,eE.BR],[e_.BUTTON,eE.BUTTON],[e_.CAPTION,eE.CAPTION],[e_.CENTER,eE.CENTER],[e_.CODE,eE.CODE],[e_.COL,eE.COL],[e_.COLGROUP,eE.COLGROUP],[e_.DD,eE.DD],[e_.DESC,eE.DESC],[e_.DETAILS,eE.DETAILS],[e_.DIALOG,eE.DIALOG],[e_.DIR,eE.DIR],[e_.DIV,eE.DIV],[e_.DL,eE.DL],[e_.DT,eE.DT],[e_.EM,eE.EM],[e_.EMBED,eE.EMBED],[e_.FIELDSET,eE.FIELDSET],[e_.FIGCAPTION,eE.FIGCAPTION],[e_.FIGURE,eE.FIGURE],[e_.FONT,eE.FONT],[e_.FOOTER,eE.FOOTER],[e_.FOREIGN_OBJECT,eE.FOREIGN_OBJECT],[e_.FORM,eE.FORM],[e_.FRAME,eE.FRAME],[e_.FRAMESET,eE.FRAMESET],[e_.H1,eE.H1],[e_.H2,eE.H2],[e_.H3,eE.H3],[e_.H4,eE.H4],[e_.H5,eE.H5],[e_.H6,eE.H6],[e_.HEAD,eE.HEAD],[e_.HEADER,eE.HEADER],[e_.HGROUP,eE.HGROUP],[e_.HR,eE.HR],[e_.HTML,eE.HTML],[e_.I,eE.I],[e_.IMG,eE.IMG],[e_.IMAGE,eE.IMAGE],[e_.INPUT,eE.INPUT],[e_.IFRAME,eE.IFRAME],[e_.KEYGEN,eE.KEYGEN],[e_.LABEL,eE.LABEL],[e_.LI,eE.LI],[e_.LINK,eE.LINK],[e_.LISTING,eE.LISTING],[e_.MAIN,eE.MAIN],[e_.MALIGNMARK,eE.MALIGNMARK],[e_.MARQUEE,eE.MARQUEE],[e_.MATH,eE.MATH],[e_.MENU,eE.MENU],[e_.META,eE.META],[e_.MGLYPH,eE.MGLYPH],[e_.MI,eE.MI],[e_.MO,eE.MO],[e_.MN,eE.MN],[e_.MS,eE.MS],[e_.MTEXT,eE.MTEXT],[e_.NAV,eE.NAV],[e_.NOBR,eE.NOBR],[e_.NOFRAMES,eE.NOFRAMES],[e_.NOEMBED,eE.NOEMBED],[e_.NOSCRIPT,eE.NOSCRIPT],[e_.OBJECT,eE.OBJECT],[e_.OL,eE.OL],[e_.OPTGROUP,eE.OPTGROUP],[e_.OPTION,eE.OPTION],[e_.P,eE.P],[e_.PARAM,eE.PARAM],[e_.PLAINTEXT,eE.PLAINTEXT],[e_.PRE,eE.PRE],[e_.RB,eE.RB],[e_.RP,eE.RP],[e_.RT,eE.RT],[e_.RTC,eE.RTC],[e_.RUBY,eE.RUBY],[e_.S,eE.S],[e_.SCRIPT,eE.SCRIPT],[e_.SECTION,eE.SECTION],[e_.SELECT,eE.SELECT],[e_.SOURCE,eE.SOURCE],[e_.SMALL,eE.SMALL],[e_.SPAN,eE.SPAN],[e_.STRIKE,eE.STRIKE],[e_.STRONG,eE.STRONG],[e_.STYLE,eE.STYLE],[e_.SUB,eE.SUB],[e_.SUMMARY,eE.SUMMARY],[e_.SUP,eE.SUP],[e_.TABLE,eE.TABLE],[e_.TBODY,eE.TBODY],[e_.TEMPLATE,eE.TEMPLATE],[e_.TEXTAREA,eE.TEXTAREA],[e_.TFOOT,eE.TFOOT],[e_.TD,eE.TD],[e_.TH,eE.TH],[e_.THEAD,eE.THEAD],[e_.TITLE,eE.TITLE],[e_.TR,eE.TR],[e_.TRACK,eE.TRACK],[e_.TT,eE.TT],[e_.U,eE.U],[e_.UL,eE.UL],[e_.SVG,eE.SVG],[e_.VAR,eE.VAR],[e_.WBR,eE.WBR],[e_.XMP,eE.XMP]]);function getTagID(h){var m;return null!==(m=rr.get(h))&&void 0!==m?m:eE.UNKNOWN}let ra=eE,rs={[em.HTML]:new Set([ra.ADDRESS,ra.APPLET,ra.AREA,ra.ARTICLE,ra.ASIDE,ra.BASE,ra.BASEFONT,ra.BGSOUND,ra.BLOCKQUOTE,ra.BODY,ra.BR,ra.BUTTON,ra.CAPTION,ra.CENTER,ra.COL,ra.COLGROUP,ra.DD,ra.DETAILS,ra.DIR,ra.DIV,ra.DL,ra.DT,ra.EMBED,ra.FIELDSET,ra.FIGCAPTION,ra.FIGURE,ra.FOOTER,ra.FORM,ra.FRAME,ra.FRAMESET,ra.H1,ra.H2,ra.H3,ra.H4,ra.H5,ra.H6,ra.HEAD,ra.HEADER,ra.HGROUP,ra.HR,ra.HTML,ra.IFRAME,ra.IMG,ra.INPUT,ra.LI,ra.LINK,ra.LISTING,ra.MAIN,ra.MARQUEE,ra.MENU,ra.META,ra.NAV,ra.NOEMBED,ra.NOFRAMES,ra.NOSCRIPT,ra.OBJECT,ra.OL,ra.P,ra.PARAM,ra.PLAINTEXT,ra.PRE,ra.SCRIPT,ra.SECTION,ra.SELECT,ra.SOURCE,ra.STYLE,ra.SUMMARY,ra.TABLE,ra.TBODY,ra.TD,ra.TEMPLATE,ra.TEXTAREA,ra.TFOOT,ra.TH,ra.THEAD,ra.TITLE,ra.TR,ra.TRACK,ra.UL,ra.WBR,ra.XMP]),[em.MATHML]:new Set([ra.MI,ra.MO,ra.MN,ra.MS,ra.MTEXT,ra.ANNOTATION_XML]),[em.SVG]:new Set([ra.TITLE,ra.FOREIGN_OBJECT,ra.DESC]),[em.XLINK]:new Set,[em.XML]:new Set,[em.XMLNS]:new Set};function isNumberedHeader(h){return h===ra.H1||h===ra.H2||h===ra.H3||h===ra.H4||h===ra.H5||h===ra.H6}e_.STYLE,e_.SCRIPT,e_.XMP,e_.IFRAME,e_.NOEMBED,e_.NOFRAMES,e_.PLAINTEXT;let rl=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);(X=ev||(ev={}))[X.DATA=0]="DATA",X[X.RCDATA=1]="RCDATA",X[X.RAWTEXT=2]="RAWTEXT",X[X.SCRIPT_DATA=3]="SCRIPT_DATA",X[X.PLAINTEXT=4]="PLAINTEXT",X[X.TAG_OPEN=5]="TAG_OPEN",X[X.END_TAG_OPEN=6]="END_TAG_OPEN",X[X.TAG_NAME=7]="TAG_NAME",X[X.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",X[X.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",X[X.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",X[X.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",X[X.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",X[X.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",X[X.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",X[X.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",X[X.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",X[X.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",X[X.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",X[X.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",X[X.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",X[X.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",X[X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",X[X.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",X[X.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",X[X.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",X[X.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",X[X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",X[X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",X[X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",X[X.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",X[X.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",X[X.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",X[X.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",X[X.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",X[X.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",X[X.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",X[X.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",X[X.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",X[X.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",X[X.BOGUS_COMMENT=40]="BOGUS_COMMENT",X[X.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",X[X.COMMENT_START=42]="COMMENT_START",X[X.COMMENT_START_DASH=43]="COMMENT_START_DASH",X[X.COMMENT=44]="COMMENT",X[X.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",X[X.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",X[X.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",X[X.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",X[X.COMMENT_END_DASH=49]="COMMENT_END_DASH",X[X.COMMENT_END=50]="COMMENT_END",X[X.COMMENT_END_BANG=51]="COMMENT_END_BANG",X[X.DOCTYPE=52]="DOCTYPE",X[X.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",X[X.DOCTYPE_NAME=54]="DOCTYPE_NAME",X[X.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",X[X.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",X[X.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",X[X.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",X[X.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",X[X.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",X[X.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",X[X.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",X[X.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",X[X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",X[X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",X[X.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",X[X.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",X[X.CDATA_SECTION=68]="CDATA_SECTION",X[X.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",X[X.CDATA_SECTION_END=70]="CDATA_SECTION_END",X[X.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",X[X.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",X[X.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",X[X.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",X[X.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",X[X.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",X[X.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",X[X.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";let rc={DATA:ev.DATA,RCDATA:ev.RCDATA,RAWTEXT:ev.RAWTEXT,SCRIPT_DATA:ev.SCRIPT_DATA,PLAINTEXT:ev.PLAINTEXT,CDATA_SECTION:ev.CDATA_SECTION};function isAsciiDigit(h){return h>=eo.DIGIT_0&&h<=eo.DIGIT_9}function isAsciiUpper(h){return h>=eo.LATIN_CAPITAL_A&&h<=eo.LATIN_CAPITAL_Z}function isAsciiLetter(h){return h>=eo.LATIN_SMALL_A&&h<=eo.LATIN_SMALL_Z||isAsciiUpper(h)}function tokenizer_isAsciiAlphaNumeric(h){return isAsciiLetter(h)||isAsciiDigit(h)}function isAsciiUpperHexDigit(h){return h>=eo.LATIN_CAPITAL_A&&h<=eo.LATIN_CAPITAL_F}function isAsciiLowerHexDigit(h){return h>=eo.LATIN_SMALL_A&&h<=eo.LATIN_SMALL_F}function isWhitespace(h){return h===eo.SPACE||h===eo.LINE_FEED||h===eo.TABULATION||h===eo.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(h){return isWhitespace(h)||h===eo.SOLIDUS||h===eo.GREATER_THAN_SIGN}let Tokenizer=class Tokenizer{constructor(h,m){this.options=h,this.handler=m,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ev.DATA,this.returnState=ev.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(m),this.currentLocation=this.getCurrentLocation(-1)}_err(h){var m,_;null===(_=(m=this.handler).onParseError)||void 0===_||_.call(m,this.preprocessor.getError(h))}getCurrentLocation(h){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-h,startOffset:this.preprocessor.offset-h,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let h=this._consume();this._ensureHibernation()||this._callState(h)}this.inLoop=!1}}pause(){this.paused=!0}resume(h){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==h||h())}write(h,m,_){this.active=!0,this.preprocessor.write(h,m),this._runParsingLoop(),this.paused||null==_||_()}insertHtmlAtCurrentPos(h){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(h),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(h){this.consumedAfterSnapshot-=h,this.preprocessor.retreat(h)}_reconsumeInState(h,m){this.state=h,this._callState(m)}_advanceBy(h){this.consumedAfterSnapshot+=h;for(let m=0;m<h;m++)this.preprocessor.advance()}_consumeSequenceIfMatch(h,m){return!!this.preprocessor.startsWith(h,m)&&(this._advanceBy(h.length-1),!0)}_createStartTagToken(){this.currentToken={type:el.START_TAG,tagName:"",tagID:eE.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:el.END_TAG,tagName:"",tagID:eE.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(h){this.currentToken={type:el.COMMENT,data:"",location:this.getCurrentLocation(h)}}_createDoctypeToken(h){this.currentToken={type:el.DOCTYPE,name:h,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(h,m){this.currentCharacterToken={type:h,chars:m,location:this.currentLocation}}_createAttr(h){this.currentAttr={name:h,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var h,m;let _=this.currentToken;if(null===getTokenAttr(_,this.currentAttr.name)){if(_.attrs.push(this.currentAttr),_.location&&this.currentLocation){let v=null!==(h=(m=_.location).attrs)&&void 0!==h?h:m.attrs=Object.create(null);v[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(es.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(h){this._emitCurrentCharacterToken(h.location),this.currentToken=null,h.location&&(h.location.endLine=this.preprocessor.line,h.location.endCol=this.preprocessor.col+1,h.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let h=this.currentToken;this.prepareToken(h),h.tagID=getTagID(h.tagName),h.type===el.START_TAG?(this.lastStartTagName=h.tagName,this.handler.onStartTag(h)):(h.attrs.length>0&&this._err(es.endTagWithAttributes),h.selfClosing&&this._err(es.endTagWithTrailingSolidus),this.handler.onEndTag(h)),this.preprocessor.dropParsedChunk()}emitCurrentComment(h){this.prepareToken(h),this.handler.onComment(h),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(h){this.prepareToken(h),this.handler.onDoctype(h),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(h){if(this.currentCharacterToken){switch(h&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=h.startLine,this.currentCharacterToken.location.endCol=h.startCol,this.currentCharacterToken.location.endOffset=h.startOffset),this.currentCharacterToken.type){case el.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case el.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case el.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let h=this.getCurrentLocation(0);h&&(h.endLine=h.startLine,h.endCol=h.startCol,h.endOffset=h.startOffset),this._emitCurrentCharacterToken(h),this.handler.onEof({type:el.EOF,location:h}),this.active=!1}_appendCharToCurrentCharacterToken(h,m){if(this.currentCharacterToken){if(this.currentCharacterToken.type!==h)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=m;return}}this._createCharacterToken(h,m)}_emitCodePoint(h){let m=isWhitespace(h)?el.WHITESPACE_CHARACTER:h===eo.NULL?el.NULL_CHARACTER:el.CHARACTER;this._appendCharToCurrentCharacterToken(m,String.fromCodePoint(h))}_emitChars(h){this._appendCharToCurrentCharacterToken(el.CHARACTER,h)}_matchNamedCharacterReference(h){let m=null,_=0,v=!1;for(let A=0,C=n7[0];A>=0&&!((A=determineBranch(n7,C,A+1,h))<0);h=this._consume()){_+=1,C=n7[A];let S=C&ed.VALUE_LENGTH;if(S){var b;let C=(S>>14)-1;if(h!==eo.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((b=this.preprocessor.peek(1))===eo.EQUALS_SIGN||tokenizer_isAsciiAlphaNumeric(b))?(m=[eo.AMPERSAND],A+=C):(m=0===C?[n7[A]&~ed.VALUE_LENGTH]:1===C?[n7[++A]]:[n7[++A],n7[++A]],_=0,v=h!==eo.SEMICOLON),0===C){this._consume();break}}}return this._unconsume(_),v&&!this.preprocessor.endOfChunkHit&&this._err(es.missingSemicolonAfterCharacterReference),this._unconsume(1),m}_isCharacterReferenceInAttribute(){return this.returnState===ev.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ev.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ev.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(h){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(h):this._emitCodePoint(h)}_callState(h){switch(this.state){case ev.DATA:this._stateData(h);break;case ev.RCDATA:this._stateRcdata(h);break;case ev.RAWTEXT:this._stateRawtext(h);break;case ev.SCRIPT_DATA:this._stateScriptData(h);break;case ev.PLAINTEXT:this._statePlaintext(h);break;case ev.TAG_OPEN:this._stateTagOpen(h);break;case ev.END_TAG_OPEN:this._stateEndTagOpen(h);break;case ev.TAG_NAME:this._stateTagName(h);break;case ev.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(h);break;case ev.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(h);break;case ev.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(h);break;case ev.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(h);break;case ev.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(h);break;case ev.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(h);break;case ev.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(h);break;case ev.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(h);break;case ev.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(h);break;case ev.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(h);break;case ev.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(h);break;case ev.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(h);break;case ev.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(h);break;case ev.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(h);break;case ev.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(h);break;case ev.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(h);break;case ev.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(h);break;case ev.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(h);break;case ev.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(h);break;case ev.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(h);break;case ev.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(h);break;case ev.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(h);break;case ev.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(h);break;case ev.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(h);break;case ev.ATTRIBUTE_NAME:this._stateAttributeName(h);break;case ev.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(h);break;case ev.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(h);break;case ev.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(h);break;case ev.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(h);break;case ev.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(h);break;case ev.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(h);break;case ev.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(h);break;case ev.BOGUS_COMMENT:this._stateBogusComment(h);break;case ev.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(h);break;case ev.COMMENT_START:this._stateCommentStart(h);break;case ev.COMMENT_START_DASH:this._stateCommentStartDash(h);break;case ev.COMMENT:this._stateComment(h);break;case ev.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(h);break;case ev.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(h);break;case ev.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(h);break;case ev.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(h);break;case ev.COMMENT_END_DASH:this._stateCommentEndDash(h);break;case ev.COMMENT_END:this._stateCommentEnd(h);break;case ev.COMMENT_END_BANG:this._stateCommentEndBang(h);break;case ev.DOCTYPE:this._stateDoctype(h);break;case ev.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(h);break;case ev.DOCTYPE_NAME:this._stateDoctypeName(h);break;case ev.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(h);break;case ev.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(h);break;case ev.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(h);break;case ev.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(h);break;case ev.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(h);break;case ev.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(h);break;case ev.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(h);break;case ev.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(h);break;case ev.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(h);break;case ev.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(h);break;case ev.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(h);break;case ev.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(h);break;case ev.BOGUS_DOCTYPE:this._stateBogusDoctype(h);break;case ev.CDATA_SECTION:this._stateCdataSection(h);break;case ev.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(h);break;case ev.CDATA_SECTION_END:this._stateCdataSectionEnd(h);break;case ev.CHARACTER_REFERENCE:this._stateCharacterReference(h);break;case ev.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(h);break;case ev.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(h);break;case ev.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(h);break;case ev.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(h);break;case ev.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(h);break;case ev.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(h);break;case ev.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(h);break;default:throw Error("Unknown state")}}_stateData(h){switch(h){case eo.LESS_THAN_SIGN:this.state=ev.TAG_OPEN;break;case eo.AMPERSAND:this.returnState=ev.DATA,this.state=ev.CHARACTER_REFERENCE;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this._emitCodePoint(h);break;case eo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateRcdata(h){switch(h){case eo.AMPERSAND:this.returnState=ev.RCDATA,this.state=ev.CHARACTER_REFERENCE;break;case eo.LESS_THAN_SIGN:this.state=ev.RCDATA_LESS_THAN_SIGN;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this._emitChars("");break;case eo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateRawtext(h){switch(h){case eo.LESS_THAN_SIGN:this.state=ev.RAWTEXT_LESS_THAN_SIGN;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this._emitChars("");break;case eo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateScriptData(h){switch(h){case eo.LESS_THAN_SIGN:this.state=ev.SCRIPT_DATA_LESS_THAN_SIGN;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this._emitChars("");break;case eo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_statePlaintext(h){switch(h){case eo.NULL:this._err(es.unexpectedNullCharacter),this._emitChars("");break;case eo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateTagOpen(h){if(isAsciiLetter(h))this._createStartTagToken(),this.state=ev.TAG_NAME,this._stateTagName(h);else switch(h){case eo.EXCLAMATION_MARK:this.state=ev.MARKUP_DECLARATION_OPEN;break;case eo.SOLIDUS:this.state=ev.END_TAG_OPEN;break;case eo.QUESTION_MARK:this._err(es.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ev.BOGUS_COMMENT,this._stateBogusComment(h);break;case eo.EOF:this._err(es.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(es.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ev.DATA,this._stateData(h)}}_stateEndTagOpen(h){if(isAsciiLetter(h))this._createEndTagToken(),this.state=ev.TAG_NAME,this._stateTagName(h);else switch(h){case eo.GREATER_THAN_SIGN:this._err(es.missingEndTagName),this.state=ev.DATA;break;case eo.EOF:this._err(es.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(es.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ev.BOGUS_COMMENT,this._stateBogusComment(h)}}_stateTagName(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this.state=ev.BEFORE_ATTRIBUTE_NAME;break;case eo.SOLIDUS:this.state=ev.SELF_CLOSING_START_TAG;break;case eo.GREATER_THAN_SIGN:this.state=ev.DATA,this.emitCurrentTagToken();break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.tagName+="";break;case eo.EOF:this._err(es.eofInTag),this._emitEOFToken();break;default:m.tagName+=String.fromCodePoint(isAsciiUpper(h)?h+32:h)}}_stateRcdataLessThanSign(h){h===eo.SOLIDUS?this.state=ev.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ev.RCDATA,this._stateRcdata(h))}_stateRcdataEndTagOpen(h){isAsciiLetter(h)?(this.state=ev.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(h)):(this._emitChars("</"),this.state=ev.RCDATA,this._stateRcdata(h))}handleSpecialEndTag(h){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let m=this.currentToken;m.tagName=this.lastStartTagName;let _=this.preprocessor.peek(this.lastStartTagName.length);switch(_){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ev.BEFORE_ATTRIBUTE_NAME,!1;case eo.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ev.SELF_CLOSING_START_TAG,!1;case eo.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ev.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=ev.RCDATA,this._stateRcdata(h))}_stateRawtextLessThanSign(h){h===eo.SOLIDUS?this.state=ev.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ev.RAWTEXT,this._stateRawtext(h))}_stateRawtextEndTagOpen(h){isAsciiLetter(h)?(this.state=ev.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(h)):(this._emitChars("</"),this.state=ev.RAWTEXT,this._stateRawtext(h))}_stateRawtextEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=ev.RAWTEXT,this._stateRawtext(h))}_stateScriptDataLessThanSign(h){switch(h){case eo.SOLIDUS:this.state=ev.SCRIPT_DATA_END_TAG_OPEN;break;case eo.EXCLAMATION_MARK:this.state=ev.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=ev.SCRIPT_DATA,this._stateScriptData(h)}}_stateScriptDataEndTagOpen(h){isAsciiLetter(h)?(this.state=ev.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(h)):(this._emitChars("</"),this.state=ev.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=ev.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEscapeStart(h){h===eo.HYPHEN_MINUS?(this.state=ev.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ev.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEscapeStartDash(h){h===eo.HYPHEN_MINUS?(this.state=ev.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ev.SCRIPT_DATA,this._stateScriptData(h))}_stateScriptDataEscaped(h){switch(h){case eo.HYPHEN_MINUS:this.state=ev.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case eo.LESS_THAN_SIGN:this.state=ev.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this._emitChars("");break;case eo.EOF:this._err(es.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateScriptDataEscapedDash(h){switch(h){case eo.HYPHEN_MINUS:this.state=ev.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case eo.LESS_THAN_SIGN:this.state=ev.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.state=ev.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case eo.EOF:this._err(es.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=ev.SCRIPT_DATA_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataEscapedDashDash(h){switch(h){case eo.HYPHEN_MINUS:this._emitChars("-");break;case eo.LESS_THAN_SIGN:this.state=ev.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case eo.GREATER_THAN_SIGN:this.state=ev.SCRIPT_DATA,this._emitChars(">");break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.state=ev.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case eo.EOF:this._err(es.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=ev.SCRIPT_DATA_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataEscapedLessThanSign(h){h===eo.SOLIDUS?this.state=ev.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(h)?(this._emitChars("<"),this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(h)):(this._emitChars("<"),this.state=ev.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataEscapedEndTagOpen(h){isAsciiLetter(h)?(this.state=ev.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(h)):(this._emitChars("</"),this.state=ev.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataEscapedEndTagName(h){this.handleSpecialEndTag(h)&&(this._emitChars("</"),this.state=ev.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataDoubleEscapeStart(h){if(this.preprocessor.startsWith(n9.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(n9.SCRIPT.length))){this._emitCodePoint(h);for(let h=0;h<n9.SCRIPT.length;h++)this._emitCodePoint(this._consume());this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ev.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(h))}_stateScriptDataDoubleEscaped(h){switch(h){case eo.HYPHEN_MINUS:this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case eo.LESS_THAN_SIGN:this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case eo.NULL:this._err(es.unexpectedNullCharacter),this._emitChars("");break;case eo.EOF:this._err(es.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateScriptDataDoubleEscapedDash(h){switch(h){case eo.HYPHEN_MINUS:this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case eo.LESS_THAN_SIGN:this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case eo.EOF:this._err(es.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataDoubleEscapedDashDash(h){switch(h){case eo.HYPHEN_MINUS:this._emitChars("-");break;case eo.LESS_THAN_SIGN:this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case eo.GREATER_THAN_SIGN:this.state=ev.SCRIPT_DATA,this._emitChars(">");break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case eo.EOF:this._err(es.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(h)}}_stateScriptDataDoubleEscapedLessThanSign(h){h===eo.SOLIDUS?(this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(h))}_stateScriptDataDoubleEscapeEnd(h){if(this.preprocessor.startsWith(n9.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(n9.SCRIPT.length))){this._emitCodePoint(h);for(let h=0;h<n9.SCRIPT.length;h++)this._emitCodePoint(this._consume());this.state=ev.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ev.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(h))}_stateBeforeAttributeName(h){switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.SOLIDUS:case eo.GREATER_THAN_SIGN:case eo.EOF:this.state=ev.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(h);break;case eo.EQUALS_SIGN:this._err(es.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ev.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=ev.ATTRIBUTE_NAME,this._stateAttributeName(h)}}_stateAttributeName(h){switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:case eo.SOLIDUS:case eo.GREATER_THAN_SIGN:case eo.EOF:this._leaveAttrName(),this.state=ev.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(h);break;case eo.EQUALS_SIGN:this._leaveAttrName(),this.state=ev.BEFORE_ATTRIBUTE_VALUE;break;case eo.QUOTATION_MARK:case eo.APOSTROPHE:case eo.LESS_THAN_SIGN:this._err(es.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(h);break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.currentAttr.name+="";break;default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(h)?h+32:h)}}_stateAfterAttributeName(h){switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.SOLIDUS:this.state=ev.SELF_CLOSING_START_TAG;break;case eo.EQUALS_SIGN:this.state=ev.BEFORE_ATTRIBUTE_VALUE;break;case eo.GREATER_THAN_SIGN:this.state=ev.DATA,this.emitCurrentTagToken();break;case eo.EOF:this._err(es.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=ev.ATTRIBUTE_NAME,this._stateAttributeName(h)}}_stateBeforeAttributeValue(h){switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.QUOTATION_MARK:this.state=ev.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case eo.APOSTROPHE:this.state=ev.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case eo.GREATER_THAN_SIGN:this._err(es.missingAttributeValue),this.state=ev.DATA,this.emitCurrentTagToken();break;default:this.state=ev.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(h)}}_stateAttributeValueDoubleQuoted(h){switch(h){case eo.QUOTATION_MARK:this.state=ev.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case eo.AMPERSAND:this.returnState=ev.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=ev.CHARACTER_REFERENCE;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.currentAttr.value+="";break;case eo.EOF:this._err(es.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(h)}}_stateAttributeValueSingleQuoted(h){switch(h){case eo.APOSTROPHE:this.state=ev.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case eo.AMPERSAND:this.returnState=ev.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=ev.CHARACTER_REFERENCE;break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.currentAttr.value+="";break;case eo.EOF:this._err(es.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(h)}}_stateAttributeValueUnquoted(h){switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this._leaveAttrValue(),this.state=ev.BEFORE_ATTRIBUTE_NAME;break;case eo.AMPERSAND:this.returnState=ev.ATTRIBUTE_VALUE_UNQUOTED,this.state=ev.CHARACTER_REFERENCE;break;case eo.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=ev.DATA,this.emitCurrentTagToken();break;case eo.NULL:this._err(es.unexpectedNullCharacter),this.currentAttr.value+="";break;case eo.QUOTATION_MARK:case eo.APOSTROPHE:case eo.LESS_THAN_SIGN:case eo.EQUALS_SIGN:case eo.GRAVE_ACCENT:this._err(es.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(h);break;case eo.EOF:this._err(es.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(h)}}_stateAfterAttributeValueQuoted(h){switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this._leaveAttrValue(),this.state=ev.BEFORE_ATTRIBUTE_NAME;break;case eo.SOLIDUS:this._leaveAttrValue(),this.state=ev.SELF_CLOSING_START_TAG;break;case eo.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=ev.DATA,this.emitCurrentTagToken();break;case eo.EOF:this._err(es.eofInTag),this._emitEOFToken();break;default:this._err(es.missingWhitespaceBetweenAttributes),this.state=ev.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(h)}}_stateSelfClosingStartTag(h){switch(h){case eo.GREATER_THAN_SIGN:{let h=this.currentToken;h.selfClosing=!0,this.state=ev.DATA,this.emitCurrentTagToken();break}case eo.EOF:this._err(es.eofInTag),this._emitEOFToken();break;default:this._err(es.unexpectedSolidusInTag),this.state=ev.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(h)}}_stateBogusComment(h){let m=this.currentToken;switch(h){case eo.GREATER_THAN_SIGN:this.state=ev.DATA,this.emitCurrentComment(m);break;case eo.EOF:this.emitCurrentComment(m),this._emitEOFToken();break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.data+="";break;default:m.data+=String.fromCodePoint(h)}}_stateMarkupDeclarationOpen(h){this._consumeSequenceIfMatch(n9.DASH_DASH,!0)?(this._createCommentToken(n9.DASH_DASH.length+1),this.state=ev.COMMENT_START):this._consumeSequenceIfMatch(n9.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(n9.DOCTYPE.length+1),this.state=ev.DOCTYPE):this._consumeSequenceIfMatch(n9.CDATA_START,!0)?this.inForeignNode?this.state=ev.CDATA_SECTION:(this._err(es.cdataInHtmlContent),this._createCommentToken(n9.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ev.BOGUS_COMMENT):this._ensureHibernation()||(this._err(es.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ev.BOGUS_COMMENT,this._stateBogusComment(h))}_stateCommentStart(h){switch(h){case eo.HYPHEN_MINUS:this.state=ev.COMMENT_START_DASH;break;case eo.GREATER_THAN_SIGN:{this._err(es.abruptClosingOfEmptyComment),this.state=ev.DATA;let h=this.currentToken;this.emitCurrentComment(h);break}default:this.state=ev.COMMENT,this._stateComment(h)}}_stateCommentStartDash(h){let m=this.currentToken;switch(h){case eo.HYPHEN_MINUS:this.state=ev.COMMENT_END;break;case eo.GREATER_THAN_SIGN:this._err(es.abruptClosingOfEmptyComment),this.state=ev.DATA,this.emitCurrentComment(m);break;case eo.EOF:this._err(es.eofInComment),this.emitCurrentComment(m),this._emitEOFToken();break;default:m.data+="-",this.state=ev.COMMENT,this._stateComment(h)}}_stateComment(h){let m=this.currentToken;switch(h){case eo.HYPHEN_MINUS:this.state=ev.COMMENT_END_DASH;break;case eo.LESS_THAN_SIGN:m.data+="<",this.state=ev.COMMENT_LESS_THAN_SIGN;break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.data+="";break;case eo.EOF:this._err(es.eofInComment),this.emitCurrentComment(m),this._emitEOFToken();break;default:m.data+=String.fromCodePoint(h)}}_stateCommentLessThanSign(h){let m=this.currentToken;switch(h){case eo.EXCLAMATION_MARK:m.data+="!",this.state=ev.COMMENT_LESS_THAN_SIGN_BANG;break;case eo.LESS_THAN_SIGN:m.data+="<";break;default:this.state=ev.COMMENT,this._stateComment(h)}}_stateCommentLessThanSignBang(h){h===eo.HYPHEN_MINUS?this.state=ev.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ev.COMMENT,this._stateComment(h))}_stateCommentLessThanSignBangDash(h){h===eo.HYPHEN_MINUS?this.state=ev.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ev.COMMENT_END_DASH,this._stateCommentEndDash(h))}_stateCommentLessThanSignBangDashDash(h){h!==eo.GREATER_THAN_SIGN&&h!==eo.EOF&&this._err(es.nestedComment),this.state=ev.COMMENT_END,this._stateCommentEnd(h)}_stateCommentEndDash(h){let m=this.currentToken;switch(h){case eo.HYPHEN_MINUS:this.state=ev.COMMENT_END;break;case eo.EOF:this._err(es.eofInComment),this.emitCurrentComment(m),this._emitEOFToken();break;default:m.data+="-",this.state=ev.COMMENT,this._stateComment(h)}}_stateCommentEnd(h){let m=this.currentToken;switch(h){case eo.GREATER_THAN_SIGN:this.state=ev.DATA,this.emitCurrentComment(m);break;case eo.EXCLAMATION_MARK:this.state=ev.COMMENT_END_BANG;break;case eo.HYPHEN_MINUS:m.data+="-";break;case eo.EOF:this._err(es.eofInComment),this.emitCurrentComment(m),this._emitEOFToken();break;default:m.data+="--",this.state=ev.COMMENT,this._stateComment(h)}}_stateCommentEndBang(h){let m=this.currentToken;switch(h){case eo.HYPHEN_MINUS:m.data+="--!",this.state=ev.COMMENT_END_DASH;break;case eo.GREATER_THAN_SIGN:this._err(es.incorrectlyClosedComment),this.state=ev.DATA,this.emitCurrentComment(m);break;case eo.EOF:this._err(es.eofInComment),this.emitCurrentComment(m),this._emitEOFToken();break;default:m.data+="--!",this.state=ev.COMMENT,this._stateComment(h)}}_stateDoctype(h){switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this.state=ev.BEFORE_DOCTYPE_NAME;break;case eo.GREATER_THAN_SIGN:this.state=ev.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(h);break;case eo.EOF:{this._err(es.eofInDoctype),this._createDoctypeToken(null);let h=this.currentToken;h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break}default:this._err(es.missingWhitespaceBeforeDoctypeName),this.state=ev.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(h)}}_stateBeforeDoctypeName(h){if(isAsciiUpper(h))this._createDoctypeToken(String.fromCharCode(h+32)),this.state=ev.DOCTYPE_NAME;else switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.NULL:this._err(es.unexpectedNullCharacter),this._createDoctypeToken(""),this.state=ev.DOCTYPE_NAME;break;case eo.GREATER_THAN_SIGN:{this._err(es.missingDoctypeName),this._createDoctypeToken(null);let h=this.currentToken;h.forceQuirks=!0,this.emitCurrentDoctype(h),this.state=ev.DATA;break}case eo.EOF:{this._err(es.eofInDoctype),this._createDoctypeToken(null);let h=this.currentToken;h.forceQuirks=!0,this.emitCurrentDoctype(h),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(h)),this.state=ev.DOCTYPE_NAME}}_stateDoctypeName(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this.state=ev.AFTER_DOCTYPE_NAME;break;case eo.GREATER_THAN_SIGN:this.state=ev.DATA,this.emitCurrentDoctype(m);break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.name+="";break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:m.name+=String.fromCodePoint(isAsciiUpper(h)?h+32:h)}}_stateAfterDoctypeName(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.GREATER_THAN_SIGN:this.state=ev.DATA,this.emitCurrentDoctype(m);break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(n9.PUBLIC,!1)?this.state=ev.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(n9.SYSTEM,!1)?this.state=ev.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(es.invalidCharacterSequenceAfterDoctypeName),m.forceQuirks=!0,this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h))}}_stateAfterDoctypePublicKeyword(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this.state=ev.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case eo.QUOTATION_MARK:this._err(es.missingWhitespaceAfterDoctypePublicKeyword),m.publicId="",this.state=ev.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case eo.APOSTROPHE:this._err(es.missingWhitespaceAfterDoctypePublicKeyword),m.publicId="",this.state=ev.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case eo.GREATER_THAN_SIGN:this._err(es.missingDoctypePublicIdentifier),m.forceQuirks=!0,this.state=ev.DATA,this.emitCurrentDoctype(m);break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._err(es.missingQuoteBeforeDoctypePublicIdentifier),m.forceQuirks=!0,this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBeforeDoctypePublicIdentifier(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.QUOTATION_MARK:m.publicId="",this.state=ev.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case eo.APOSTROPHE:m.publicId="",this.state=ev.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case eo.GREATER_THAN_SIGN:this._err(es.missingDoctypePublicIdentifier),m.forceQuirks=!0,this.state=ev.DATA,this.emitCurrentDoctype(m);break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._err(es.missingQuoteBeforeDoctypePublicIdentifier),m.forceQuirks=!0,this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateDoctypePublicIdentifierDoubleQuoted(h){let m=this.currentToken;switch(h){case eo.QUOTATION_MARK:this.state=ev.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.publicId+="";break;case eo.GREATER_THAN_SIGN:this._err(es.abruptDoctypePublicIdentifier),m.forceQuirks=!0,this.emitCurrentDoctype(m),this.state=ev.DATA;break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:m.publicId+=String.fromCodePoint(h)}}_stateDoctypePublicIdentifierSingleQuoted(h){let m=this.currentToken;switch(h){case eo.APOSTROPHE:this.state=ev.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.publicId+="";break;case eo.GREATER_THAN_SIGN:this._err(es.abruptDoctypePublicIdentifier),m.forceQuirks=!0,this.emitCurrentDoctype(m),this.state=ev.DATA;break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:m.publicId+=String.fromCodePoint(h)}}_stateAfterDoctypePublicIdentifier(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this.state=ev.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case eo.GREATER_THAN_SIGN:this.state=ev.DATA,this.emitCurrentDoctype(m);break;case eo.QUOTATION_MARK:this._err(es.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eo.APOSTROPHE:this._err(es.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._err(es.missingQuoteBeforeDoctypeSystemIdentifier),m.forceQuirks=!0,this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBetweenDoctypePublicAndSystemIdentifiers(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.GREATER_THAN_SIGN:this.emitCurrentDoctype(m),this.state=ev.DATA;break;case eo.QUOTATION_MARK:m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eo.APOSTROPHE:m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._err(es.missingQuoteBeforeDoctypeSystemIdentifier),m.forceQuirks=!0,this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateAfterDoctypeSystemKeyword(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:this.state=ev.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case eo.QUOTATION_MARK:this._err(es.missingWhitespaceAfterDoctypeSystemKeyword),m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eo.APOSTROPHE:this._err(es.missingWhitespaceAfterDoctypeSystemKeyword),m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eo.GREATER_THAN_SIGN:this._err(es.missingDoctypeSystemIdentifier),m.forceQuirks=!0,this.state=ev.DATA,this.emitCurrentDoctype(m);break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._err(es.missingQuoteBeforeDoctypeSystemIdentifier),m.forceQuirks=!0,this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBeforeDoctypeSystemIdentifier(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.QUOTATION_MARK:m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case eo.APOSTROPHE:m.systemId="",this.state=ev.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case eo.GREATER_THAN_SIGN:this._err(es.missingDoctypeSystemIdentifier),m.forceQuirks=!0,this.state=ev.DATA,this.emitCurrentDoctype(m);break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._err(es.missingQuoteBeforeDoctypeSystemIdentifier),m.forceQuirks=!0,this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateDoctypeSystemIdentifierDoubleQuoted(h){let m=this.currentToken;switch(h){case eo.QUOTATION_MARK:this.state=ev.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.systemId+="";break;case eo.GREATER_THAN_SIGN:this._err(es.abruptDoctypeSystemIdentifier),m.forceQuirks=!0,this.emitCurrentDoctype(m),this.state=ev.DATA;break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:m.systemId+=String.fromCodePoint(h)}}_stateDoctypeSystemIdentifierSingleQuoted(h){let m=this.currentToken;switch(h){case eo.APOSTROPHE:this.state=ev.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case eo.NULL:this._err(es.unexpectedNullCharacter),m.systemId+="";break;case eo.GREATER_THAN_SIGN:this._err(es.abruptDoctypeSystemIdentifier),m.forceQuirks=!0,this.emitCurrentDoctype(m),this.state=ev.DATA;break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:m.systemId+=String.fromCodePoint(h)}}_stateAfterDoctypeSystemIdentifier(h){let m=this.currentToken;switch(h){case eo.SPACE:case eo.LINE_FEED:case eo.TABULATION:case eo.FORM_FEED:break;case eo.GREATER_THAN_SIGN:this.emitCurrentDoctype(m),this.state=ev.DATA;break;case eo.EOF:this._err(es.eofInDoctype),m.forceQuirks=!0,this.emitCurrentDoctype(m),this._emitEOFToken();break;default:this._err(es.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ev.BOGUS_DOCTYPE,this._stateBogusDoctype(h)}}_stateBogusDoctype(h){let m=this.currentToken;switch(h){case eo.GREATER_THAN_SIGN:this.emitCurrentDoctype(m),this.state=ev.DATA;break;case eo.NULL:this._err(es.unexpectedNullCharacter);break;case eo.EOF:this.emitCurrentDoctype(m),this._emitEOFToken()}}_stateCdataSection(h){switch(h){case eo.RIGHT_SQUARE_BRACKET:this.state=ev.CDATA_SECTION_BRACKET;break;case eo.EOF:this._err(es.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(h)}}_stateCdataSectionBracket(h){h===eo.RIGHT_SQUARE_BRACKET?this.state=ev.CDATA_SECTION_END:(this._emitChars("]"),this.state=ev.CDATA_SECTION,this._stateCdataSection(h))}_stateCdataSectionEnd(h){switch(h){case eo.GREATER_THAN_SIGN:this.state=ev.DATA;break;case eo.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=ev.CDATA_SECTION,this._stateCdataSection(h)}}_stateCharacterReference(h){h===eo.NUMBER_SIGN?this.state=ev.NUMERIC_CHARACTER_REFERENCE:tokenizer_isAsciiAlphaNumeric(h)?(this.state=ev.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(h)):(this._flushCodePointConsumedAsCharacterReference(eo.AMPERSAND),this._reconsumeInState(this.returnState,h))}_stateNamedCharacterReference(h){let m=this._matchNamedCharacterReference(h);if(this._ensureHibernation());else if(m){for(let h=0;h<m.length;h++)this._flushCodePointConsumedAsCharacterReference(m[h]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(eo.AMPERSAND),this.state=ev.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(h){tokenizer_isAsciiAlphaNumeric(h)?this._flushCodePointConsumedAsCharacterReference(h):(h===eo.SEMICOLON&&this._err(es.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,h))}_stateNumericCharacterReference(h){this.charRefCode=0,h===eo.LATIN_SMALL_X||h===eo.LATIN_CAPITAL_X?this.state=ev.HEXADEMICAL_CHARACTER_REFERENCE_START:isAsciiDigit(h)?(this.state=ev.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(h)):(this._err(es.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(eo.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(eo.NUMBER_SIGN),this._reconsumeInState(this.returnState,h))}_stateHexademicalCharacterReferenceStart(h){isAsciiDigit(h)||isAsciiUpperHexDigit(h)||isAsciiLowerHexDigit(h)?(this.state=ev.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(h)):(this._err(es.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(eo.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(eo.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(h){isAsciiUpperHexDigit(h)?this.charRefCode=16*this.charRefCode+h-55:isAsciiLowerHexDigit(h)?this.charRefCode=16*this.charRefCode+h-87:isAsciiDigit(h)?this.charRefCode=16*this.charRefCode+h-48:h===eo.SEMICOLON?this.state=ev.NUMERIC_CHARACTER_REFERENCE_END:(this._err(es.missingSemicolonAfterCharacterReference),this.state=ev.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(h))}_stateDecimalCharacterReference(h){isAsciiDigit(h)?this.charRefCode=10*this.charRefCode+h-48:h===eo.SEMICOLON?this.state=ev.NUMERIC_CHARACTER_REFERENCE_END:(this._err(es.missingSemicolonAfterCharacterReference),this.state=ev.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(h))}_stateNumericCharacterReferenceEnd(h){if(this.charRefCode===eo.NULL)this._err(es.nullCharacterReference),this.charRefCode=eo.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(es.characterReferenceOutsideUnicodeRange),this.charRefCode=eo.REPLACEMENT_CHARACTER;else if(isSurrogate(this.charRefCode))this._err(es.surrogateCharacterReference),this.charRefCode=eo.REPLACEMENT_CHARACTER;else if(isUndefinedCodePoint(this.charRefCode))this._err(es.noncharacterCharacterReference);else if(isControlCodePoint(this.charRefCode)||this.charRefCode===eo.CARRIAGE_RETURN){this._err(es.controlCharacterReference);let h=rl.get(this.charRefCode);void 0!==h&&(this.charRefCode=h)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,h)}};let ru=new Set([eE.DD,eE.DT,eE.LI,eE.OPTGROUP,eE.OPTION,eE.P,eE.RB,eE.RP,eE.RT,eE.RTC]),rd=new Set([...ru,eE.CAPTION,eE.COLGROUP,eE.TBODY,eE.TD,eE.TFOOT,eE.TH,eE.THEAD,eE.TR]),rh=new Map([[eE.APPLET,em.HTML],[eE.CAPTION,em.HTML],[eE.HTML,em.HTML],[eE.MARQUEE,em.HTML],[eE.OBJECT,em.HTML],[eE.TABLE,em.HTML],[eE.TD,em.HTML],[eE.TEMPLATE,em.HTML],[eE.TH,em.HTML],[eE.ANNOTATION_XML,em.MATHML],[eE.MI,em.MATHML],[eE.MN,em.MATHML],[eE.MO,em.MATHML],[eE.MS,em.MATHML],[eE.MTEXT,em.MATHML],[eE.DESC,em.SVG],[eE.FOREIGN_OBJECT,em.SVG],[eE.TITLE,em.SVG]]),rp=[eE.H1,eE.H2,eE.H3,eE.H4,eE.H5,eE.H6],rm=[eE.TR,eE.TEMPLATE,eE.HTML],rf=[eE.TBODY,eE.TFOOT,eE.THEAD,eE.TEMPLATE,eE.HTML],rg=[eE.TABLE,eE.TEMPLATE,eE.HTML],r_=[eE.TD,eE.TH];let OpenElementStack=class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(h,m,_){this.treeAdapter=m,this.handler=_,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=eE.UNKNOWN,this.current=h}_indexOf(h){return this.items.lastIndexOf(h,this.stackTop)}_isInTemplate(){return this.currentTagId===eE.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===em.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(h,m){this.stackTop++,this.items[this.stackTop]=h,this.current=h,this.tagIDs[this.stackTop]=m,this.currentTagId=m,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(h,m,!0)}pop(){let h=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(h,!0)}replace(h,m){let _=this._indexOf(h);this.items[_]=m,_===this.stackTop&&(this.current=m)}insertAfter(h,m,_){let v=this._indexOf(h)+1;this.items.splice(v,0,m),this.tagIDs.splice(v,0,_),this.stackTop++,v===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,v===this.stackTop)}popUntilTagNamePopped(h){let m=this.stackTop+1;do m=this.tagIDs.lastIndexOf(h,m-1);while(m>0&&this.treeAdapter.getNamespaceURI(this.items[m])!==em.HTML);this.shortenToLength(m<0?0:m)}shortenToLength(h){for(;this.stackTop>=h;){let m=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(m,this.stackTop<h)}}popUntilElementPopped(h){let m=this._indexOf(h);this.shortenToLength(m<0?0:m)}popUntilPopped(h,m){let _=this._indexOfTagNames(h,m);this.shortenToLength(_<0?0:_)}popUntilNumberedHeaderPopped(){this.popUntilPopped(rp,em.HTML)}popUntilTableCellPopped(){this.popUntilPopped(r_,em.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(h,m){for(let _=this.stackTop;_>=0;_--)if(h.includes(this.tagIDs[_])&&this.treeAdapter.getNamespaceURI(this.items[_])===m)return _;return -1}clearBackTo(h,m){let _=this._indexOfTagNames(h,m);this.shortenToLength(_+1)}clearBackToTableContext(){this.clearBackTo(rg,em.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rf,em.HTML)}clearBackToTableRowContext(){this.clearBackTo(rm,em.HTML)}remove(h){let m=this._indexOf(h);m>=0&&(m===this.stackTop?this.pop():(this.items.splice(m,1),this.tagIDs.splice(m,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(h,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===eE.BODY?this.items[1]:null}contains(h){return this._indexOf(h)>-1}getCommonAncestor(h){let m=this._indexOf(h)-1;return m>=0?this.items[m]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===eE.HTML}hasInScope(h){for(let m=this.stackTop;m>=0;m--){let _=this.tagIDs[m],v=this.treeAdapter.getNamespaceURI(this.items[m]);if(_===h&&v===em.HTML)break;if(rh.get(_)===v)return!1}return!0}hasNumberedHeaderInScope(){for(let h=this.stackTop;h>=0;h--){let m=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(isNumberedHeader(m)&&_===em.HTML)break;if(rh.get(m)===_)return!1}return!0}hasInListItemScope(h){for(let m=this.stackTop;m>=0;m--){let _=this.tagIDs[m],v=this.treeAdapter.getNamespaceURI(this.items[m]);if(_===h&&v===em.HTML)break;if((_===eE.UL||_===eE.OL)&&v===em.HTML||rh.get(_)===v)return!1}return!0}hasInButtonScope(h){for(let m=this.stackTop;m>=0;m--){let _=this.tagIDs[m],v=this.treeAdapter.getNamespaceURI(this.items[m]);if(_===h&&v===em.HTML)break;if(_===eE.BUTTON&&v===em.HTML||rh.get(_)===v)return!1}return!0}hasInTableScope(h){for(let m=this.stackTop;m>=0;m--){let _=this.tagIDs[m],v=this.treeAdapter.getNamespaceURI(this.items[m]);if(v===em.HTML){if(_===h)break;if(_===eE.TABLE||_===eE.TEMPLATE||_===eE.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let h=this.stackTop;h>=0;h--){let m=this.tagIDs[h],_=this.treeAdapter.getNamespaceURI(this.items[h]);if(_===em.HTML){if(m===eE.TBODY||m===eE.THEAD||m===eE.TFOOT)break;if(m===eE.TABLE||m===eE.HTML)return!1}}return!0}hasInSelectScope(h){for(let m=this.stackTop;m>=0;m--){let _=this.tagIDs[m],v=this.treeAdapter.getNamespaceURI(this.items[m]);if(v===em.HTML){if(_===h)break;if(_!==eE.OPTION&&_!==eE.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;ru.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;rd.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(h){for(;this.currentTagId!==h&&rd.has(this.currentTagId);)this.pop()}};(K=eT=eT||(eT={}))[K.Marker=0]="Marker",K[K.Element=1]="Element";let rE={type:eT.Marker};let FormattingElementList=class FormattingElementList{constructor(h){this.treeAdapter=h,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(h,m){let _=[],v=m.length,b=this.treeAdapter.getTagName(h),A=this.treeAdapter.getNamespaceURI(h);for(let h=0;h<this.entries.length;h++){let m=this.entries[h];if(m.type===eT.Marker)break;let{element:C}=m;if(this.treeAdapter.getTagName(C)===b&&this.treeAdapter.getNamespaceURI(C)===A){let m=this.treeAdapter.getAttrList(C);m.length===v&&_.push({idx:h,attrs:m})}}return _}_ensureNoahArkCondition(h){if(this.entries.length<3)return;let m=this.treeAdapter.getAttrList(h),_=this._getNoahArkConditionCandidates(h,m);if(_.length<3)return;let v=new Map(m.map(h=>[h.name,h.value])),b=0;for(let h=0;h<_.length;h++){let m=_[h];m.attrs.every(h=>v.get(h.name)===h.value)&&(b+=1)>=3&&this.entries.splice(m.idx,1)}}insertMarker(){this.entries.unshift(rE)}pushElement(h,m){this._ensureNoahArkCondition(h),this.entries.unshift({type:eT.Element,element:h,token:m})}insertElementAfterBookmark(h,m){let _=this.entries.indexOf(this.bookmark);this.entries.splice(_,0,{type:eT.Element,element:h,token:m})}removeEntry(h){let m=this.entries.indexOf(h);m>=0&&this.entries.splice(m,1)}clearToLastMarker(){let h=this.entries.indexOf(rE);h>=0?this.entries.splice(0,h+1):this.entries.length=0}getElementEntryInScopeWithTagName(h){let m=this.entries.find(m=>m.type===eT.Marker||this.treeAdapter.getTagName(m.element)===h);return m&&m.type===eT.Element?m:null}getElementEntry(h){return this.entries.find(m=>m.type===eT.Element&&m.element===h)}};function createTextNode(h){return{nodeName:"#text",value:h,parentNode:null}}let rv={createDocument:()=>({nodeName:"#document",mode:eg.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(h,m,_)=>({nodeName:h,tagName:h,attrs:_,namespaceURI:m,childNodes:[],parentNode:null}),createCommentNode:h=>({nodeName:"#comment",data:h,parentNode:null}),appendChild(h,m){h.childNodes.push(m),m.parentNode=h},insertBefore(h,m,_){let v=h.childNodes.indexOf(_);h.childNodes.splice(v,0,m),m.parentNode=h},setTemplateContent(h,m){h.content=m},getTemplateContent:h=>h.content,setDocumentType(h,m,_,v){let b=h.childNodes.find(h=>"#documentType"===h.nodeName);b?(b.name=m,b.publicId=_,b.systemId=v):rv.appendChild(h,{nodeName:"#documentType",name:m,publicId:_,systemId:v,parentNode:null})},setDocumentMode(h,m){h.mode=m},getDocumentMode:h=>h.mode,detachNode(h){if(h.parentNode){let m=h.parentNode.childNodes.indexOf(h);h.parentNode.childNodes.splice(m,1),h.parentNode=null}},insertText(h,m){if(h.childNodes.length>0){let _=h.childNodes[h.childNodes.length-1];if(rv.isTextNode(_)){_.value+=m;return}}rv.appendChild(h,createTextNode(m))},insertTextBefore(h,m,_){let v=h.childNodes[h.childNodes.indexOf(_)-1];v&&rv.isTextNode(v)?v.value+=m:rv.insertBefore(h,createTextNode(m),_)},adoptAttributes(h,m){let _=new Set(h.attrs.map(h=>h.name));for(let v=0;v<m.length;v++)_.has(m[v].name)||h.attrs.push(m[v])},getFirstChild:h=>h.childNodes[0],getChildNodes:h=>h.childNodes,getParentNode:h=>h.parentNode,getAttrList:h=>h.attrs,getTagName:h=>h.tagName,getNamespaceURI:h=>h.namespaceURI,getTextNodeContent:h=>h.value,getCommentNodeContent:h=>h.data,getDocumentTypeNodeName:h=>h.name,getDocumentTypeNodePublicId:h=>h.publicId,getDocumentTypeNodeSystemId:h=>h.systemId,isTextNode:h=>"#text"===h.nodeName,isCommentNode:h=>"#comment"===h.nodeName,isDocumentTypeNode:h=>"#documentType"===h.nodeName,isElementNode:h=>Object.prototype.hasOwnProperty.call(h,"tagName"),setNodeSourceCodeLocation(h,m){h.sourceCodeLocation=m},getNodeSourceCodeLocation:h=>h.sourceCodeLocation,updateNodeSourceCodeLocation(h,m){h.sourceCodeLocation={...h.sourceCodeLocation,...m}}},rT="html",ry=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],rb=[...ry,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],rk=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rA=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],rx=[...rA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(h,m){return m.some(m=>h.startsWith(m))}let rC={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},rS=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(h=>[h.toLowerCase(),h])),rI=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:em.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:em.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:em.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:em.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:em.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:em.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:em.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:em.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:em.XML}],["xml:space",{prefix:"xml",name:"space",namespace:em.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:em.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:em.XMLNS}]]),rw=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(h=>[h.toLowerCase(),h])),rN=new Set([eE.B,eE.BIG,eE.BLOCKQUOTE,eE.BODY,eE.BR,eE.CENTER,eE.CODE,eE.DD,eE.DIV,eE.DL,eE.DT,eE.EM,eE.EMBED,eE.H1,eE.H2,eE.H3,eE.H4,eE.H5,eE.H6,eE.HEAD,eE.HR,eE.I,eE.IMG,eE.LI,eE.LISTING,eE.MENU,eE.META,eE.NOBR,eE.OL,eE.P,eE.PRE,eE.RUBY,eE.S,eE.SMALL,eE.SPAN,eE.STRONG,eE.STRIKE,eE.SUB,eE.SUP,eE.TABLE,eE.TT,eE.U,eE.UL,eE.VAR]);function adjustTokenMathMLAttrs(h){for(let m=0;m<h.attrs.length;m++)if("definitionurl"===h.attrs[m].name){h.attrs[m].name="definitionURL";break}}function adjustTokenSVGAttrs(h){for(let m=0;m<h.attrs.length;m++){let _=rS.get(h.attrs[m].name);null!=_&&(h.attrs[m].name=_)}}function adjustTokenXMLAttrs(h){for(let m=0;m<h.attrs.length;m++){let _=rI.get(h.attrs[m].name);_&&(h.attrs[m].prefix=_.prefix,h.attrs[m].name=_.name,h.attrs[m].namespace=_.namespace)}}(J=ey||(ey={}))[J.INITIAL=0]="INITIAL",J[J.BEFORE_HTML=1]="BEFORE_HTML",J[J.BEFORE_HEAD=2]="BEFORE_HEAD",J[J.IN_HEAD=3]="IN_HEAD",J[J.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",J[J.AFTER_HEAD=5]="AFTER_HEAD",J[J.IN_BODY=6]="IN_BODY",J[J.TEXT=7]="TEXT",J[J.IN_TABLE=8]="IN_TABLE",J[J.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",J[J.IN_CAPTION=10]="IN_CAPTION",J[J.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",J[J.IN_TABLE_BODY=12]="IN_TABLE_BODY",J[J.IN_ROW=13]="IN_ROW",J[J.IN_CELL=14]="IN_CELL",J[J.IN_SELECT=15]="IN_SELECT",J[J.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",J[J.IN_TEMPLATE=17]="IN_TEMPLATE",J[J.AFTER_BODY=18]="AFTER_BODY",J[J.IN_FRAMESET=19]="IN_FRAMESET",J[J.AFTER_FRAMESET=20]="AFTER_FRAMESET",J[J.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",J[J.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let rO={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},rR=new Set([eE.TABLE,eE.TBODY,eE.TFOOT,eE.THEAD,eE.TR]),rL={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:rv,onParseError:null};let parser_Parser=class parser_Parser{constructor(h,m,_=null,v=null){this.fragmentContext=_,this.scriptHandler=v,this.currentToken=null,this.stopped=!1,this.insertionMode=ey.INITIAL,this.originalInsertionMode=ey.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...rL,...h},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=m?m:this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=_?getTagID(this.treeAdapter.getTagName(_)):eE.UNKNOWN,this._setContextModes(null!=_?_:this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(h,m){let _=new this(m);return _.tokenizer.write(h,!0),_.document}static getFragmentParser(h,m){let _={...rL,...m};null!=h||(h=_.treeAdapter.createElement(e_.TEMPLATE,em.HTML,[]));let v=_.treeAdapter.createElement("documentmock",em.HTML,[]),b=new this(_,v,h);return b.fragmentContextID===eE.TEMPLATE&&b.tmplInsertionModeStack.unshift(ey.IN_TEMPLATE),b._initTokenizerForFragmentParsing(),b._insertFakeRootElement(),b._resetInsertionMode(),b._findFormInFragmentContext(),b}getFragment(){let h=this.treeAdapter.getFirstChild(this.document),m=this.treeAdapter.createDocumentFragment();return this._adoptNodes(h,m),m}_err(h,m,_){var v;if(!this.onParseError)return;let b=null!==(v=h.location)&&void 0!==v?v:rO,A={code:m,startLine:b.startLine,startCol:b.startCol,startOffset:b.startOffset,endLine:_?b.startLine:b.endLine,endCol:_?b.startCol:b.endCol,endOffset:_?b.startOffset:b.endOffset};this.onParseError(A)}onItemPush(h,m,_){var v,b;null===(b=(v=this.treeAdapter).onItemPush)||void 0===b||b.call(v,h),_&&this.openElements.stackTop>0&&this._setContextModes(h,m)}onItemPop(h,m){var _,v;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(h,this.currentToken),null===(v=(_=this.treeAdapter).onItemPop)||void 0===v||v.call(_,h,this.openElements.current),m){let h,m;0===this.openElements.stackTop&&this.fragmentContext?(h=this.fragmentContext,m=this.fragmentContextID):{current:h,currentTagId:m}=this.openElements,this._setContextModes(h,m)}}_setContextModes(h,m){let _=h===this.document||this.treeAdapter.getNamespaceURI(h)===em.HTML;this.currentNotInHTML=!_,this.tokenizer.inForeignNode=!_&&!this._isIntegrationPoint(m,h)}_switchToTextParsing(h,m){this._insertElement(h,em.HTML),this.tokenizer.state=m,this.originalInsertionMode=this.insertionMode,this.insertionMode=ey.TEXT}switchToPlaintextParsing(){this.insertionMode=ey.TEXT,this.originalInsertionMode=ey.IN_BODY,this.tokenizer.state=rc.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let h=this.fragmentContext;for(;h;){if(this.treeAdapter.getTagName(h)===e_.FORM){this.formElement=h;break}h=this.treeAdapter.getParentNode(h)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===em.HTML)switch(this.fragmentContextID){case eE.TITLE:case eE.TEXTAREA:this.tokenizer.state=rc.RCDATA;break;case eE.STYLE:case eE.XMP:case eE.IFRAME:case eE.NOEMBED:case eE.NOFRAMES:case eE.NOSCRIPT:this.tokenizer.state=rc.RAWTEXT;break;case eE.SCRIPT:this.tokenizer.state=rc.SCRIPT_DATA;break;case eE.PLAINTEXT:this.tokenizer.state=rc.PLAINTEXT}}_setDocumentType(h){let m=h.name||"",_=h.publicId||"",v=h.systemId||"";if(this.treeAdapter.setDocumentType(this.document,m,_,v),h.location){let m=this.treeAdapter.getChildNodes(this.document),_=m.find(h=>this.treeAdapter.isDocumentTypeNode(h));_&&this.treeAdapter.setNodeSourceCodeLocation(_,h.location)}}_attachElementToTree(h,m){if(this.options.sourceCodeLocationInfo){let _=m&&{...m,startTag:m};this.treeAdapter.setNodeSourceCodeLocation(h,_)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(h);else{let m=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(m,h)}}_appendElement(h,m){let _=this.treeAdapter.createElement(h.tagName,m,h.attrs);this._attachElementToTree(_,h.location)}_insertElement(h,m){let _=this.treeAdapter.createElement(h.tagName,m,h.attrs);this._attachElementToTree(_,h.location),this.openElements.push(_,h.tagID)}_insertFakeElement(h,m){let _=this.treeAdapter.createElement(h,em.HTML,[]);this._attachElementToTree(_,null),this.openElements.push(_,m)}_insertTemplate(h){let m=this.treeAdapter.createElement(h.tagName,em.HTML,h.attrs),_=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(m,_),this._attachElementToTree(m,h.location),this.openElements.push(m,h.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(_,null)}_insertFakeRootElement(){let h=this.treeAdapter.createElement(e_.HTML,em.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(h,null),this.treeAdapter.appendChild(this.openElements.current,h),this.openElements.push(h,eE.HTML)}_appendCommentNode(h,m){let _=this.treeAdapter.createCommentNode(h.data);this.treeAdapter.appendChild(m,_),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(_,h.location)}_insertCharacters(h){let m,_;if(this._shouldFosterParentOnInsertion()?({parent:m,beforeElement:_}=this._findFosterParentingLocation(),_?this.treeAdapter.insertTextBefore(m,h.chars,_):this.treeAdapter.insertText(m,h.chars)):(m=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(m,h.chars)),!h.location)return;let v=this.treeAdapter.getChildNodes(m),b=_?v.lastIndexOf(_):v.length,A=v[b-1],C=this.treeAdapter.getNodeSourceCodeLocation(A);if(C){let{endLine:m,endCol:_,endOffset:v}=h.location;this.treeAdapter.updateNodeSourceCodeLocation(A,{endLine:m,endCol:_,endOffset:v})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(A,h.location)}_adoptNodes(h,m){for(let _=this.treeAdapter.getFirstChild(h);_;_=this.treeAdapter.getFirstChild(h))this.treeAdapter.detachNode(_),this.treeAdapter.appendChild(m,_)}_setEndLocation(h,m){if(this.treeAdapter.getNodeSourceCodeLocation(h)&&m.location){let _=m.location,v=this.treeAdapter.getTagName(h),b=m.type===el.END_TAG&&v===m.tagName?{endTag:{..._},endLine:_.endLine,endCol:_.endCol,endOffset:_.endOffset}:{endLine:_.startLine,endCol:_.startCol,endOffset:_.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(h,b)}}shouldProcessStartTagTokenInForeignContent(h){let m,_;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(m=this.fragmentContext,_=this.fragmentContextID):{current:m,currentTagId:_}=this.openElements,(h.tagID!==eE.SVG||this.treeAdapter.getTagName(m)!==e_.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(m)!==em.MATHML)&&(this.tokenizer.inForeignNode||(h.tagID===eE.MGLYPH||h.tagID===eE.MALIGNMARK)&&!this._isIntegrationPoint(_,m,em.HTML)))}_processToken(h){switch(h.type){case el.CHARACTER:this.onCharacter(h);break;case el.NULL_CHARACTER:this.onNullCharacter(h);break;case el.COMMENT:this.onComment(h);break;case el.DOCTYPE:this.onDoctype(h);break;case el.START_TAG:this._processStartTag(h);break;case el.END_TAG:this.onEndTag(h);break;case el.EOF:this.onEof(h);break;case el.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(h)}}_isIntegrationPoint(h,m,_){let v=this.treeAdapter.getNamespaceURI(m),b=this.treeAdapter.getAttrList(m);return(!_||_===em.HTML)&&function(h,m,_){if(m===em.MATHML&&h===eE.ANNOTATION_XML){for(let h=0;h<_.length;h++)if(_[h].name===ef.ENCODING){let m=_[h].value.toLowerCase();return m===rC.TEXT_HTML||m===rC.APPLICATION_XML}}return m===em.SVG&&(h===eE.FOREIGN_OBJECT||h===eE.DESC||h===eE.TITLE)}(h,v,b)||(!_||_===em.MATHML)&&v===em.MATHML&&(h===eE.MI||h===eE.MO||h===eE.MN||h===eE.MS||h===eE.MTEXT)}_reconstructActiveFormattingElements(){let h=this.activeFormattingElements.entries.length;if(h){let m=this.activeFormattingElements.entries.findIndex(h=>h.type===eT.Marker||this.openElements.contains(h.element)),_=m<0?h-1:m-1;for(let h=_;h>=0;h--){let m=this.activeFormattingElements.entries[h];this._insertElement(m.token,this.treeAdapter.getNamespaceURI(m.element)),m.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ey.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(eE.P),this.openElements.popUntilTagNamePopped(eE.P)}_resetInsertionMode(){for(let h=this.openElements.stackTop;h>=0;h--)switch(0===h&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[h]){case eE.TR:this.insertionMode=ey.IN_ROW;return;case eE.TBODY:case eE.THEAD:case eE.TFOOT:this.insertionMode=ey.IN_TABLE_BODY;return;case eE.CAPTION:this.insertionMode=ey.IN_CAPTION;return;case eE.COLGROUP:this.insertionMode=ey.IN_COLUMN_GROUP;return;case eE.TABLE:this.insertionMode=ey.IN_TABLE;return;case eE.BODY:this.insertionMode=ey.IN_BODY;return;case eE.FRAMESET:this.insertionMode=ey.IN_FRAMESET;return;case eE.SELECT:this._resetInsertionModeForSelect(h);return;case eE.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case eE.HTML:this.insertionMode=this.headElement?ey.AFTER_HEAD:ey.BEFORE_HEAD;return;case eE.TD:case eE.TH:if(h>0){this.insertionMode=ey.IN_CELL;return}break;case eE.HEAD:if(h>0){this.insertionMode=ey.IN_HEAD;return}}this.insertionMode=ey.IN_BODY}_resetInsertionModeForSelect(h){if(h>0)for(let m=h-1;m>0;m--){let h=this.openElements.tagIDs[m];if(h===eE.TEMPLATE)break;if(h===eE.TABLE){this.insertionMode=ey.IN_SELECT_IN_TABLE;return}}this.insertionMode=ey.IN_SELECT}_isElementCausesFosterParenting(h){return rR.has(h)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let h=this.openElements.stackTop;h>=0;h--){let m=this.openElements.items[h];switch(this.openElements.tagIDs[h]){case eE.TEMPLATE:if(this.treeAdapter.getNamespaceURI(m)===em.HTML)return{parent:this.treeAdapter.getTemplateContent(m),beforeElement:null};break;case eE.TABLE:{let _=this.treeAdapter.getParentNode(m);if(_)return{parent:_,beforeElement:m};return{parent:this.openElements.items[h-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(h){let m=this._findFosterParentingLocation();m.beforeElement?this.treeAdapter.insertBefore(m.parent,h,m.beforeElement):this.treeAdapter.appendChild(m.parent,h)}_isSpecialElement(h,m){let _=this.treeAdapter.getNamespaceURI(h);return rs[_].has(m)}onCharacter(h){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(h),this.framesetOk=!1;return}switch(this.insertionMode){case ey.INITIAL:tokenInInitialMode(this,h);break;case ey.BEFORE_HTML:tokenBeforeHtml(this,h);break;case ey.BEFORE_HEAD:tokenBeforeHead(this,h);break;case ey.IN_HEAD:tokenInHead(this,h);break;case ey.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,h);break;case ey.AFTER_HEAD:tokenAfterHead(this,h);break;case ey.IN_BODY:case ey.IN_CAPTION:case ey.IN_CELL:case ey.IN_TEMPLATE:characterInBody(this,h);break;case ey.TEXT:case ey.IN_SELECT:case ey.IN_SELECT_IN_TABLE:this._insertCharacters(h);break;case ey.IN_TABLE:case ey.IN_TABLE_BODY:case ey.IN_ROW:characterInTable(this,h);break;case ey.IN_TABLE_TEXT:characterInTableText(this,h);break;case ey.IN_COLUMN_GROUP:tokenInColumnGroup(this,h);break;case ey.AFTER_BODY:tokenAfterBody(this,h);break;case ey.AFTER_AFTER_BODY:tokenAfterAfterBody(this,h)}}onNullCharacter(h){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){h.chars="",this._insertCharacters(h);return}switch(this.insertionMode){case ey.INITIAL:tokenInInitialMode(this,h);break;case ey.BEFORE_HTML:tokenBeforeHtml(this,h);break;case ey.BEFORE_HEAD:tokenBeforeHead(this,h);break;case ey.IN_HEAD:tokenInHead(this,h);break;case ey.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,h);break;case ey.AFTER_HEAD:tokenAfterHead(this,h);break;case ey.TEXT:this._insertCharacters(h);break;case ey.IN_TABLE:case ey.IN_TABLE_BODY:case ey.IN_ROW:characterInTable(this,h);break;case ey.IN_COLUMN_GROUP:tokenInColumnGroup(this,h);break;case ey.AFTER_BODY:tokenAfterBody(this,h);break;case ey.AFTER_AFTER_BODY:tokenAfterAfterBody(this,h)}}onComment(h){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,h);return}switch(this.insertionMode){case ey.INITIAL:case ey.BEFORE_HTML:case ey.BEFORE_HEAD:case ey.IN_HEAD:case ey.IN_HEAD_NO_SCRIPT:case ey.AFTER_HEAD:case ey.IN_BODY:case ey.IN_TABLE:case ey.IN_CAPTION:case ey.IN_COLUMN_GROUP:case ey.IN_TABLE_BODY:case ey.IN_ROW:case ey.IN_CELL:case ey.IN_SELECT:case ey.IN_SELECT_IN_TABLE:case ey.IN_TEMPLATE:case ey.IN_FRAMESET:case ey.AFTER_FRAMESET:appendComment(this,h);break;case ey.IN_TABLE_TEXT:tokenInTableText(this,h);break;case ey.AFTER_BODY:!function(h,m){h._appendCommentNode(m,h.openElements.items[0])}(this,h);break;case ey.AFTER_AFTER_BODY:case ey.AFTER_AFTER_FRAMESET:!function(h,m){h._appendCommentNode(m,h.document)}(this,h)}}onDoctype(h){switch(this.skipNextNewLine=!1,this.insertionMode){case ey.INITIAL:!function(h,m){h._setDocumentType(m);let _=m.forceQuirks?eg.QUIRKS:function(h){if(h.name!==rT)return eg.QUIRKS;let{systemId:m}=h;if(m&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===m.toLowerCase())return eg.QUIRKS;let{publicId:_}=h;if(null!==_){if(_=_.toLowerCase(),rk.has(_))return eg.QUIRKS;let h=null===m?rb:ry;if(hasPrefix(_,h))return eg.QUIRKS;if(hasPrefix(_,h=null===m?rA:rx))return eg.LIMITED_QUIRKS}return eg.NO_QUIRKS}(m);m.name===rT&&null===m.publicId&&(null===m.systemId||"about:legacy-compat"===m.systemId)||h._err(m,es.nonConformingDoctype),h.treeAdapter.setDocumentMode(h.document,_),h.insertionMode=ey.BEFORE_HTML}(this,h);break;case ey.BEFORE_HEAD:case ey.IN_HEAD:case ey.IN_HEAD_NO_SCRIPT:case ey.AFTER_HEAD:this._err(h,es.misplacedDoctype);break;case ey.IN_TABLE_TEXT:tokenInTableText(this,h)}}onStartTag(h){this.skipNextNewLine=!1,this.currentToken=h,this._processStartTag(h),h.selfClosing&&!h.ackSelfClosing&&this._err(h,es.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(h){this.shouldProcessStartTagTokenInForeignContent(h)?function(h,m){if(function(h){let m=h.tagID,_=m===eE.FONT&&h.attrs.some(({name:h})=>h===ef.COLOR||h===ef.SIZE||h===ef.FACE);return _||rN.has(m)}(m))popUntilHtmlOrIntegrationPoint(h),h._startTagOutsideForeignContent(m);else{let _=h._getAdjustedCurrentElement(),v=h.treeAdapter.getNamespaceURI(_);v===em.MATHML?adjustTokenMathMLAttrs(m):v===em.SVG&&(function(h){let m=rw.get(h.tagName);null!=m&&(h.tagName=m,h.tagID=getTagID(h.tagName))}(m),adjustTokenSVGAttrs(m)),adjustTokenXMLAttrs(m),m.selfClosing?h._appendElement(m,v):h._insertElement(m,v),m.ackSelfClosing=!0}}(this,h):this._startTagOutsideForeignContent(h)}_startTagOutsideForeignContent(h){switch(this.insertionMode){case ey.INITIAL:tokenInInitialMode(this,h);break;case ey.BEFORE_HTML:h.tagID===eE.HTML?(this._insertElement(h,em.HTML),this.insertionMode=ey.BEFORE_HEAD):tokenBeforeHtml(this,h);break;case ey.BEFORE_HEAD:!function(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.HEAD:h._insertElement(m,em.HTML),h.headElement=h.openElements.current,h.insertionMode=ey.IN_HEAD;break;default:tokenBeforeHead(h,m)}}(this,h);break;case ey.IN_HEAD:startTagInHead(this,h);break;case ey.IN_HEAD_NO_SCRIPT:!function(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.BASEFONT:case eE.BGSOUND:case eE.HEAD:case eE.LINK:case eE.META:case eE.NOFRAMES:case eE.STYLE:startTagInHead(h,m);break;case eE.NOSCRIPT:h._err(m,es.nestedNoscriptInHead);break;default:tokenInHeadNoScript(h,m)}}(this,h);break;case ey.AFTER_HEAD:!function(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.BODY:h._insertElement(m,em.HTML),h.framesetOk=!1,h.insertionMode=ey.IN_BODY;break;case eE.FRAMESET:h._insertElement(m,em.HTML),h.insertionMode=ey.IN_FRAMESET;break;case eE.BASE:case eE.BASEFONT:case eE.BGSOUND:case eE.LINK:case eE.META:case eE.NOFRAMES:case eE.SCRIPT:case eE.STYLE:case eE.TEMPLATE:case eE.TITLE:h._err(m,es.abandonedHeadElementChild),h.openElements.push(h.headElement,eE.HEAD),startTagInHead(h,m),h.openElements.remove(h.headElement);break;case eE.HEAD:h._err(m,es.misplacedStartTagForHeadElement);break;default:tokenAfterHead(h,m)}}(this,h);break;case ey.IN_BODY:startTagInBody(this,h);break;case ey.IN_TABLE:startTagInTable(this,h);break;case ey.IN_TABLE_TEXT:tokenInTableText(this,h);break;case ey.IN_CAPTION:!function(h,m){let _=m.tagID;rD.has(_)?h.openElements.hasInTableScope(eE.CAPTION)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(eE.CAPTION),h.activeFormattingElements.clearToLastMarker(),h.insertionMode=ey.IN_TABLE,startTagInTable(h,m)):startTagInBody(h,m)}(this,h);break;case ey.IN_COLUMN_GROUP:startTagInColumnGroup(this,h);break;case ey.IN_TABLE_BODY:startTagInTableBody(this,h);break;case ey.IN_ROW:startTagInRow(this,h);break;case ey.IN_CELL:!function(h,m){let _=m.tagID;rD.has(_)?(h.openElements.hasInTableScope(eE.TD)||h.openElements.hasInTableScope(eE.TH))&&(h._closeTableCell(),startTagInRow(h,m)):startTagInBody(h,m)}(this,h);break;case ey.IN_SELECT:startTagInSelect(this,h);break;case ey.IN_SELECT_IN_TABLE:!function(h,m){let _=m.tagID;_===eE.CAPTION||_===eE.TABLE||_===eE.TBODY||_===eE.TFOOT||_===eE.THEAD||_===eE.TR||_===eE.TD||_===eE.TH?(h.openElements.popUntilTagNamePopped(eE.SELECT),h._resetInsertionMode(),h._processStartTag(m)):startTagInSelect(h,m)}(this,h);break;case ey.IN_TEMPLATE:!function(h,m){switch(m.tagID){case eE.BASE:case eE.BASEFONT:case eE.BGSOUND:case eE.LINK:case eE.META:case eE.NOFRAMES:case eE.SCRIPT:case eE.STYLE:case eE.TEMPLATE:case eE.TITLE:startTagInHead(h,m);break;case eE.CAPTION:case eE.COLGROUP:case eE.TBODY:case eE.TFOOT:case eE.THEAD:h.tmplInsertionModeStack[0]=ey.IN_TABLE,h.insertionMode=ey.IN_TABLE,startTagInTable(h,m);break;case eE.COL:h.tmplInsertionModeStack[0]=ey.IN_COLUMN_GROUP,h.insertionMode=ey.IN_COLUMN_GROUP,startTagInColumnGroup(h,m);break;case eE.TR:h.tmplInsertionModeStack[0]=ey.IN_TABLE_BODY,h.insertionMode=ey.IN_TABLE_BODY,startTagInTableBody(h,m);break;case eE.TD:case eE.TH:h.tmplInsertionModeStack[0]=ey.IN_ROW,h.insertionMode=ey.IN_ROW,startTagInRow(h,m);break;default:h.tmplInsertionModeStack[0]=ey.IN_BODY,h.insertionMode=ey.IN_BODY,startTagInBody(h,m)}}(this,h);break;case ey.AFTER_BODY:h.tagID===eE.HTML?startTagInBody(this,h):tokenAfterBody(this,h);break;case ey.IN_FRAMESET:!function(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.FRAMESET:h._insertElement(m,em.HTML);break;case eE.FRAME:h._appendElement(m,em.HTML),m.ackSelfClosing=!0;break;case eE.NOFRAMES:startTagInHead(h,m)}}(this,h);break;case ey.AFTER_FRAMESET:!function(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.NOFRAMES:startTagInHead(h,m)}}(this,h);break;case ey.AFTER_AFTER_BODY:h.tagID===eE.HTML?startTagInBody(this,h):tokenAfterAfterBody(this,h);break;case ey.AFTER_AFTER_FRAMESET:!function(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.NOFRAMES:startTagInHead(h,m)}}(this,h)}}onEndTag(h){this.skipNextNewLine=!1,this.currentToken=h,this.currentNotInHTML?function(h,m){if(m.tagID===eE.P||m.tagID===eE.BR){popUntilHtmlOrIntegrationPoint(h),h._endTagOutsideForeignContent(m);return}for(let _=h.openElements.stackTop;_>0;_--){let v=h.openElements.items[_];if(h.treeAdapter.getNamespaceURI(v)===em.HTML){h._endTagOutsideForeignContent(m);break}let b=h.treeAdapter.getTagName(v);if(b.toLowerCase()===m.tagName){m.tagName=b,h.openElements.shortenToLength(_);break}}}(this,h):this._endTagOutsideForeignContent(h)}_endTagOutsideForeignContent(h){var m;switch(this.insertionMode){case ey.INITIAL:tokenInInitialMode(this,h);break;case ey.BEFORE_HTML:!function(h,m){let _=m.tagID;(_===eE.HTML||_===eE.HEAD||_===eE.BODY||_===eE.BR)&&tokenBeforeHtml(h,m)}(this,h);break;case ey.BEFORE_HEAD:!function(h,m){let _=m.tagID;_===eE.HEAD||_===eE.BODY||_===eE.HTML||_===eE.BR?tokenBeforeHead(h,m):h._err(m,es.endTagWithoutMatchingOpenElement)}(this,h);break;case ey.IN_HEAD:!function(h,m){switch(m.tagID){case eE.HEAD:h.openElements.pop(),h.insertionMode=ey.AFTER_HEAD;break;case eE.BODY:case eE.BR:case eE.HTML:tokenInHead(h,m);break;case eE.TEMPLATE:templateEndTagInHead(h,m);break;default:h._err(m,es.endTagWithoutMatchingOpenElement)}}(this,h);break;case ey.IN_HEAD_NO_SCRIPT:!function(h,m){switch(m.tagID){case eE.NOSCRIPT:h.openElements.pop(),h.insertionMode=ey.IN_HEAD;break;case eE.BR:tokenInHeadNoScript(h,m);break;default:h._err(m,es.endTagWithoutMatchingOpenElement)}}(this,h);break;case ey.AFTER_HEAD:!function(h,m){switch(m.tagID){case eE.BODY:case eE.HTML:case eE.BR:tokenAfterHead(h,m);break;case eE.TEMPLATE:templateEndTagInHead(h,m);break;default:h._err(m,es.endTagWithoutMatchingOpenElement)}}(this,h);break;case ey.IN_BODY:endTagInBody(this,h);break;case ey.TEXT:h.tagID===eE.SCRIPT&&(null===(m=this.scriptHandler)||void 0===m||m.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case ey.IN_TABLE:endTagInTable(this,h);break;case ey.IN_TABLE_TEXT:tokenInTableText(this,h);break;case ey.IN_CAPTION:!function(h,m){let _=m.tagID;switch(_){case eE.CAPTION:case eE.TABLE:h.openElements.hasInTableScope(eE.CAPTION)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(eE.CAPTION),h.activeFormattingElements.clearToLastMarker(),h.insertionMode=ey.IN_TABLE,_===eE.TABLE&&endTagInTable(h,m));break;case eE.BODY:case eE.COL:case eE.COLGROUP:case eE.HTML:case eE.TBODY:case eE.TD:case eE.TFOOT:case eE.TH:case eE.THEAD:case eE.TR:break;default:endTagInBody(h,m)}}(this,h);break;case ey.IN_COLUMN_GROUP:!function(h,m){switch(m.tagID){case eE.COLGROUP:h.openElements.currentTagId===eE.COLGROUP&&(h.openElements.pop(),h.insertionMode=ey.IN_TABLE);break;case eE.TEMPLATE:templateEndTagInHead(h,m);break;case eE.COL:break;default:tokenInColumnGroup(h,m)}}(this,h);break;case ey.IN_TABLE_BODY:endTagInTableBody(this,h);break;case ey.IN_ROW:endTagInRow(this,h);break;case ey.IN_CELL:!function(h,m){let _=m.tagID;switch(_){case eE.TD:case eE.TH:h.openElements.hasInTableScope(_)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(_),h.activeFormattingElements.clearToLastMarker(),h.insertionMode=ey.IN_ROW);break;case eE.TABLE:case eE.TBODY:case eE.TFOOT:case eE.THEAD:case eE.TR:h.openElements.hasInTableScope(_)&&(h._closeTableCell(),endTagInRow(h,m));break;case eE.BODY:case eE.CAPTION:case eE.COL:case eE.COLGROUP:case eE.HTML:break;default:endTagInBody(h,m)}}(this,h);break;case ey.IN_SELECT:endTagInSelect(this,h);break;case ey.IN_SELECT_IN_TABLE:!function(h,m){let _=m.tagID;_===eE.CAPTION||_===eE.TABLE||_===eE.TBODY||_===eE.TFOOT||_===eE.THEAD||_===eE.TR||_===eE.TD||_===eE.TH?h.openElements.hasInTableScope(_)&&(h.openElements.popUntilTagNamePopped(eE.SELECT),h._resetInsertionMode(),h.onEndTag(m)):endTagInSelect(h,m)}(this,h);break;case ey.IN_TEMPLATE:h.tagID===eE.TEMPLATE&&templateEndTagInHead(this,h);break;case ey.AFTER_BODY:endTagAfterBody(this,h);break;case ey.IN_FRAMESET:h.tagID!==eE.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===eE.FRAMESET||(this.insertionMode=ey.AFTER_FRAMESET));break;case ey.AFTER_FRAMESET:h.tagID===eE.HTML&&(this.insertionMode=ey.AFTER_AFTER_FRAMESET);break;case ey.AFTER_AFTER_BODY:tokenAfterAfterBody(this,h)}}onEof(h){switch(this.insertionMode){case ey.INITIAL:tokenInInitialMode(this,h);break;case ey.BEFORE_HTML:tokenBeforeHtml(this,h);break;case ey.BEFORE_HEAD:tokenBeforeHead(this,h);break;case ey.IN_HEAD:tokenInHead(this,h);break;case ey.IN_HEAD_NO_SCRIPT:tokenInHeadNoScript(this,h);break;case ey.AFTER_HEAD:tokenAfterHead(this,h);break;case ey.IN_BODY:case ey.IN_TABLE:case ey.IN_CAPTION:case ey.IN_COLUMN_GROUP:case ey.IN_TABLE_BODY:case ey.IN_ROW:case ey.IN_CELL:case ey.IN_SELECT:case ey.IN_SELECT_IN_TABLE:eofInBody(this,h);break;case ey.TEXT:this._err(h,es.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(h);break;case ey.IN_TABLE_TEXT:tokenInTableText(this,h);break;case ey.IN_TEMPLATE:eofInTemplate(this,h);break;case ey.AFTER_BODY:case ey.IN_FRAMESET:case ey.AFTER_FRAMESET:case ey.AFTER_AFTER_BODY:case ey.AFTER_AFTER_FRAMESET:stopParsing(this,h)}}onWhitespaceCharacter(h){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,h.chars.charCodeAt(0)===eo.LINE_FEED)){if(1===h.chars.length)return;h.chars=h.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(h);return}switch(this.insertionMode){case ey.IN_HEAD:case ey.IN_HEAD_NO_SCRIPT:case ey.AFTER_HEAD:case ey.TEXT:case ey.IN_COLUMN_GROUP:case ey.IN_SELECT:case ey.IN_SELECT_IN_TABLE:case ey.IN_FRAMESET:case ey.AFTER_FRAMESET:this._insertCharacters(h);break;case ey.IN_BODY:case ey.IN_CAPTION:case ey.IN_CELL:case ey.IN_TEMPLATE:case ey.AFTER_BODY:case ey.AFTER_AFTER_BODY:case ey.AFTER_AFTER_FRAMESET:whitespaceCharacterInBody(this,h);break;case ey.IN_TABLE:case ey.IN_TABLE_BODY:case ey.IN_ROW:characterInTable(this,h);break;case ey.IN_TABLE_TEXT:whitespaceCharacterInTableText(this,h)}}};function callAdoptionAgency(h,m){for(let _=0;_<8;_++){let _=function(h,m){let _=h.activeFormattingElements.getElementEntryInScopeWithTagName(m.tagName);return _?h.openElements.contains(_.element)?h.openElements.hasInScope(m.tagID)||(_=null):(h.activeFormattingElements.removeEntry(_),_=null):genericEndTagInBody(h,m),_}(h,m);if(!_)break;let v=function(h,m){let _=null,v=h.openElements.stackTop;for(;v>=0;v--){let b=h.openElements.items[v];if(b===m.element)break;h._isSpecialElement(b,h.openElements.tagIDs[v])&&(_=b)}return _||(h.openElements.shortenToLength(v<0?0:v),h.activeFormattingElements.removeEntry(m)),_}(h,_);if(!v)break;h.activeFormattingElements.bookmark=_;let b=function(h,m,_){let v=m,b=h.openElements.getCommonAncestor(m);for(let A=0,C=b;C!==_;A++,C=b){b=h.openElements.getCommonAncestor(C);let _=h.activeFormattingElements.getElementEntry(C),S=_&&A>=3,I=!_||S;I?(S&&h.activeFormattingElements.removeEntry(_),h.openElements.remove(C)):(C=function(h,m){let _=h.treeAdapter.getNamespaceURI(m.element),v=h.treeAdapter.createElement(m.token.tagName,_,m.token.attrs);return h.openElements.replace(m.element,v),m.element=v,v}(h,_),v===m&&(h.activeFormattingElements.bookmark=_),h.treeAdapter.detachNode(v),h.treeAdapter.appendChild(C,v),v=C)}return v}(h,v,_.element),A=h.openElements.getCommonAncestor(_.element);h.treeAdapter.detachNode(b),A&&function(h,m,_){let v=h.treeAdapter.getTagName(m),b=getTagID(v);if(h._isElementCausesFosterParenting(b))h._fosterParentElement(_);else{let v=h.treeAdapter.getNamespaceURI(m);b===eE.TEMPLATE&&v===em.HTML&&(m=h.treeAdapter.getTemplateContent(m)),h.treeAdapter.appendChild(m,_)}}(h,A,b),function(h,m,_){let v=h.treeAdapter.getNamespaceURI(_.element),{token:b}=_,A=h.treeAdapter.createElement(b.tagName,v,b.attrs);h._adoptNodes(m,A),h.treeAdapter.appendChild(m,A),h.activeFormattingElements.insertElementAfterBookmark(A,b),h.activeFormattingElements.removeEntry(_),h.openElements.remove(_.element),h.openElements.insertAfter(m,A,b.tagID)}(h,v,_)}}function appendComment(h,m){h._appendCommentNode(m,h.openElements.currentTmplContentOrNode)}function stopParsing(h,m){if(h.stopped=!0,m.location){let _=h.fragmentContext?0:2;for(let v=h.openElements.stackTop;v>=_;v--)h._setEndLocation(h.openElements.items[v],m);if(!h.fragmentContext&&h.openElements.stackTop>=0){let _=h.openElements.items[0],v=h.treeAdapter.getNodeSourceCodeLocation(_);if(v&&!v.endTag&&(h._setEndLocation(_,m),h.openElements.stackTop>=1)){let _=h.openElements.items[1],v=h.treeAdapter.getNodeSourceCodeLocation(_);v&&!v.endTag&&h._setEndLocation(_,m)}}}}function tokenInInitialMode(h,m){h._err(m,es.missingDoctype,!0),h.treeAdapter.setDocumentMode(h.document,eg.QUIRKS),h.insertionMode=ey.BEFORE_HTML,h._processToken(m)}function tokenBeforeHtml(h,m){h._insertFakeRootElement(),h.insertionMode=ey.BEFORE_HEAD,h._processToken(m)}function tokenBeforeHead(h,m){h._insertFakeElement(e_.HEAD,eE.HEAD),h.headElement=h.openElements.current,h.insertionMode=ey.IN_HEAD,h._processToken(m)}function startTagInHead(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.BASE:case eE.BASEFONT:case eE.BGSOUND:case eE.LINK:case eE.META:h._appendElement(m,em.HTML),m.ackSelfClosing=!0;break;case eE.TITLE:h._switchToTextParsing(m,rc.RCDATA);break;case eE.NOSCRIPT:h.options.scriptingEnabled?h._switchToTextParsing(m,rc.RAWTEXT):(h._insertElement(m,em.HTML),h.insertionMode=ey.IN_HEAD_NO_SCRIPT);break;case eE.NOFRAMES:case eE.STYLE:h._switchToTextParsing(m,rc.RAWTEXT);break;case eE.SCRIPT:h._switchToTextParsing(m,rc.SCRIPT_DATA);break;case eE.TEMPLATE:h._insertTemplate(m),h.activeFormattingElements.insertMarker(),h.framesetOk=!1,h.insertionMode=ey.IN_TEMPLATE,h.tmplInsertionModeStack.unshift(ey.IN_TEMPLATE);break;case eE.HEAD:h._err(m,es.misplacedStartTagForHeadElement);break;default:tokenInHead(h,m)}}function templateEndTagInHead(h,m){h.openElements.tmplCount>0?(h.openElements.generateImpliedEndTagsThoroughly(),h.openElements.currentTagId!==eE.TEMPLATE&&h._err(m,es.closingOfElementWithOpenChildElements),h.openElements.popUntilTagNamePopped(eE.TEMPLATE),h.activeFormattingElements.clearToLastMarker(),h.tmplInsertionModeStack.shift(),h._resetInsertionMode()):h._err(m,es.endTagWithoutMatchingOpenElement)}function tokenInHead(h,m){h.openElements.pop(),h.insertionMode=ey.AFTER_HEAD,h._processToken(m)}function tokenInHeadNoScript(h,m){let _=m.type===el.EOF?es.openElementsLeftAfterEof:es.disallowedContentInNoscriptInHead;h._err(m,_),h.openElements.pop(),h.insertionMode=ey.IN_HEAD,h._processToken(m)}function tokenAfterHead(h,m){h._insertFakeElement(e_.BODY,eE.BODY),h.insertionMode=ey.IN_BODY,modeInBody(h,m)}function modeInBody(h,m){switch(m.type){case el.CHARACTER:characterInBody(h,m);break;case el.WHITESPACE_CHARACTER:whitespaceCharacterInBody(h,m);break;case el.COMMENT:appendComment(h,m);break;case el.START_TAG:startTagInBody(h,m);break;case el.END_TAG:endTagInBody(h,m);break;case el.EOF:eofInBody(h,m)}}function whitespaceCharacterInBody(h,m){h._reconstructActiveFormattingElements(),h._insertCharacters(m)}function characterInBody(h,m){h._reconstructActiveFormattingElements(),h._insertCharacters(m),h.framesetOk=!1}function areaStartTagInBody(h,m){h._reconstructActiveFormattingElements(),h._appendElement(m,em.HTML),h.framesetOk=!1,m.ackSelfClosing=!0}function isHiddenInput(h){let m=getTokenAttr(h,ef.TYPE);return null!=m&&"hidden"===m.toLowerCase()}function noembedStartTagInBody(h,m){h._switchToTextParsing(m,rc.RAWTEXT)}function genericStartTagInBody(h,m){h._reconstructActiveFormattingElements(),h._insertElement(m,em.HTML)}function startTagInBody(h,m){switch(m.tagID){case eE.I:case eE.S:case eE.B:case eE.U:case eE.EM:case eE.TT:case eE.BIG:case eE.CODE:case eE.FONT:case eE.SMALL:case eE.STRIKE:case eE.STRONG:h._reconstructActiveFormattingElements(),h._insertElement(m,em.HTML),h.activeFormattingElements.pushElement(h.openElements.current,m);break;case eE.A:!function(h,m){let _=h.activeFormattingElements.getElementEntryInScopeWithTagName(e_.A);_&&(callAdoptionAgency(h,m),h.openElements.remove(_.element),h.activeFormattingElements.removeEntry(_)),h._reconstructActiveFormattingElements(),h._insertElement(m,em.HTML),h.activeFormattingElements.pushElement(h.openElements.current,m)}(h,m);break;case eE.H1:case eE.H2:case eE.H3:case eE.H4:case eE.H5:case eE.H6:h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),isNumberedHeader(h.openElements.currentTagId)&&h.openElements.pop(),h._insertElement(m,em.HTML);break;case eE.P:case eE.DL:case eE.OL:case eE.UL:case eE.DIV:case eE.DIR:case eE.NAV:case eE.MAIN:case eE.MENU:case eE.ASIDE:case eE.CENTER:case eE.FIGURE:case eE.FOOTER:case eE.HEADER:case eE.HGROUP:case eE.DIALOG:case eE.DETAILS:case eE.ADDRESS:case eE.ARTICLE:case eE.SECTION:case eE.SUMMARY:case eE.FIELDSET:case eE.BLOCKQUOTE:case eE.FIGCAPTION:h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._insertElement(m,em.HTML);break;case eE.LI:case eE.DD:case eE.DT:!function(h,m){h.framesetOk=!1;let _=m.tagID;for(let m=h.openElements.stackTop;m>=0;m--){let v=h.openElements.tagIDs[m];if(_===eE.LI&&v===eE.LI||(_===eE.DD||_===eE.DT)&&(v===eE.DD||v===eE.DT)){h.openElements.generateImpliedEndTagsWithExclusion(v),h.openElements.popUntilTagNamePopped(v);break}if(v!==eE.ADDRESS&&v!==eE.DIV&&v!==eE.P&&h._isSpecialElement(h.openElements.items[m],v))break}h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._insertElement(m,em.HTML)}(h,m);break;case eE.BR:case eE.IMG:case eE.WBR:case eE.AREA:case eE.EMBED:case eE.KEYGEN:areaStartTagInBody(h,m);break;case eE.HR:h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._appendElement(m,em.HTML),h.framesetOk=!1,m.ackSelfClosing=!0;break;case eE.RB:case eE.RTC:h.openElements.hasInScope(eE.RUBY)&&h.openElements.generateImpliedEndTags(),h._insertElement(m,em.HTML);break;case eE.RT:case eE.RP:h.openElements.hasInScope(eE.RUBY)&&h.openElements.generateImpliedEndTagsWithExclusion(eE.RTC),h._insertElement(m,em.HTML);break;case eE.PRE:case eE.LISTING:h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._insertElement(m,em.HTML),h.skipNextNewLine=!0,h.framesetOk=!1;break;case eE.XMP:h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._reconstructActiveFormattingElements(),h.framesetOk=!1,h._switchToTextParsing(m,rc.RAWTEXT);break;case eE.SVG:h._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(m),adjustTokenXMLAttrs(m),m.selfClosing?h._appendElement(m,em.SVG):h._insertElement(m,em.SVG),m.ackSelfClosing=!0;break;case eE.HTML:0===h.openElements.tmplCount&&h.treeAdapter.adoptAttributes(h.openElements.items[0],m.attrs);break;case eE.BASE:case eE.LINK:case eE.META:case eE.STYLE:case eE.TITLE:case eE.SCRIPT:case eE.BGSOUND:case eE.BASEFONT:case eE.TEMPLATE:startTagInHead(h,m);break;case eE.BODY:!function(h,m){let _=h.openElements.tryPeekProperlyNestedBodyElement();_&&0===h.openElements.tmplCount&&(h.framesetOk=!1,h.treeAdapter.adoptAttributes(_,m.attrs))}(h,m);break;case eE.FORM:!function(h,m){let _=h.openElements.tmplCount>0;h.formElement&&!_||(h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._insertElement(m,em.HTML),_||(h.formElement=h.openElements.current))}(h,m);break;case eE.NOBR:h._reconstructActiveFormattingElements(),h.openElements.hasInScope(eE.NOBR)&&(callAdoptionAgency(h,m),h._reconstructActiveFormattingElements()),h._insertElement(m,em.HTML),h.activeFormattingElements.pushElement(h.openElements.current,m);break;case eE.MATH:h._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(m),adjustTokenXMLAttrs(m),m.selfClosing?h._appendElement(m,em.MATHML):h._insertElement(m,em.MATHML),m.ackSelfClosing=!0;break;case eE.TABLE:h.treeAdapter.getDocumentMode(h.document)!==eg.QUIRKS&&h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._insertElement(m,em.HTML),h.framesetOk=!1,h.insertionMode=ey.IN_TABLE;break;case eE.INPUT:h._reconstructActiveFormattingElements(),h._appendElement(m,em.HTML),isHiddenInput(m)||(h.framesetOk=!1),m.ackSelfClosing=!0;break;case eE.PARAM:case eE.TRACK:case eE.SOURCE:h._appendElement(m,em.HTML),m.ackSelfClosing=!0;break;case eE.IMAGE:m.tagName=e_.IMG,m.tagID=eE.IMG,areaStartTagInBody(h,m);break;case eE.BUTTON:h.openElements.hasInScope(eE.BUTTON)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(eE.BUTTON)),h._reconstructActiveFormattingElements(),h._insertElement(m,em.HTML),h.framesetOk=!1;break;case eE.APPLET:case eE.OBJECT:case eE.MARQUEE:h._reconstructActiveFormattingElements(),h._insertElement(m,em.HTML),h.activeFormattingElements.insertMarker(),h.framesetOk=!1;break;case eE.IFRAME:h.framesetOk=!1,h._switchToTextParsing(m,rc.RAWTEXT);break;case eE.SELECT:h._reconstructActiveFormattingElements(),h._insertElement(m,em.HTML),h.framesetOk=!1,h.insertionMode=h.insertionMode===ey.IN_TABLE||h.insertionMode===ey.IN_CAPTION||h.insertionMode===ey.IN_TABLE_BODY||h.insertionMode===ey.IN_ROW||h.insertionMode===ey.IN_CELL?ey.IN_SELECT_IN_TABLE:ey.IN_SELECT;break;case eE.OPTION:case eE.OPTGROUP:h.openElements.currentTagId===eE.OPTION&&h.openElements.pop(),h._reconstructActiveFormattingElements(),h._insertElement(m,em.HTML);break;case eE.NOEMBED:noembedStartTagInBody(h,m);break;case eE.FRAMESET:!function(h,m){let _=h.openElements.tryPeekProperlyNestedBodyElement();h.framesetOk&&_&&(h.treeAdapter.detachNode(_),h.openElements.popAllUpToHtmlElement(),h._insertElement(m,em.HTML),h.insertionMode=ey.IN_FRAMESET)}(h,m);break;case eE.TEXTAREA:h._insertElement(m,em.HTML),h.skipNextNewLine=!0,h.tokenizer.state=rc.RCDATA,h.originalInsertionMode=h.insertionMode,h.framesetOk=!1,h.insertionMode=ey.TEXT;break;case eE.NOSCRIPT:h.options.scriptingEnabled?noembedStartTagInBody(h,m):genericStartTagInBody(h,m);break;case eE.PLAINTEXT:h.openElements.hasInButtonScope(eE.P)&&h._closePElement(),h._insertElement(m,em.HTML),h.tokenizer.state=rc.PLAINTEXT;break;case eE.COL:case eE.TH:case eE.TD:case eE.TR:case eE.HEAD:case eE.FRAME:case eE.TBODY:case eE.TFOOT:case eE.THEAD:case eE.CAPTION:case eE.COLGROUP:break;default:genericStartTagInBody(h,m)}}function genericEndTagInBody(h,m){let _=m.tagName,v=m.tagID;for(let m=h.openElements.stackTop;m>0;m--){let b=h.openElements.items[m],A=h.openElements.tagIDs[m];if(v===A&&(v!==eE.UNKNOWN||h.treeAdapter.getTagName(b)===_)){h.openElements.generateImpliedEndTagsWithExclusion(v),h.openElements.stackTop>=m&&h.openElements.shortenToLength(m);break}if(h._isSpecialElement(b,A))break}}function endTagInBody(h,m){switch(m.tagID){case eE.A:case eE.B:case eE.I:case eE.S:case eE.U:case eE.EM:case eE.TT:case eE.BIG:case eE.CODE:case eE.FONT:case eE.NOBR:case eE.SMALL:case eE.STRIKE:case eE.STRONG:callAdoptionAgency(h,m);break;case eE.P:h.openElements.hasInButtonScope(eE.P)||h._insertFakeElement(e_.P,eE.P),h._closePElement();break;case eE.DL:case eE.UL:case eE.OL:case eE.DIR:case eE.DIV:case eE.NAV:case eE.PRE:case eE.MAIN:case eE.MENU:case eE.ASIDE:case eE.BUTTON:case eE.CENTER:case eE.FIGURE:case eE.FOOTER:case eE.HEADER:case eE.HGROUP:case eE.DIALOG:case eE.ADDRESS:case eE.ARTICLE:case eE.DETAILS:case eE.SECTION:case eE.SUMMARY:case eE.LISTING:case eE.FIELDSET:case eE.BLOCKQUOTE:case eE.FIGCAPTION:!function(h,m){let _=m.tagID;h.openElements.hasInScope(_)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(_))}(h,m);break;case eE.LI:h.openElements.hasInListItemScope(eE.LI)&&(h.openElements.generateImpliedEndTagsWithExclusion(eE.LI),h.openElements.popUntilTagNamePopped(eE.LI));break;case eE.DD:case eE.DT:!function(h,m){let _=m.tagID;h.openElements.hasInScope(_)&&(h.openElements.generateImpliedEndTagsWithExclusion(_),h.openElements.popUntilTagNamePopped(_))}(h,m);break;case eE.H1:case eE.H2:case eE.H3:case eE.H4:case eE.H5:case eE.H6:h.openElements.hasNumberedHeaderInScope()&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilNumberedHeaderPopped());break;case eE.BR:h._reconstructActiveFormattingElements(),h._insertFakeElement(e_.BR,eE.BR),h.openElements.pop(),h.framesetOk=!1;break;case eE.BODY:!function(h,m){if(h.openElements.hasInScope(eE.BODY)&&(h.insertionMode=ey.AFTER_BODY,h.options.sourceCodeLocationInfo)){let _=h.openElements.tryPeekProperlyNestedBodyElement();_&&h._setEndLocation(_,m)}}(h,m);break;case eE.HTML:h.openElements.hasInScope(eE.BODY)&&(h.insertionMode=ey.AFTER_BODY,endTagAfterBody(h,m));break;case eE.FORM:!function(h){let m=h.openElements.tmplCount>0,{formElement:_}=h;m||(h.formElement=null),(_||m)&&h.openElements.hasInScope(eE.FORM)&&(h.openElements.generateImpliedEndTags(),m?h.openElements.popUntilTagNamePopped(eE.FORM):_&&h.openElements.remove(_))}(h);break;case eE.APPLET:case eE.OBJECT:case eE.MARQUEE:!function(h,m){let _=m.tagID;h.openElements.hasInScope(_)&&(h.openElements.generateImpliedEndTags(),h.openElements.popUntilTagNamePopped(_),h.activeFormattingElements.clearToLastMarker())}(h,m);break;case eE.TEMPLATE:templateEndTagInHead(h,m);break;default:genericEndTagInBody(h,m)}}function eofInBody(h,m){h.tmplInsertionModeStack.length>0?eofInTemplate(h,m):stopParsing(h,m)}function characterInTable(h,m){if(rR.has(h.openElements.currentTagId))switch(h.pendingCharacterTokens.length=0,h.hasNonWhitespacePendingCharacterToken=!1,h.originalInsertionMode=h.insertionMode,h.insertionMode=ey.IN_TABLE_TEXT,m.type){case el.CHARACTER:characterInTableText(h,m);break;case el.WHITESPACE_CHARACTER:whitespaceCharacterInTableText(h,m)}else tokenInTable(h,m)}function startTagInTable(h,m){switch(m.tagID){case eE.TD:case eE.TH:case eE.TR:h.openElements.clearBackToTableContext(),h._insertFakeElement(e_.TBODY,eE.TBODY),h.insertionMode=ey.IN_TABLE_BODY,startTagInTableBody(h,m);break;case eE.STYLE:case eE.SCRIPT:case eE.TEMPLATE:startTagInHead(h,m);break;case eE.COL:h.openElements.clearBackToTableContext(),h._insertFakeElement(e_.COLGROUP,eE.COLGROUP),h.insertionMode=ey.IN_COLUMN_GROUP,startTagInColumnGroup(h,m);break;case eE.FORM:h.formElement||0!==h.openElements.tmplCount||(h._insertElement(m,em.HTML),h.formElement=h.openElements.current,h.openElements.pop());break;case eE.TABLE:h.openElements.hasInTableScope(eE.TABLE)&&(h.openElements.popUntilTagNamePopped(eE.TABLE),h._resetInsertionMode(),h._processStartTag(m));break;case eE.TBODY:case eE.TFOOT:case eE.THEAD:h.openElements.clearBackToTableContext(),h._insertElement(m,em.HTML),h.insertionMode=ey.IN_TABLE_BODY;break;case eE.INPUT:isHiddenInput(m)?h._appendElement(m,em.HTML):tokenInTable(h,m),m.ackSelfClosing=!0;break;case eE.CAPTION:h.openElements.clearBackToTableContext(),h.activeFormattingElements.insertMarker(),h._insertElement(m,em.HTML),h.insertionMode=ey.IN_CAPTION;break;case eE.COLGROUP:h.openElements.clearBackToTableContext(),h._insertElement(m,em.HTML),h.insertionMode=ey.IN_COLUMN_GROUP;break;default:tokenInTable(h,m)}}function endTagInTable(h,m){switch(m.tagID){case eE.TABLE:h.openElements.hasInTableScope(eE.TABLE)&&(h.openElements.popUntilTagNamePopped(eE.TABLE),h._resetInsertionMode());break;case eE.TEMPLATE:templateEndTagInHead(h,m);break;case eE.BODY:case eE.CAPTION:case eE.COL:case eE.COLGROUP:case eE.HTML:case eE.TBODY:case eE.TD:case eE.TFOOT:case eE.TH:case eE.THEAD:case eE.TR:break;default:tokenInTable(h,m)}}function tokenInTable(h,m){let _=h.fosterParentingEnabled;h.fosterParentingEnabled=!0,modeInBody(h,m),h.fosterParentingEnabled=_}function whitespaceCharacterInTableText(h,m){h.pendingCharacterTokens.push(m)}function characterInTableText(h,m){h.pendingCharacterTokens.push(m),h.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(h,m){let _=0;if(h.hasNonWhitespacePendingCharacterToken)for(;_<h.pendingCharacterTokens.length;_++)tokenInTable(h,h.pendingCharacterTokens[_]);else for(;_<h.pendingCharacterTokens.length;_++)h._insertCharacters(h.pendingCharacterTokens[_]);h.insertionMode=h.originalInsertionMode,h._processToken(m)}let rD=new Set([eE.CAPTION,eE.COL,eE.COLGROUP,eE.TBODY,eE.TD,eE.TFOOT,eE.TH,eE.THEAD,eE.TR]);function startTagInColumnGroup(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.COL:h._appendElement(m,em.HTML),m.ackSelfClosing=!0;break;case eE.TEMPLATE:startTagInHead(h,m);break;default:tokenInColumnGroup(h,m)}}function tokenInColumnGroup(h,m){h.openElements.currentTagId===eE.COLGROUP&&(h.openElements.pop(),h.insertionMode=ey.IN_TABLE,h._processToken(m))}function startTagInTableBody(h,m){switch(m.tagID){case eE.TR:h.openElements.clearBackToTableBodyContext(),h._insertElement(m,em.HTML),h.insertionMode=ey.IN_ROW;break;case eE.TH:case eE.TD:h.openElements.clearBackToTableBodyContext(),h._insertFakeElement(e_.TR,eE.TR),h.insertionMode=ey.IN_ROW,startTagInRow(h,m);break;case eE.CAPTION:case eE.COL:case eE.COLGROUP:case eE.TBODY:case eE.TFOOT:case eE.THEAD:h.openElements.hasTableBodyContextInTableScope()&&(h.openElements.clearBackToTableBodyContext(),h.openElements.pop(),h.insertionMode=ey.IN_TABLE,startTagInTable(h,m));break;default:startTagInTable(h,m)}}function endTagInTableBody(h,m){let _=m.tagID;switch(m.tagID){case eE.TBODY:case eE.TFOOT:case eE.THEAD:h.openElements.hasInTableScope(_)&&(h.openElements.clearBackToTableBodyContext(),h.openElements.pop(),h.insertionMode=ey.IN_TABLE);break;case eE.TABLE:h.openElements.hasTableBodyContextInTableScope()&&(h.openElements.clearBackToTableBodyContext(),h.openElements.pop(),h.insertionMode=ey.IN_TABLE,endTagInTable(h,m));break;case eE.BODY:case eE.CAPTION:case eE.COL:case eE.COLGROUP:case eE.HTML:case eE.TD:case eE.TH:case eE.TR:break;default:endTagInTable(h,m)}}function startTagInRow(h,m){switch(m.tagID){case eE.TH:case eE.TD:h.openElements.clearBackToTableRowContext(),h._insertElement(m,em.HTML),h.insertionMode=ey.IN_CELL,h.activeFormattingElements.insertMarker();break;case eE.CAPTION:case eE.COL:case eE.COLGROUP:case eE.TBODY:case eE.TFOOT:case eE.THEAD:case eE.TR:h.openElements.hasInTableScope(eE.TR)&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=ey.IN_TABLE_BODY,startTagInTableBody(h,m));break;default:startTagInTable(h,m)}}function endTagInRow(h,m){switch(m.tagID){case eE.TR:h.openElements.hasInTableScope(eE.TR)&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=ey.IN_TABLE_BODY);break;case eE.TABLE:h.openElements.hasInTableScope(eE.TR)&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=ey.IN_TABLE_BODY,endTagInTableBody(h,m));break;case eE.TBODY:case eE.TFOOT:case eE.THEAD:(h.openElements.hasInTableScope(m.tagID)||h.openElements.hasInTableScope(eE.TR))&&(h.openElements.clearBackToTableRowContext(),h.openElements.pop(),h.insertionMode=ey.IN_TABLE_BODY,endTagInTableBody(h,m));break;case eE.BODY:case eE.CAPTION:case eE.COL:case eE.COLGROUP:case eE.HTML:case eE.TD:case eE.TH:break;default:endTagInTable(h,m)}}function startTagInSelect(h,m){switch(m.tagID){case eE.HTML:startTagInBody(h,m);break;case eE.OPTION:h.openElements.currentTagId===eE.OPTION&&h.openElements.pop(),h._insertElement(m,em.HTML);break;case eE.OPTGROUP:h.openElements.currentTagId===eE.OPTION&&h.openElements.pop(),h.openElements.currentTagId===eE.OPTGROUP&&h.openElements.pop(),h._insertElement(m,em.HTML);break;case eE.INPUT:case eE.KEYGEN:case eE.TEXTAREA:case eE.SELECT:h.openElements.hasInSelectScope(eE.SELECT)&&(h.openElements.popUntilTagNamePopped(eE.SELECT),h._resetInsertionMode(),m.tagID!==eE.SELECT&&h._processStartTag(m));break;case eE.SCRIPT:case eE.TEMPLATE:startTagInHead(h,m)}}function endTagInSelect(h,m){switch(m.tagID){case eE.OPTGROUP:h.openElements.stackTop>0&&h.openElements.currentTagId===eE.OPTION&&h.openElements.tagIDs[h.openElements.stackTop-1]===eE.OPTGROUP&&h.openElements.pop(),h.openElements.currentTagId===eE.OPTGROUP&&h.openElements.pop();break;case eE.OPTION:h.openElements.currentTagId===eE.OPTION&&h.openElements.pop();break;case eE.SELECT:h.openElements.hasInSelectScope(eE.SELECT)&&(h.openElements.popUntilTagNamePopped(eE.SELECT),h._resetInsertionMode());break;case eE.TEMPLATE:templateEndTagInHead(h,m)}}function eofInTemplate(h,m){h.openElements.tmplCount>0?(h.openElements.popUntilTagNamePopped(eE.TEMPLATE),h.activeFormattingElements.clearToLastMarker(),h.tmplInsertionModeStack.shift(),h._resetInsertionMode(),h.onEof(m)):stopParsing(h,m)}function endTagAfterBody(h,m){var _;if(m.tagID===eE.HTML){if(h.fragmentContext||(h.insertionMode=ey.AFTER_AFTER_BODY),h.options.sourceCodeLocationInfo&&h.openElements.tagIDs[0]===eE.HTML){h._setEndLocation(h.openElements.items[0],m);let v=h.openElements.items[1];!v||(null===(_=h.treeAdapter.getNodeSourceCodeLocation(v))||void 0===_?void 0:_.endTag)||h._setEndLocation(v,m)}}else tokenAfterBody(h,m)}function tokenAfterBody(h,m){h.insertionMode=ey.IN_BODY,modeInBody(h,m)}function tokenAfterAfterBody(h,m){h.insertionMode=ey.IN_BODY,modeInBody(h,m)}function popUntilHtmlOrIntegrationPoint(h){for(;h.treeAdapter.getNamespaceURI(h.openElements.current)!==em.HTML&&!h._isIntegrationPoint(h.openElements.currentTagId,h.openElements.current);)h.openElements.pop()}let rP=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function getEscaper(h,m){return function(_){let v;let b=0,A="";for(;v=h.exec(_);)b!==v.index&&(A+=_.substring(b,v.index)),A+=m.get(v[0].charCodeAt(0)),b=v.index+1;return A+_.substring(b)}}null!=String.prototype.codePointAt||((h,m)=>(64512&h.charCodeAt(m))==55296?(h.charCodeAt(m)-55296)*1024+h.charCodeAt(m+1)-56320+65536:h.charCodeAt(m)),getEscaper(/[&<>'"]/g,rP),getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),e_.AREA,e_.BASE,e_.BASEFONT,e_.BGSOUND,e_.BR,e_.COL,e_.EMBED,e_.FRAME,e_.HR,e_.IMG,e_.INPUT,e_.KEYGEN,e_.LINK,e_.META,e_.PARAM,e_.SOURCE,e_.TRACK,e_.WBR;let rM=lib_point("end"),rF=lib_point("start");function lib_point(h){return function(m){let _=m&&m.position&&m.position[h]||{};if("number"==typeof _.line&&_.line>0&&"number"==typeof _.column&&_.column>0)return{line:_.line,column:_.column,offset:"number"==typeof _.offset&&_.offset>-1?_.offset:void 0}}}let convert=function(h){if(null==h)return lib_ok;if("function"==typeof h)return castFactory(h);if("object"==typeof h)return Array.isArray(h)?function(h){let m=[],_=-1;for(;++_<h.length;)m[_]=convert(h[_]);return castFactory(function(...h){let _=-1;for(;++_<m.length;)if(m[_].apply(this,h))return!0;return!1})}(h):castFactory(function(m){let _;for(_ in h)if(m[_]!==h[_])return!1;return!0});if("string"==typeof h)return castFactory(function(m){return m&&m.type===h});throw Error("Expected function, string, or object as test")};function castFactory(h){return function(m,_,v){var b;return!!(null!==(b=m)&&"object"==typeof b&&"type"in b&&h.call(this,m,"number"==typeof _?_:void 0,v||void 0))}}function lib_ok(){return!0}let rB=[];function visitParents(h,m,_,v){let b;"function"==typeof m&&"function"!=typeof _?(v=_,_=m):b=m;let A=convert(b),C=v?-1:1;(function factory(h,b,S){let I=h&&"object"==typeof h?h:{};if("string"==typeof I.type){let m="string"==typeof I.tagName?I.tagName:"string"==typeof I.name?I.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+h.type+(m?"<"+m+">":"")+")"})}return visit;function visit(){var I;let w,O,L,M=rB;if((!m||A(h,b,S[S.length-1]||void 0))&&!1===(M=Array.isArray(I=_(h,S))?I:"number"==typeof I?[!0,I]:null==I?rB:[I])[0])return M;if("children"in h&&h.children&&h.children&&"skip"!==M[0])for(O=(v?h.children.length:-1)+C,L=S.concat(h);O>-1&&O<h.children.length;){let m=h.children[O];if(!1===(w=factory(m,O,L)())[0])return w;O="number"==typeof w[1]?w[1]:O+C}return M}})(h,void 0,[])()}let rH=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),rU={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(h,m){let _=function(h){let m="root"===h.type?h.children[0]:h;return!!(m&&("doctype"===m.type||"element"===m.type&&"html"===m.tagName.toLowerCase()))}(h),v=zwitch("type",{handlers:{root:lib_root,element:hast_util_raw_lib_element,text:hast_util_raw_lib_text,comment:lib_comment,doctype:lib_doctype,raw:handleRaw},unknown}),b={parser:_?new parser_Parser(rU):parser_Parser.getFragmentParser(void 0,rU),handle(h){v(h,b)},stitches:!1,options:m||{}};v(h,b),resetTokenizer(b,rF());let A=_?b.parser.document:b.parser.getFragment(),C=function(h,m){let _=m||{};return one({file:_.file||void 0,location:!1,schema:"svg"===_.space?nj:nG,verbose:_.verbose||!1},h)}(A,{file:b.options.file});if(b.stitches){let h;h=function(h,m,_){if(h.value.stitch&&_&&void 0!==m){let v=_.children;return v[m]=h.value.stitch,m}},visitParents(C,"comment",function(m,_){let v=_[_.length-1],b=v?v.children.indexOf(m):void 0;return h(m,b,v)},void 0)}return"root"===C.type&&1===C.children.length&&C.children[0].type===h.type?C.children[0]:C}function hast_util_raw_lib_all(h,m){let _=-1;if(h)for(;++_<h.length;)m.handle(h[_])}function lib_root(h,m){hast_util_raw_lib_all(h.children,m)}function hast_util_raw_lib_element(h,m){(function(h,m){let _=h.tagName.toLowerCase();if(m.parser.tokenizer.state===rc.PLAINTEXT)return;resetTokenizer(m,rF(h));let v=m.parser.openElements.current,b="namespaceURI"in v?v.namespaceURI:nZ.html;b===nZ.html&&"svg"===_&&(b=nZ.svg);let A=function(h,m){let _=(m||n3).space;return n5(h,"svg"===_?nj:nG)}({...h,children:[]},{space:b===nZ.svg?"svg":"html"}),C={type:el.START_TAG,tagName:_,tagID:getTagID(_),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in A?A.attrs:[],location:createParse5Location(h)};m.parser.currentToken=C,m.parser._processToken(m.parser.currentToken),m.parser.tokenizer.lastStartTagName=_})(h,m),hast_util_raw_lib_all(h.children,m),function(h,m){let _=h.tagName.toLowerCase();if(!m.parser.tokenizer.inForeignNode&&n6.includes(_)||m.parser.tokenizer.state===rc.PLAINTEXT)return;resetTokenizer(m,rM(h));let v={type:el.END_TAG,tagName:_,tagID:getTagID(_),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(h)};m.parser.currentToken=v,m.parser._processToken(m.parser.currentToken),_===m.parser.tokenizer.lastStartTagName&&(m.parser.tokenizer.state===rc.RCDATA||m.parser.tokenizer.state===rc.RAWTEXT||m.parser.tokenizer.state===rc.SCRIPT_DATA)&&(m.parser.tokenizer.state=rc.DATA)}(h,m)}function hast_util_raw_lib_text(h,m){m.parser.tokenizer.state>4&&(m.parser.tokenizer.state=0);let _={type:el.CHARACTER,chars:h.value,location:createParse5Location(h)};resetTokenizer(m,rF(h)),m.parser.currentToken=_,m.parser._processToken(m.parser.currentToken)}function lib_doctype(h,m){let _={type:el.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(h)};resetTokenizer(m,rF(h)),m.parser.currentToken=_,m.parser._processToken(m.parser.currentToken)}function lib_comment(h,m){let _=h.value,v={type:el.COMMENT,data:_,location:createParse5Location(h)};resetTokenizer(m,rF(h)),m.parser.currentToken=v,m.parser._processToken(m.parser.currentToken)}function handleRaw(h,m){if(m.parser.tokenizer.preprocessor.html="",m.parser.tokenizer.preprocessor.pos=-1,m.parser.tokenizer.preprocessor.lastGapPos=-2,m.parser.tokenizer.preprocessor.gapStack=[],m.parser.tokenizer.preprocessor.skipNextNewLine=!1,m.parser.tokenizer.preprocessor.lastChunkWritten=!1,m.parser.tokenizer.preprocessor.endOfChunkHit=!1,m.parser.tokenizer.preprocessor.isEol=!1,setPoint(m,rF(h)),m.parser.tokenizer.write(h.value,!1),m.parser.tokenizer._runParsingLoop(),72===m.parser.tokenizer.state||78===m.parser.tokenizer.state){m.parser.tokenizer.preprocessor.lastChunkWritten=!0;let h=m.parser.tokenizer._consume();m.parser.tokenizer._callState(h)}}function unknown(h,m){if(m.options.passThrough&&m.options.passThrough.includes(h.type))!function(h,m){m.stitches=!0;let _="children"in h?nC({...h,children:[]}):nC(h);if("children"in h&&"children"in _){let v=raw({type:"root",children:h.children},m.options);_.children=v.children}lib_comment({type:"comment",value:{stitch:_}},m)}(h,m);else{let m="";throw rH.has(h.type)&&(m=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+h.type+"` node"+m)}}function resetTokenizer(h,m){setPoint(h,m);let _=h.parser.tokenizer.currentCharacterToken;_&&_.location&&(_.location.endLine=h.parser.tokenizer.preprocessor.line,_.location.endCol=h.parser.tokenizer.preprocessor.col+1,_.location.endOffset=h.parser.tokenizer.preprocessor.offset+1,h.parser.currentToken=_,h.parser._processToken(h.parser.currentToken)),h.parser.tokenizer.paused=!1,h.parser.tokenizer.inLoop=!1,h.parser.tokenizer.active=!1,h.parser.tokenizer.returnState=rc.DATA,h.parser.tokenizer.charRefCode=-1,h.parser.tokenizer.consumedAfterSnapshot=-1,h.parser.tokenizer.currentLocation=null,h.parser.tokenizer.currentCharacterToken=null,h.parser.tokenizer.currentToken=null,h.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(h,m){if(m&&void 0!==m.offset){let _={startLine:m.line,startCol:m.column,startOffset:m.offset,endLine:-1,endCol:-1,endOffset:-1};h.parser.tokenizer.preprocessor.lineStartPos=-m.column+1,h.parser.tokenizer.preprocessor.droppedBufferSize=m.offset,h.parser.tokenizer.preprocessor.line=m.line,h.parser.tokenizer.currentLocation=_}}function createParse5Location(h){let m=rF(h)||{line:void 0,column:void 0,offset:void 0},_=rM(h)||{line:void 0,column:void 0,offset:void 0},v={startLine:m.line,startCol:m.column,startOffset:m.offset,endLine:_.line,endCol:_.column,endOffset:_.offset};return v}function rehypeRaw(h){return function(m,_){let v=raw(m,{...h,file:_});return v}}let r$=/["&'<>`]/g,rz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rG=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,rj=/[|\\{}()[\]^$+*?.]/g,rV=new WeakMap,rq=/[\dA-Fa-f]/,rW=/\d/,rY=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],rQ={nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},rX=["cent","copy","divide","gt","lt","not","para","times"],rK={}.hasOwnProperty,rJ={};for(b in rQ)rK.call(rQ,b)&&(rJ[rQ[b]]=b);let rZ=/[^\dA-Za-z]/;function formatSmart(h,m,_){let v,b=function(h,m,_){let v="&#x"+h.toString(16).toUpperCase();return _&&m&&!rq.test(String.fromCharCode(m))?v:v+";"}(h,m,_.omitOptionalSemicolons);if((_.useNamedReferences||_.useShortestReferences)&&(v=function(h,m,_,v){let b=String.fromCharCode(h);if(rK.call(rJ,b)){let h=rJ[b],A="&"+h;return _&&rY.includes(h)&&!rX.includes(h)&&(!v||m&&61!==m&&rZ.test(String.fromCharCode(m)))?A:A+";"}return""}(h,m,_.omitOptionalSemicolons,_.attribute)),(_.useShortestReferences||!v)&&_.useShortestReferences){let v=function(h,m,_){let v="&#"+String(h);return _&&m&&!rW.test(String.fromCharCode(m))?v:v+";"}(h,m,_.omitOptionalSemicolons);v.length<b.length&&(b=v)}return v&&(!_.useShortestReferences||v.length<b.length)?v:b}function stringifyEntities(h,m){return function(h,m){var _;let v;if(h=h.replace(m.subset?(_=m.subset,(v=rV.get(_))||(v=function(h){let m=[],_=-1;for(;++_<h.length;)m.push(h[_].replace(rj,"\\$&"));return RegExp("(?:"+m.join("|")+")","g")}(_),rV.set(_,v)),v):r$,basic),m.subset||m.escapeOnly)return h;return h.replace(rz,function(h,_,v){return m.format((h.charCodeAt(0)-55296)*1024+h.charCodeAt(1)-56320+65536,v.charCodeAt(_+2),m)}).replace(rG,basic);function basic(h,_,v){return m.format(h.charCodeAt(0),v.charCodeAt(_+1),m)}}(h,Object.assign({format:formatSmart},m))}let r0=/^>|^->|<!--|-->|--!>|<!-$/g,r1=[">"],r2=["<",">"];function ccount(h,m){let _=String(h);if("string"!=typeof m)throw TypeError("Expected character");let v=0,b=_.indexOf(m);for(;-1!==b;)v++,b=_.indexOf(m,b+m.length);return v}let r3=/[ \t\n\f\r]/g;function whitespace(h){return"object"==typeof h?"text"===h.type&&lib_empty(h.value):lib_empty(h)}function lib_empty(h){return""===h.replace(r3,"")}let r4=siblings(1),r5=siblings(-1),r6=[];function siblings(h){return function(m,_,v){let b=m?m.children:r6,A=(_||0)+h,C=b[A];if(!v)for(;C&&whitespace(C);)A+=h,C=b[A];return C}}let r8={}.hasOwnProperty;function omission(h){return function(m,_,v){return r8.call(h,m.tagName)&&h[m.tagName](m,_,v)}}let r9=omission({body:function(h,m,_){let v=r4(_,m);return!v||"comment"!==v.type},caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd:function(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&("dt"===v.tagName||"dd"===v.tagName)},dt:function(h,m,_){let v=r4(_,m);return!!(v&&"element"===v.type&&("dt"===v.tagName||"dd"===v.tagName))},head:headOrColgroupOrCaption,html:function(h,m,_){let v=r4(_,m);return!v||"comment"!==v.type},li:function(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&"li"===v.tagName},optgroup:function(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&"optgroup"===v.tagName},option:function(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&("option"===v.tagName||"optgroup"===v.tagName)},p:function(h,m,_){let v=r4(_,m);return v?"element"===v.type&&("address"===v.tagName||"article"===v.tagName||"aside"===v.tagName||"blockquote"===v.tagName||"details"===v.tagName||"div"===v.tagName||"dl"===v.tagName||"fieldset"===v.tagName||"figcaption"===v.tagName||"figure"===v.tagName||"footer"===v.tagName||"form"===v.tagName||"h1"===v.tagName||"h2"===v.tagName||"h3"===v.tagName||"h4"===v.tagName||"h5"===v.tagName||"h6"===v.tagName||"header"===v.tagName||"hgroup"===v.tagName||"hr"===v.tagName||"main"===v.tagName||"menu"===v.tagName||"nav"===v.tagName||"ol"===v.tagName||"p"===v.tagName||"pre"===v.tagName||"section"===v.tagName||"table"===v.tagName||"ul"===v.tagName):!_||!("element"===_.type&&("a"===_.tagName||"audio"===_.tagName||"del"===_.tagName||"ins"===_.tagName||"map"===_.tagName||"noscript"===_.tagName||"video"===_.tagName))},rp:rubyElement,rt:rubyElement,tbody:function(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&("tbody"===v.tagName||"tfoot"===v.tagName)},td:cells,tfoot:function(h,m,_){return!r4(_,m)},th:cells,thead:function(h,m,_){let v=r4(_,m);return!!(v&&"element"===v.type&&("tbody"===v.tagName||"tfoot"===v.tagName))},tr:function(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&"tr"===v.tagName}});function headOrColgroupOrCaption(h,m,_){let v=r4(_,m,!0);return!v||"comment"!==v.type&&!("text"===v.type&&whitespace(v.value.charAt(0)))}function rubyElement(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&("rp"===v.tagName||"rt"===v.tagName)}function cells(h,m,_){let v=r4(_,m);return!v||"element"===v.type&&("td"===v.tagName||"th"===v.tagName)}let r7=omission({body:function(h){let m=r4(h,-1,!0);return!m||"comment"!==m.type&&!("text"===m.type&&whitespace(m.value.charAt(0)))&&!("element"===m.type&&("meta"===m.tagName||"link"===m.tagName||"script"===m.tagName||"style"===m.tagName||"template"===m.tagName))},colgroup:function(h,m,_){let v=r5(_,m),b=r4(h,-1,!0);return!(_&&v&&"element"===v.type&&"colgroup"===v.tagName&&r9(v,_.children.indexOf(v),_))&&!!(b&&"element"===b.type&&"col"===b.tagName)},head:function(h){let m=h.children,_=[],v=-1;for(;++v<m.length;){let h=m[v];if("element"===h.type&&("title"===h.tagName||"base"===h.tagName)){if(_.includes(h.tagName))return!1;_.push(h.tagName)}}return m.length>0},html:function(h){let m=r4(h,-1);return!m||"comment"!==m.type},tbody:function(h,m,_){let v=r5(_,m),b=r4(h,-1);return!(_&&v&&"element"===v.type&&("thead"===v.tagName||"tbody"===v.tagName)&&r9(v,_.children.indexOf(v),_))&&!!(b&&"element"===b.type&&"tr"===b.tagName)}}),ie={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\x00	\n\f\r \"&'/<=>".split(""),"\x00	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\x00	\n\f\r \"&'<=>`".split("")],["\x00	\n\f\r \"&'<=>`".split(""),"\x00	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\x00&'".split(""),"\x00\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\x00"&'.split(""),"\x00\"&'`".split("")]]},ir=["<","&"];function text_text(h,m,_,v){return _&&"element"===_.type&&("script"===_.tagName||"style"===_.tagName)?h.value:stringifyEntities(h.value,Object.assign({},v.settings.characterReferences,{subset:ir}))}let ii=zwitch("type",{invalid:function(h){throw Error("Expected node, not `"+h+"`")},unknown:function(h){throw Error("Cannot compile unknown node `"+h.type+"`")},handlers:{comment:function(h,m,_,v){return v.settings.bogusComments?"<?"+stringifyEntities(h.value,Object.assign({},v.settings.characterReferences,{subset:r1}))+">":"<!--"+h.value.replace(r0,function(h){return stringifyEntities(h,Object.assign({},v.settings.characterReferences,{subset:r2}))})+"-->"},doctype:function(h,m,_,v){return"<!"+(v.settings.upperDoctype?"DOCTYPE":"doctype")+(v.settings.tightDoctype?"":" ")+"html>"},element:function(h,m,_,v){let b;let A=v.schema,C="svg"!==A.space&&v.settings.omitOptionalTags,S="svg"===A.space?v.settings.closeEmptyElements:v.settings.voids.includes(h.tagName.toLowerCase()),I=[];"html"===A.space&&"svg"===h.tagName&&(v.schema=nj);let w=function(h,m){let _;let v=[],b=-1;if(m){for(_ in m)if(null!==m[_]&&void 0!==m[_]){let b=function(h,m,_){let v;let b=find(h.schema,m),A=h.settings.allowParseErrors&&"html"===h.schema.space?0:1,C=h.settings.allowDangerousCharacters?0:1,S=h.quote;if(b.overloadedBoolean&&(_===b.attribute||""===_)?_=!0:(b.boolean||b.overloadedBoolean&&"string"!=typeof _)&&(_=!!_),null==_||!1===_||"number"==typeof _&&Number.isNaN(_))return"";let I=stringifyEntities(b.attribute,Object.assign({},h.settings.characterReferences,{subset:ie.name[A][C]}));return!0===_?I:(_=Array.isArray(_)?(b.commaSeparated?comma_separated_tokens_stringify:space_separated_tokens_stringify)(_,{padLeft:!h.settings.tightCommaSeparatedLists}):String(_),h.settings.collapseEmptyAttributes&&!_)?I:(h.settings.preferUnquoted&&(v=stringifyEntities(_,Object.assign({},h.settings.characterReferences,{attribute:!0,subset:ie.unquoted[A][C]}))),v!==_&&(h.settings.quoteSmart&&ccount(_,S)>ccount(_,h.alternative)&&(S=h.alternative),v=S+stringifyEntities(_,Object.assign({},h.settings.characterReferences,{subset:("'"===S?ie.single:ie.double)[A][C],attribute:!0}))+S),I+(v?"="+v:v))}(h,_,m[_]);b&&v.push(b)}}for(;++b<v.length;){let m=h.settings.tightAttributes?v[b].charAt(v[b].length-1):void 0;b!==v.length-1&&'"'!==m&&"'"!==m&&(v[b]+=" ")}return v.join("")}(v,h.properties),O=v.all("html"===A.space&&"template"===h.tagName?h.content:h);return v.schema=A,O&&(S=!1),!w&&C&&r7(h,m,_)||(I.push("<",h.tagName,w?" "+w:""),S&&("svg"===A.space||v.settings.closeSelfClosing)&&(b=w.charAt(w.length-1),(!v.settings.tightSelfClosing||"/"===b||b&&'"'!==b&&"'"!==b)&&I.push(" "),I.push("/")),I.push(">")),I.push(O),S||C&&r9(h,m,_)||I.push("</"+h.tagName+">"),I.join("")},raw:function(h,m,_,v){return v.settings.allowDangerousHtml?h.value:text_text(h,m,_,v)},root:function(h,m,_,v){return v.all(h)},text:text_text}}),is={},il={},ic=[];function hast_util_to_html_lib_one(h,m,_){return ii(h,m,_,this)}function hast_util_to_html_lib_all(h){let m=[],_=h&&h.children||ic,v=-1;for(;++v<_.length;)m[v]=this.one(_[v],v,h);return m.join("")}function rehypeStringify(h){let m={...this.data("settings"),...h};this.compiler=function(h){return function(h,m){let _=m||is,v=_.quote||'"';if('"'!==v&&"'"!==v)throw Error("Invalid quote `"+v+"`, expected `'` or `\"`");let b={one:hast_util_to_html_lib_one,all:hast_util_to_html_lib_all,settings:{omitOptionalTags:_.omitOptionalTags||!1,allowParseErrors:_.allowParseErrors||!1,allowDangerousCharacters:_.allowDangerousCharacters||!1,quoteSmart:_.quoteSmart||!1,preferUnquoted:_.preferUnquoted||!1,tightAttributes:_.tightAttributes||!1,upperDoctype:_.upperDoctype||!1,tightDoctype:_.tightDoctype||!1,bogusComments:_.bogusComments||!1,tightCommaSeparatedLists:_.tightCommaSeparatedLists||!1,tightSelfClosing:_.tightSelfClosing||!1,collapseEmptyAttributes:_.collapseEmptyAttributes||!1,allowDangerousHtml:_.allowDangerousHtml||!1,voids:_.voids||n6,characterReferences:_.characterReferences||il,closeSelfClosing:_.closeSelfClosing||!1,closeEmptyElements:_.closeEmptyElements||!1},schema:"svg"===_.space?nj:nG,quote:v,alternative:'"'===v?"'":'"'};return b.one(Array.isArray(h)?{type:"root",children:h}:h,void 0,void 0)}(h,m)}}regexCheck(/[A-Za-z]/),regexCheck(/[\dA-Za-z]/),regexCheck(/[#-'*+\--9=?A-Z^-~]/),regexCheck(/\d/),regexCheck(/[\dA-Fa-f]/),regexCheck(/[!-/:-@[-`{-~]/);let iu=regexCheck(/\p{P}|\p{S}/u),id=regexCheck(/\s/);function regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}let lib_convert=function(h){if(null==h)return unist_util_is_lib_ok;if("function"==typeof h)return lib_castFactory(h);if("object"==typeof h)return Array.isArray(h)?function(h){let m=[],_=-1;for(;++_<h.length;)m[_]=lib_convert(h[_]);return lib_castFactory(function(...h){let _=-1;for(;++_<m.length;)if(m[_].apply(this,h))return!0;return!1})}(h):lib_castFactory(function(m){let _;for(_ in h)if(m[_]!==h[_])return!1;return!0});if("string"==typeof h)return lib_castFactory(function(m){return m&&m.type===h});throw Error("Expected function, string, or object as test")};function lib_castFactory(h){return function(m,_,v){var b;return!!(null!==(b=m)&&"object"==typeof b&&"type"in b&&h.call(this,m,"number"==typeof _?_:void 0,v||void 0))}}function unist_util_is_lib_ok(){return!0}let ih="phrasing",ip=["autolink","link","image","label"];function enterLiteralAutolink(h){this.enter({type:"link",title:null,url:"",children:[]},h)}function enterLiteralAutolinkValue(h){this.config.enter.autolinkProtocol.call(this,h)}function exitLiteralAutolinkHttp(h){this.config.exit.autolinkProtocol.call(this,h)}function exitLiteralAutolinkWww(h){this.config.exit.data.call(this,h);let m=this.stack[this.stack.length-1];m.type,m.url="http://"+this.sliceSerialize(h)}function exitLiteralAutolinkEmail(h){this.config.exit.autolinkEmail.call(this,h)}function exitLiteralAutolink(h){this.exit(h)}function transformGfmAutolinkLiterals(h){!function(h,m,_){let v=lib_convert((_||{}).ignore||[]),b=function(h){let m=[];if(!Array.isArray(h))throw TypeError("Expected find and replace tuple or list of tuples");let _=!h[0]||Array.isArray(h[0])?h:[h],v=-1;for(;++v<_.length;){var b;let h=_[v];m.push(["string"==typeof(b=h[0])?RegExp(function(h){if("string"!=typeof h)throw TypeError("Expected a string");return h.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(b),"g"):b,function(h){return"function"==typeof h?h:function(){return h}}(h[1])])}return m}(m),A=-1;for(;++A<b.length;)visitParents(h,"text",visitor);function visitor(h,m){let _,C=-1;for(;++C<m.length;){let h=m[C],b=_?_.children:void 0;if(v(h,b?b.indexOf(h):void 0,_))return;_=h}if(_)return function(h,m){let _=m[m.length-1],v=b[A][0],C=b[A][1],S=0,I=_.children,w=I.indexOf(h),O=!1,L=[];v.lastIndex=0;let M=v.exec(h.value);for(;M;){let _=M.index,b={index:M.index,input:M.input,stack:[...m,h]},A=C(...M,b);if("string"==typeof A&&(A=A.length>0?{type:"text",value:A}:void 0),!1===A?v.lastIndex=_+1:(S!==_&&L.push({type:"text",value:h.value.slice(S,_)}),Array.isArray(A)?L.push(...A):A&&L.push(A),S=_+M[0].length,O=!0),!v.global)break;M=v.exec(h.value)}return O?(S<h.value.length&&L.push({type:"text",value:h.value.slice(S)}),_.children.splice(w,1,...L)):L=[h],w+L.length}(h,m)}}(h,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,findEmail]],{ignore:["link","linkReference"]})}function findUrl(h,m,_,v,b){let A="";if(!previous(b)||(/^w/i.test(m)&&(_=m+_,m="",A="http://"),!function(h){let m=h.split(".");return!(m.length<2||m[m.length-1]&&(/_/.test(m[m.length-1])||!/[a-zA-Z\d]/.test(m[m.length-1]))||m[m.length-2]&&(/_/.test(m[m.length-2])||!/[a-zA-Z\d]/.test(m[m.length-2])))}(_)))return!1;let C=function(h){let m=/[!"&'),.:;<>?\]}]+$/.exec(h);if(!m)return[h,void 0];h=h.slice(0,m.index);let _=m[0],v=_.indexOf(")"),b=ccount(h,"("),A=ccount(h,")");for(;-1!==v&&b>A;)h+=_.slice(0,v+1),v=(_=_.slice(v+1)).indexOf(")"),A++;return[h,_]}(_+v);if(!C[0])return!1;let S={type:"link",title:null,url:A+m+C[0],children:[{type:"text",value:m+C[0]}]};return C[1]?[S,{type:"text",value:C[1]}]:S}function findEmail(h,m,_,v){return!(!previous(v,!0)||/[-\d_]$/.test(_))&&{type:"link",title:null,url:"mailto:"+m+"@"+_,children:[{type:"text",value:m+"@"+_}]}}function previous(h,m){let _=h.input.charCodeAt(h.index-1);return(0===h.index||id(_)||iu(_))&&(!m||47!==_)}function normalizeIdentifier(h){return h.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function enterFootnoteDefinition(h){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},h)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(h){let m=this.resume(),_=this.stack[this.stack.length-1];_.type,_.label=m,_.identifier=normalizeIdentifier(this.sliceSerialize(h)).toLowerCase()}function exitFootnoteDefinition(h){this.exit(h)}function enterFootnoteCall(h){this.enter({type:"footnoteReference",identifier:"",label:""},h)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(h){let m=this.resume(),_=this.stack[this.stack.length-1];_.type,_.label=m,_.identifier=normalizeIdentifier(this.sliceSerialize(h)).toLowerCase()}function exitFootnoteCall(h){this.exit(h)}function footnoteReference(h,m,_,v){let b=_.createTracker(v),A=b.move("[^"),C=_.enter("footnoteReference"),S=_.enter("reference");return A+=b.move(_.safe(_.associationId(h),{...b.current(),before:A,after:"]"})),S(),C(),A+=b.move("]")}function footnoteDefinition(h,m,_,v){let b=_.createTracker(v),A=b.move("[^"),C=_.enter("footnoteDefinition"),S=_.enter("label");return A+=b.move(_.safe(_.associationId(h),{...b.current(),before:A,after:"]"})),S(),A+=b.move("]:"+(h.children&&h.children.length>0?" ":"")),b.shift(4),A+=b.move(_.indentLines(_.containerFlow(h,b.current()),map)),C(),A}function map(h,m,_){return 0===m?h:(_?"":"    ")+h}footnoteReference.peek=function(){return"["};let im=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function enterStrikethrough(h){this.enter({type:"delete",children:[]},h)}function exitStrikethrough(h){this.exit(h)}function handleDelete(h,m,_,v){let b=_.createTracker(v),A=_.enter("strikethrough"),C=b.move("~~");return C+=_.containerPhrasing(h,{...b.current(),before:C,after:"~"})+b.move("~~"),A(),C}function defaultStringLength(h){return h.length}function toAlignment(h){let m="string"==typeof h?h.codePointAt(0):0;return 67===m||99===m?99:76===m||108===m?108:82===m||114===m?114:0}function blockquote_map(h,m,_){return">"+(_?"":" ")+h}function listInScope(h,m,_){if("string"==typeof m&&(m=[m]),!m||0===m.length)return _;let v=-1;for(;++v<m.length;)if(h.includes(m[v]))return!0;return!1}function hardBreak(h,m,_,v){let b=-1;for(;++b<_.unsafe.length;){var A,C;if("\n"===_.unsafe[b].character&&listInScope(A=_.stack,(C=_.unsafe[b]).inConstruct,!0)&&!listInScope(A,C.notInConstruct,!1))return/[ \t]/.test(v.before)?"":" "}return"\\\n"}function longestStreak(h,m){let _=String(h),v=_.indexOf(m),b=v,A=0,C=0;if("string"!=typeof m)throw TypeError("Expected substring");for(;-1!==v;)v===b?++A>C&&(C=A):A=1,b=v+m.length,v=_.indexOf(m,b);return C}function code_map(h,m,_){return(_?"":"    ")+h}function checkQuote(h){let m=h.options.quote||'"';if('"'!==m&&"'"!==m)throw Error("Cannot serialize title with `"+m+"` for `options.quote`, expected `\"`, or `'`");return m}function emphasis(h,m,_,v){let b=function(h){let m=h.options.emphasis||"*";if("*"!==m&&"_"!==m)throw Error("Cannot serialize emphasis with `"+m+"` for `options.emphasis`, expected `*`, or `_`");return m}(_),A=_.enter("emphasis"),C=_.createTracker(v),S=C.move(b);return S+=C.move(_.containerPhrasing(h,{before:S,after:b,...C.current()}))+C.move(b),A(),S}handleDelete.peek=function(){return"~"},emphasis.peek=function(h,m,_){return _.options.emphasis||"*"};let ig={};function lib_toString(h,m){let _=m||ig,v="boolean"!=typeof _.includeImageAlt||_.includeImageAlt,b="boolean"!=typeof _.includeHtml||_.includeHtml;return mdast_util_to_string_lib_one(h,v,b)}function mdast_util_to_string_lib_one(h,m,_){if(h&&"object"==typeof h){if("value"in h)return"html"!==h.type||_?h.value:"";if(m&&"alt"in h&&h.alt)return h.alt;if("children"in h)return mdast_util_to_string_lib_all(h.children,m,_)}return Array.isArray(h)?mdast_util_to_string_lib_all(h,m,_):""}function mdast_util_to_string_lib_all(h,m,_){let v=[],b=-1;for(;++b<h.length;)v[b]=mdast_util_to_string_lib_one(h[b],m,_);return v.join("")}function html_html(h){return h.value||""}function image_image(h,m,_,v){let b=checkQuote(_),A='"'===b?"Quote":"Apostrophe",C=_.enter("image"),S=_.enter("label"),I=_.createTracker(v),w=I.move("![");return w+=I.move(_.safe(h.alt,{before:w,after:"]",...I.current()}))+I.move("]("),S(),!h.url&&h.title||/[\0- \u007F]/.test(h.url)?(S=_.enter("destinationLiteral"),w+=I.move("<"),w+=I.move(_.safe(h.url,{before:w,after:">",...I.current()}))+I.move(">")):(S=_.enter("destinationRaw"),w+=I.move(_.safe(h.url,{before:w,after:h.title?" ":")",...I.current()}))),S(),h.title&&(S=_.enter(`title${A}`),w+=I.move(" "+b),w+=I.move(_.safe(h.title,{before:w,after:b,...I.current()}))+I.move(b),S()),w+=I.move(")"),C(),w}function imageReference(h,m,_,v){let b=h.referenceType,A=_.enter("imageReference"),C=_.enter("label"),S=_.createTracker(v),I=S.move("!["),w=_.safe(h.alt,{before:I,after:"]",...S.current()});I+=S.move(w+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let L=_.safe(_.associationId(h),{before:I,after:"]",...S.current()});return C(),_.stack=O,A(),"full"!==b&&w&&w===L?"shortcut"===b?I=I.slice(0,-1):I+=S.move("]"):I+=S.move(L+"]"),I}function inlineCode(h,m,_){let v=h.value||"",b="`",A=-1;for(;RegExp("(^|[^`])"+b+"([^`]|$)").test(v);)b+="`";for(/[^ \r\n]/.test(v)&&(/^[ \r\n]/.test(v)&&/[ \r\n]$/.test(v)||/^`|`$/.test(v))&&(v=" "+v+" ");++A<_.unsafe.length;){let h;let m=_.unsafe[A],b=_.compilePattern(m);if(m.atBreak)for(;h=b.exec(v);){let m=h.index;10===v.charCodeAt(m)&&13===v.charCodeAt(m-1)&&m--,v=v.slice(0,m)+" "+v.slice(h.index+1)}}return b+v+b}function formatLinkAsAutolink(h,m){let _=lib_toString(h);return!!(!m.options.resourceLink&&h.url&&!h.title&&h.children&&1===h.children.length&&"text"===h.children[0].type&&(_===h.url||"mailto:"+_===h.url)&&/^[a-z][a-z+.-]+:/i.test(h.url)&&!/[\0- <>\u007F]/.test(h.url))}function link_link(h,m,_,v){let b,A;let C=checkQuote(_),S='"'===C?"Quote":"Apostrophe",I=_.createTracker(v);if(formatLinkAsAutolink(h,_)){let m=_.stack;_.stack=[],b=_.enter("autolink");let v=I.move("<");return v+=I.move(_.containerPhrasing(h,{before:v,after:">",...I.current()}))+I.move(">"),b(),_.stack=m,v}b=_.enter("link"),A=_.enter("label");let w=I.move("[");return w+=I.move(_.containerPhrasing(h,{before:w,after:"](",...I.current()}))+I.move("]("),A(),!h.url&&h.title||/[\0- \u007F]/.test(h.url)?(A=_.enter("destinationLiteral"),w+=I.move("<"),w+=I.move(_.safe(h.url,{before:w,after:">",...I.current()}))+I.move(">")):(A=_.enter("destinationRaw"),w+=I.move(_.safe(h.url,{before:w,after:h.title?" ":")",...I.current()}))),A(),h.title&&(A=_.enter(`title${S}`),w+=I.move(" "+C),w+=I.move(_.safe(h.title,{before:w,after:C,...I.current()}))+I.move(C),A()),w+=I.move(")"),b(),w}function linkReference(h,m,_,v){let b=h.referenceType,A=_.enter("linkReference"),C=_.enter("label"),S=_.createTracker(v),I=S.move("["),w=_.containerPhrasing(h,{before:I,after:"]",...S.current()});I+=S.move(w+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let L=_.safe(_.associationId(h),{before:I,after:"]",...S.current()});return C(),_.stack=O,A(),"full"!==b&&w&&w===L?"shortcut"===b?I=I.slice(0,-1):I+=S.move("]"):I+=S.move(L+"]"),I}function checkBullet(h){let m=h.options.bullet||"*";if("*"!==m&&"+"!==m&&"-"!==m)throw Error("Cannot serialize items with `"+m+"` for `options.bullet`, expected `*`, `+`, or `-`");return m}function checkRule(h){let m=h.options.rule||"*";if("*"!==m&&"-"!==m&&"_"!==m)throw Error("Cannot serialize rules with `"+m+"` for `options.rule`, expected `*`, `-`, or `_`");return m}html_html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},inlineCode.peek=function(){return"`"},link_link.peek=function(h,m,_){return formatLinkAsAutolink(h,_)?"<":"["},linkReference.peek=function(){return"["};let unist_util_is_lib_convert=function(h){if(null==h)return node_modules_unist_util_is_lib_ok;if("function"==typeof h)return unist_util_is_lib_castFactory(h);if("object"==typeof h)return Array.isArray(h)?function(h){let m=[],_=-1;for(;++_<h.length;)m[_]=unist_util_is_lib_convert(h[_]);return unist_util_is_lib_castFactory(function(...h){let _=-1;for(;++_<m.length;)if(m[_].apply(this,h))return!0;return!1})}(h):unist_util_is_lib_castFactory(function(m){let _;for(_ in h)if(m[_]!==h[_])return!1;return!0});if("string"==typeof h)return unist_util_is_lib_castFactory(function(m){return m&&m.type===h});throw Error("Expected function, string, or object as test")};function unist_util_is_lib_castFactory(h){return function(m,_,v){var b;return!!(null!==(b=m)&&"object"==typeof b&&"type"in b&&h.call(this,m,"number"==typeof _?_:void 0,v||void 0))}}function node_modules_unist_util_is_lib_ok(){return!0}let i_=unist_util_is_lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong(h,m,_,v){let b=function(h){let m=h.options.strong||"*";if("*"!==m&&"_"!==m)throw Error("Cannot serialize strong with `"+m+"` for `options.strong`, expected `*`, or `_`");return m}(_),A=_.enter("strong"),C=_.createTracker(v),S=C.move(b+b);return S+=C.move(_.containerPhrasing(h,{before:S,after:b,...C.current()}))+C.move(b+b),A(),S}strong.peek=function(h,m,_){return _.options.strong||"*"};let iE={blockquote:function(h,m,_,v){let b=_.enter("blockquote"),A=_.createTracker(v);A.move("> "),A.shift(2);let C=_.indentLines(_.containerFlow(h,A.current()),blockquote_map);return b(),C},break:hardBreak,code:function(h,m,_,v){let b=function(h){let m=h.options.fence||"`";if("`"!==m&&"~"!==m)throw Error("Cannot serialize code with `"+m+"` for `options.fence`, expected `` ` `` or `~`");return m}(_),A=h.value||"",C="`"===b?"GraveAccent":"Tilde";if(!1===_.options.fences&&h.value&&!h.lang&&/[^ \r\n]/.test(h.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(h.value)){let h=_.enter("codeIndented"),m=_.indentLines(A,code_map);return h(),m}let S=_.createTracker(v),I=b.repeat(Math.max(longestStreak(A,b)+1,3)),w=_.enter("codeFenced"),O=S.move(I);if(h.lang){let m=_.enter(`codeFencedLang${C}`);O+=S.move(_.safe(h.lang,{before:O,after:" ",encode:["`"],...S.current()})),m()}if(h.lang&&h.meta){let m=_.enter(`codeFencedMeta${C}`);O+=S.move(" "),O+=S.move(_.safe(h.meta,{before:O,after:"\n",encode:["`"],...S.current()})),m()}return O+=S.move("\n"),A&&(O+=S.move(A+"\n")),O+=S.move(I),w(),O},definition:function(h,m,_,v){let b=checkQuote(_),A='"'===b?"Quote":"Apostrophe",C=_.enter("definition"),S=_.enter("label"),I=_.createTracker(v),w=I.move("[");return w+=I.move(_.safe(_.associationId(h),{before:w,after:"]",...I.current()}))+I.move("]: "),S(),!h.url||/[\0- \u007F]/.test(h.url)?(S=_.enter("destinationLiteral"),w+=I.move("<"),w+=I.move(_.safe(h.url,{before:w,after:">",...I.current()}))+I.move(">")):(S=_.enter("destinationRaw"),w+=I.move(_.safe(h.url,{before:w,after:h.title?" ":"\n",...I.current()}))),S(),h.title&&(S=_.enter(`title${A}`),w+=I.move(" "+b),w+=I.move(_.safe(h.title,{before:w,after:b,...I.current()}))+I.move(b),S()),C(),w},emphasis:emphasis,hardBreak:hardBreak,heading:function(h,m,_,v){var b,A;let C,S,I,w;let O=Math.max(Math.min(6,h.depth||1),1),L=_.createTracker(v);if(C=!1,"function"==typeof(b=function(h){if("value"in h&&/\r?\n|\r/.test(h.value)||"break"===h.type)return C=!0,!1})&&"function"!=typeof A?(I=void 0,w=b,S=A):(I=b,w=A,S=void 0),visitParents(h,I,function(h,m){let _=m[m.length-1],v=_?_.children.indexOf(h):void 0;return w(h,v,_)},S),(!h.depth||h.depth<3)&&lib_toString(h)&&(_.options.setext||C)){let m=_.enter("headingSetext"),v=_.enter("phrasing"),b=_.containerPhrasing(h,{...L.current(),before:"\n",after:"\n"});return v(),m(),b+"\n"+(1===O?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf("\n"))+1))}let M="#".repeat(O),F=_.enter("headingAtx"),B=_.enter("phrasing");L.move(M+" ");let U=_.containerPhrasing(h,{before:"# ",after:"\n",...L.current()});return/^[\t ]/.test(U)&&(U="&#x"+U.charCodeAt(0).toString(16).toUpperCase()+";"+U.slice(1)),U=U?M+" "+U:M,_.options.closeAtx&&(U+=" "+M),B(),F(),U},html:html_html,image:image_image,imageReference:imageReference,inlineCode:inlineCode,link:link_link,linkReference:linkReference,list:function(h,m,_,v){let b=_.enter("list"),A=_.bulletCurrent,C=h.ordered?function(h){let m=h.options.bulletOrdered||".";if("."!==m&&")"!==m)throw Error("Cannot serialize items with `"+m+"` for `options.bulletOrdered`, expected `.` or `)`");return m}(_):checkBullet(_),S=h.ordered?"."===C?")":".":function(h){let m=checkBullet(h),_=h.options.bulletOther;if(!_)return"*"===m?"-":"*";if("*"!==_&&"+"!==_&&"-"!==_)throw Error("Cannot serialize items with `"+_+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(_===m)throw Error("Expected `bullet` (`"+m+"`) and `bulletOther` (`"+_+"`) to be different");return _}(_),I=!!m&&!!_.bulletLastUsed&&C===_.bulletLastUsed;if(!h.ordered){let m=h.children?h.children[0]:void 0;if("*"!==C&&"-"!==C||!m||m.children&&m.children[0]||"list"!==_.stack[_.stack.length-1]||"listItem"!==_.stack[_.stack.length-2]||"list"!==_.stack[_.stack.length-3]||"listItem"!==_.stack[_.stack.length-4]||0!==_.indexStack[_.indexStack.length-1]||0!==_.indexStack[_.indexStack.length-2]||0!==_.indexStack[_.indexStack.length-3]||(I=!0),checkRule(_)===C&&m){let m=-1;for(;++m<h.children.length;){let _=h.children[m];if(_&&"listItem"===_.type&&_.children&&_.children[0]&&"thematicBreak"===_.children[0].type){I=!0;break}}}}I&&(C=S),_.bulletCurrent=C;let w=_.containerFlow(h,v);return _.bulletLastUsed=C,_.bulletCurrent=A,b(),w},listItem:function(h,m,_,v){let b=function(h){let m=h.options.listItemIndent||"one";if("tab"!==m&&"one"!==m&&"mixed"!==m)throw Error("Cannot serialize items with `"+m+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return m}(_),A=_.bulletCurrent||checkBullet(_);m&&"list"===m.type&&m.ordered&&(A=("number"==typeof m.start&&m.start>-1?m.start:1)+(!1===_.options.incrementListMarker?0:m.children.indexOf(h))+A);let C=A.length+1;("tab"===b||"mixed"===b&&(m&&"list"===m.type&&m.spread||h.spread))&&(C=4*Math.ceil(C/4));let S=_.createTracker(v);S.move(A+" ".repeat(C-A.length)),S.shift(C);let I=_.enter("listItem"),w=_.indentLines(_.containerFlow(h,S.current()),function(h,m,_){return m?(_?"":" ".repeat(C))+h:(_?A:A+" ".repeat(C-A.length))+h});return I(),w},paragraph:function(h,m,_,v){let b=_.enter("paragraph"),A=_.enter("phrasing"),C=_.containerPhrasing(h,v);return A(),b(),C},root:function(h,m,_,v){let b=h.children.some(function(h){return i_(h)}),A=b?_.containerPhrasing:_.containerFlow;return A.call(_,h,v)},strong:strong,text:function(h,m,_,v){return _.safe(h.value,v)},thematicBreak:function(h,m,_){let v=(checkRule(_)+(_.options.ruleSpaces?" ":"")).repeat(function(h){let m=h.options.ruleRepetition||3;if(m<3)throw Error("Cannot serialize rules with repetition `"+m+"` for `options.ruleRepetition`, expected `3` or more");return m}(_));return _.options.ruleSpaces?v.slice(0,-1):v}};function enterTable(h){let m=h._align;this.enter({type:"table",align:m.map(function(h){return"none"===h?null:h}),children:[]},h),this.data.inTable=!0}function exitTable(h){this.exit(h),this.data.inTable=void 0}function enterRow(h){this.enter({type:"tableRow",children:[]},h)}function exit(h){this.exit(h)}function enterCell(h){this.enter({type:"tableCell",children:[]},h)}function exitCodeText(h){let m=this.resume();this.data.inTable&&(m=m.replace(/\\([\\|])/g,replace));let _=this.stack[this.stack.length-1];_.type,_.value=m,this.exit(h)}function replace(h,m){return"|"===m?m:h}function handle_blockquote_map(h,m,_){return">"+(_?"":" ")+h}function pattern_in_scope_listInScope(h,m,_){if("string"==typeof m&&(m=[m]),!m||0===m.length)return _;let v=-1;for(;++v<m.length;)if(h.includes(m[v]))return!0;return!1}function break_hardBreak(h,m,_,v){let b=-1;for(;++b<_.unsafe.length;){var A,C;if("\n"===_.unsafe[b].character&&pattern_in_scope_listInScope(A=_.stack,(C=_.unsafe[b]).inConstruct,!0)&&!pattern_in_scope_listInScope(A,C.notInConstruct,!1))return/[ \t]/.test(v.before)?"":" "}return"\\\n"}function handle_code_map(h,m,_){return(_?"":"    ")+h}function check_quote_checkQuote(h){let m=h.options.quote||'"';if('"'!==m&&"'"!==m)throw Error("Cannot serialize title with `"+m+"` for `options.quote`, expected `\"`, or `'`");return m}function emphasis_emphasis(h,m,_,v){let b=function(h){let m=h.options.emphasis||"*";if("*"!==m&&"_"!==m)throw Error("Cannot serialize emphasis with `"+m+"` for `options.emphasis`, expected `*`, or `_`");return m}(_),A=_.enter("emphasis"),C=_.createTracker(v),S=C.move(b);return S+=C.move(_.containerPhrasing(h,{before:S,after:b,...C.current()}))+C.move(b),A(),S}emphasis_emphasis.peek=function(h,m,_){return _.options.emphasis||"*"};let iv={};function mdast_util_to_string_lib_toString(h,m){let _=m||iv,v="boolean"!=typeof _.includeImageAlt||_.includeImageAlt,b="boolean"!=typeof _.includeHtml||_.includeHtml;return node_modules_mdast_util_to_string_lib_one(h,v,b)}function node_modules_mdast_util_to_string_lib_one(h,m,_){if(h&&"object"==typeof h){if("value"in h)return"html"!==h.type||_?h.value:"";if(m&&"alt"in h&&h.alt)return h.alt;if("children"in h)return node_modules_mdast_util_to_string_lib_all(h.children,m,_)}return Array.isArray(h)?node_modules_mdast_util_to_string_lib_all(h,m,_):""}function node_modules_mdast_util_to_string_lib_all(h,m,_){let v=[],b=-1;for(;++b<h.length;)v[b]=node_modules_mdast_util_to_string_lib_one(h[b],m,_);return v.join("")}function handle_html_html(h){return h.value||""}function handle_image_image(h,m,_,v){let b=check_quote_checkQuote(_),A='"'===b?"Quote":"Apostrophe",C=_.enter("image"),S=_.enter("label"),I=_.createTracker(v),w=I.move("![");return w+=I.move(_.safe(h.alt,{before:w,after:"]",...I.current()}))+I.move("]("),S(),!h.url&&h.title||/[\0- \u007F]/.test(h.url)?(S=_.enter("destinationLiteral"),w+=I.move("<"),w+=I.move(_.safe(h.url,{before:w,after:">",...I.current()}))+I.move(">")):(S=_.enter("destinationRaw"),w+=I.move(_.safe(h.url,{before:w,after:h.title?" ":")",...I.current()}))),S(),h.title&&(S=_.enter(`title${A}`),w+=I.move(" "+b),w+=I.move(_.safe(h.title,{before:w,after:b,...I.current()}))+I.move(b),S()),w+=I.move(")"),C(),w}function image_reference_imageReference(h,m,_,v){let b=h.referenceType,A=_.enter("imageReference"),C=_.enter("label"),S=_.createTracker(v),I=S.move("!["),w=_.safe(h.alt,{before:I,after:"]",...S.current()});I+=S.move(w+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let L=_.safe(_.associationId(h),{before:I,after:"]",...S.current()});return C(),_.stack=O,A(),"full"!==b&&w&&w===L?"shortcut"===b?I=I.slice(0,-1):I+=S.move("]"):I+=S.move(L+"]"),I}function inline_code_inlineCode(h,m,_){let v=h.value||"",b="`",A=-1;for(;RegExp("(^|[^`])"+b+"([^`]|$)").test(v);)b+="`";for(/[^ \r\n]/.test(v)&&(/^[ \r\n]/.test(v)&&/[ \r\n]$/.test(v)||/^`|`$/.test(v))&&(v=" "+v+" ");++A<_.unsafe.length;){let h;let m=_.unsafe[A],b=_.compilePattern(m);if(m.atBreak)for(;h=b.exec(v);){let m=h.index;10===v.charCodeAt(m)&&13===v.charCodeAt(m-1)&&m--,v=v.slice(0,m)+" "+v.slice(h.index+1)}}return b+v+b}function format_link_as_autolink_formatLinkAsAutolink(h,m){let _=mdast_util_to_string_lib_toString(h);return!!(!m.options.resourceLink&&h.url&&!h.title&&h.children&&1===h.children.length&&"text"===h.children[0].type&&(_===h.url||"mailto:"+_===h.url)&&/^[a-z][a-z+.-]+:/i.test(h.url)&&!/[\0- <>\u007F]/.test(h.url))}function handle_link_link(h,m,_,v){let b,A;let C=check_quote_checkQuote(_),S='"'===C?"Quote":"Apostrophe",I=_.createTracker(v);if(format_link_as_autolink_formatLinkAsAutolink(h,_)){let m=_.stack;_.stack=[],b=_.enter("autolink");let v=I.move("<");return v+=I.move(_.containerPhrasing(h,{before:v,after:">",...I.current()}))+I.move(">"),b(),_.stack=m,v}b=_.enter("link"),A=_.enter("label");let w=I.move("[");return w+=I.move(_.containerPhrasing(h,{before:w,after:"](",...I.current()}))+I.move("]("),A(),!h.url&&h.title||/[\0- \u007F]/.test(h.url)?(A=_.enter("destinationLiteral"),w+=I.move("<"),w+=I.move(_.safe(h.url,{before:w,after:">",...I.current()}))+I.move(">")):(A=_.enter("destinationRaw"),w+=I.move(_.safe(h.url,{before:w,after:h.title?" ":")",...I.current()}))),A(),h.title&&(A=_.enter(`title${S}`),w+=I.move(" "+C),w+=I.move(_.safe(h.title,{before:w,after:C,...I.current()}))+I.move(C),A()),w+=I.move(")"),b(),w}function link_reference_linkReference(h,m,_,v){let b=h.referenceType,A=_.enter("linkReference"),C=_.enter("label"),S=_.createTracker(v),I=S.move("["),w=_.containerPhrasing(h,{before:I,after:"]",...S.current()});I+=S.move(w+"]["),C();let O=_.stack;_.stack=[],C=_.enter("reference");let L=_.safe(_.associationId(h),{before:I,after:"]",...S.current()});return C(),_.stack=O,A(),"full"!==b&&w&&w===L?"shortcut"===b?I=I.slice(0,-1):I+=S.move("]"):I+=S.move(L+"]"),I}function check_bullet_checkBullet(h){let m=h.options.bullet||"*";if("*"!==m&&"+"!==m&&"-"!==m)throw Error("Cannot serialize items with `"+m+"` for `options.bullet`, expected `*`, `+`, or `-`");return m}function check_rule_checkRule(h){let m=h.options.rule||"*";if("*"!==m&&"-"!==m&&"_"!==m)throw Error("Cannot serialize rules with `"+m+"` for `options.rule`, expected `*`, `-`, or `_`");return m}handle_html_html.peek=function(){return"<"},handle_image_image.peek=function(){return"!"},image_reference_imageReference.peek=function(){return"!"},inline_code_inlineCode.peek=function(){return"`"},handle_link_link.peek=function(h,m,_){return format_link_as_autolink_formatLinkAsAutolink(h,_)?"<":"["},link_reference_linkReference.peek=function(){return"["};let node_modules_unist_util_is_lib_convert=function(h){if(null==h)return mdast_util_gfm_task_list_item_node_modules_unist_util_is_lib_ok;if("function"==typeof h)return node_modules_unist_util_is_lib_castFactory(h);if("object"==typeof h)return Array.isArray(h)?function(h){let m=[],_=-1;for(;++_<h.length;)m[_]=node_modules_unist_util_is_lib_convert(h[_]);return node_modules_unist_util_is_lib_castFactory(function(...h){let _=-1;for(;++_<m.length;)if(m[_].apply(this,h))return!0;return!1})}(h):node_modules_unist_util_is_lib_castFactory(function(m){let _;for(_ in h)if(m[_]!==h[_])return!1;return!0});if("string"==typeof h)return node_modules_unist_util_is_lib_castFactory(function(m){return m&&m.type===h});throw Error("Expected function, string, or object as test")};function node_modules_unist_util_is_lib_castFactory(h){return function(m,_,v){var b;return!!(null!==(b=m)&&"object"==typeof b&&"type"in b&&h.call(this,m,"number"==typeof _?_:void 0,v||void 0))}}function mdast_util_gfm_task_list_item_node_modules_unist_util_is_lib_ok(){return!0}let iT=node_modules_unist_util_is_lib_convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function strong_strong(h,m,_,v){let b=function(h){let m=h.options.strong||"*";if("*"!==m&&"_"!==m)throw Error("Cannot serialize strong with `"+m+"` for `options.strong`, expected `*`, or `_`");return m}(_),A=_.enter("strong"),C=_.createTracker(v),S=C.move(b+b);return S+=C.move(_.containerPhrasing(h,{before:S,after:b,...C.current()}))+C.move(b+b),A(),S}strong_strong.peek=function(h,m,_){return _.options.strong||"*"};let iy={blockquote:function(h,m,_,v){let b=_.enter("blockquote"),A=_.createTracker(v);A.move("> "),A.shift(2);let C=_.indentLines(_.containerFlow(h,A.current()),handle_blockquote_map);return b(),C},break:break_hardBreak,code:function(h,m,_,v){let b=function(h){let m=h.options.fence||"`";if("`"!==m&&"~"!==m)throw Error("Cannot serialize code with `"+m+"` for `options.fence`, expected `` ` `` or `~`");return m}(_),A=h.value||"",C="`"===b?"GraveAccent":"Tilde";if(!1===_.options.fences&&h.value&&!h.lang&&/[^ \r\n]/.test(h.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(h.value)){let h=_.enter("codeIndented"),m=_.indentLines(A,handle_code_map);return h(),m}let S=_.createTracker(v),I=b.repeat(Math.max(longestStreak(A,b)+1,3)),w=_.enter("codeFenced"),O=S.move(I);if(h.lang){let m=_.enter(`codeFencedLang${C}`);O+=S.move(_.safe(h.lang,{before:O,after:" ",encode:["`"],...S.current()})),m()}if(h.lang&&h.meta){let m=_.enter(`codeFencedMeta${C}`);O+=S.move(" "),O+=S.move(_.safe(h.meta,{before:O,after:"\n",encode:["`"],...S.current()})),m()}return O+=S.move("\n"),A&&(O+=S.move(A+"\n")),O+=S.move(I),w(),O},definition:function(h,m,_,v){let b=check_quote_checkQuote(_),A='"'===b?"Quote":"Apostrophe",C=_.enter("definition"),S=_.enter("label"),I=_.createTracker(v),w=I.move("[");return w+=I.move(_.safe(_.associationId(h),{before:w,after:"]",...I.current()}))+I.move("]: "),S(),!h.url||/[\0- \u007F]/.test(h.url)?(S=_.enter("destinationLiteral"),w+=I.move("<"),w+=I.move(_.safe(h.url,{before:w,after:">",...I.current()}))+I.move(">")):(S=_.enter("destinationRaw"),w+=I.move(_.safe(h.url,{before:w,after:h.title?" ":"\n",...I.current()}))),S(),h.title&&(S=_.enter(`title${A}`),w+=I.move(" "+b),w+=I.move(_.safe(h.title,{before:w,after:b,...I.current()}))+I.move(b),S()),C(),w},emphasis:emphasis_emphasis,hardBreak:break_hardBreak,heading:function(h,m,_,v){var b,A;let C,S,I,w;let O=Math.max(Math.min(6,h.depth||1),1),L=_.createTracker(v);if(C=!1,"function"==typeof(b=function(h){if("value"in h&&/\r?\n|\r/.test(h.value)||"break"===h.type)return C=!0,!1})&&"function"!=typeof A?(I=void 0,w=b,S=A):(I=b,w=A,S=void 0),visitParents(h,I,function(h,m){let _=m[m.length-1],v=_?_.children.indexOf(h):void 0;return w(h,v,_)},S),(!h.depth||h.depth<3)&&mdast_util_to_string_lib_toString(h)&&(_.options.setext||C)){let m=_.enter("headingSetext"),v=_.enter("phrasing"),b=_.containerPhrasing(h,{...L.current(),before:"\n",after:"\n"});return v(),m(),b+"\n"+(1===O?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf("\n"))+1))}let M="#".repeat(O),F=_.enter("headingAtx"),B=_.enter("phrasing");L.move(M+" ");let U=_.containerPhrasing(h,{before:"# ",after:"\n",...L.current()});return/^[\t ]/.test(U)&&(U="&#x"+U.charCodeAt(0).toString(16).toUpperCase()+";"+U.slice(1)),U=U?M+" "+U:M,_.options.closeAtx&&(U+=" "+M),B(),F(),U},html:handle_html_html,image:handle_image_image,imageReference:image_reference_imageReference,inlineCode:inline_code_inlineCode,link:handle_link_link,linkReference:link_reference_linkReference,list:function(h,m,_,v){let b=_.enter("list"),A=_.bulletCurrent,C=h.ordered?function(h){let m=h.options.bulletOrdered||".";if("."!==m&&")"!==m)throw Error("Cannot serialize items with `"+m+"` for `options.bulletOrdered`, expected `.` or `)`");return m}(_):check_bullet_checkBullet(_),S=h.ordered?"."===C?")":".":function(h){let m=check_bullet_checkBullet(h),_=h.options.bulletOther;if(!_)return"*"===m?"-":"*";if("*"!==_&&"+"!==_&&"-"!==_)throw Error("Cannot serialize items with `"+_+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(_===m)throw Error("Expected `bullet` (`"+m+"`) and `bulletOther` (`"+_+"`) to be different");return _}(_),I=!!m&&!!_.bulletLastUsed&&C===_.bulletLastUsed;if(!h.ordered){let m=h.children?h.children[0]:void 0;if("*"!==C&&"-"!==C||!m||m.children&&m.children[0]||"list"!==_.stack[_.stack.length-1]||"listItem"!==_.stack[_.stack.length-2]||"list"!==_.stack[_.stack.length-3]||"listItem"!==_.stack[_.stack.length-4]||0!==_.indexStack[_.indexStack.length-1]||0!==_.indexStack[_.indexStack.length-2]||0!==_.indexStack[_.indexStack.length-3]||(I=!0),check_rule_checkRule(_)===C&&m){let m=-1;for(;++m<h.children.length;){let _=h.children[m];if(_&&"listItem"===_.type&&_.children&&_.children[0]&&"thematicBreak"===_.children[0].type){I=!0;break}}}}I&&(C=S),_.bulletCurrent=C;let w=_.containerFlow(h,v);return _.bulletLastUsed=C,_.bulletCurrent=A,b(),w},listItem:function(h,m,_,v){let b=function(h){let m=h.options.listItemIndent||"one";if("tab"!==m&&"one"!==m&&"mixed"!==m)throw Error("Cannot serialize items with `"+m+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return m}(_),A=_.bulletCurrent||check_bullet_checkBullet(_);m&&"list"===m.type&&m.ordered&&(A=("number"==typeof m.start&&m.start>-1?m.start:1)+(!1===_.options.incrementListMarker?0:m.children.indexOf(h))+A);let C=A.length+1;("tab"===b||"mixed"===b&&(m&&"list"===m.type&&m.spread||h.spread))&&(C=4*Math.ceil(C/4));let S=_.createTracker(v);S.move(A+" ".repeat(C-A.length)),S.shift(C);let I=_.enter("listItem"),w=_.indentLines(_.containerFlow(h,S.current()),function(h,m,_){return m?(_?"":" ".repeat(C))+h:(_?A:A+" ".repeat(C-A.length))+h});return I(),w},paragraph:function(h,m,_,v){let b=_.enter("paragraph"),A=_.enter("phrasing"),C=_.containerPhrasing(h,v);return A(),b(),C},root:function(h,m,_,v){let b=h.children.some(function(h){return iT(h)}),A=b?_.containerPhrasing:_.containerFlow;return A.call(_,h,v)},strong:strong_strong,text:function(h,m,_,v){return _.safe(h.value,v)},thematicBreak:function(h,m,_){let v=(check_rule_checkRule(_)+(_.options.ruleSpaces?" ":"")).repeat(function(h){let m=h.options.ruleRepetition||3;if(m<3)throw Error("Cannot serialize rules with repetition `"+m+"` for `options.ruleRepetition`, expected `3` or more");return m}(_));return _.options.ruleSpaces?v.slice(0,-1):v}};function exitCheck(h){let m=this.stack[this.stack.length-2];m.type,m.checked="taskListCheckValueChecked"===h.type}function exitParagraphWithTaskListItem(h){let m=this.stack[this.stack.length-2];if(m&&"listItem"===m.type&&"boolean"==typeof m.checked){let h=this.stack[this.stack.length-1];h.type;let _=h.children[0];if(_&&"text"===_.type){let v;let b=m.children,A=-1;for(;++A<b.length;){let h=b[A];if("paragraph"===h.type){v=h;break}}v===h&&(_.value=_.value.slice(1),0===_.value.length?h.children.shift():h.position&&_.position&&"number"==typeof _.position.start.offset&&(_.position.start.column++,_.position.start.offset++,h.position.start=Object.assign({},_.position.start)))}}this.exit(h)}function listItemWithTaskListItem(h,m,_,v){let b=h.children[0],A="boolean"==typeof h.checked&&b&&"paragraph"===b.type,C="["+(h.checked?"x":" ")+"] ",S=_.createTracker(v);A&&S.move(C);let I=iy.listItem(h,m,_,{...v,...S.current()});return A&&(I=I.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(h){return h+C})),I}let ib={}.hasOwnProperty,ik=micromark_util_character_regexCheck(/[A-Za-z]/),iA=micromark_util_character_regexCheck(/[\dA-Za-z]/);function micromark_util_character_markdownLineEndingOrSpace(h){return null!==h&&(h<0||32===h)}micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_util_character_regexCheck(/\d/),micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let ix=micromark_util_character_regexCheck(/\p{P}|\p{S}/u),iC=micromark_util_character_regexCheck(/\s/);function micromark_util_character_regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}let iS={tokenize:function(h,m,_){let v=0;return function wwwPrefixInside(m){return(87===m||119===m)&&v<3?(v++,h.consume(m),wwwPrefixInside):46===m&&3===v?(h.consume(m),wwwPrefixAfter):_(m)};function wwwPrefixAfter(h){return null===h?_(h):m(h)}},partial:!0},iI={tokenize:function(h,m,_){let v,b,A;return domainInside;function domainInside(m){return 46===m||95===m?h.check(iN,domainAfter,domainAtPunctuation)(m):null===m||micromark_util_character_markdownLineEndingOrSpace(m)||iC(m)||45!==m&&ix(m)?domainAfter(m):(A=!0,h.consume(m),domainInside)}function domainAtPunctuation(m){return 95===m?v=!0:(b=v,v=void 0),h.consume(m),domainInside}function domainAfter(h){return b||v||!A?_(h):m(h)}},partial:!0},iw={tokenize:function(h,m){let _=0,v=0;return pathInside;function pathInside(b){return 40===b?(_++,h.consume(b),pathInside):41===b&&v<_?pathAtPunctuation(b):33===b||34===b||38===b||39===b||41===b||42===b||44===b||46===b||58===b||59===b||60===b||63===b||93===b||95===b||126===b?h.check(iN,m,pathAtPunctuation)(b):null===b||micromark_util_character_markdownLineEndingOrSpace(b)||iC(b)?m(b):(h.consume(b),pathInside)}function pathAtPunctuation(m){return 41===m&&v++,h.consume(m),pathInside}},partial:!0},iN={tokenize:function(h,m,_){return trail;function trail(v){return 33===v||34===v||39===v||41===v||42===v||44===v||46===v||58===v||59===v||63===v||95===v||126===v?(h.consume(v),trail):38===v?(h.consume(v),trailCharacterReferenceStart):93===v?(h.consume(v),trailBracketAfter):60===v||null===v||micromark_util_character_markdownLineEndingOrSpace(v)||iC(v)?m(v):_(v)}function trailBracketAfter(h){return null===h||40===h||91===h||micromark_util_character_markdownLineEndingOrSpace(h)||iC(h)?m(h):trail(h)}function trailCharacterReferenceStart(m){return ik(m)?function trailCharacterReferenceInside(m){return 59===m?(h.consume(m),trail):ik(m)?(h.consume(m),trailCharacterReferenceInside):_(m)}(m):_(m)}},partial:!0},iO={tokenize:function(h,m,_){return function(m){return h.consume(m),after};function after(h){return iA(h)?_(h):m(h)}},partial:!0},iR={name:"wwwAutolink",tokenize:function(h,m,_){let v=this;return function(m){return 87!==m&&119!==m||!previousWww.call(v,v.previous)||previousUnbalanced(v.events)?_(m):(h.enter("literalAutolink"),h.enter("literalAutolinkWww"),h.check(iS,h.attempt(iI,h.attempt(iw,wwwAfter),_),_)(m))};function wwwAfter(_){return h.exit("literalAutolinkWww"),h.exit("literalAutolink"),m(_)}},previous:previousWww},iL={name:"protocolAutolink",tokenize:function(h,m,_){let v=this,b="",A=!1;return function(m){return(72===m||104===m)&&previousProtocol.call(v,v.previous)&&!previousUnbalanced(v.events)?(h.enter("literalAutolink"),h.enter("literalAutolinkHttp"),b+=String.fromCodePoint(m),h.consume(m),protocolPrefixInside):_(m)};function protocolPrefixInside(m){if(ik(m)&&b.length<5)return b+=String.fromCodePoint(m),h.consume(m),protocolPrefixInside;if(58===m){let _=b.toLowerCase();if("http"===_||"https"===_)return h.consume(m),protocolSlashesInside}return _(m)}function protocolSlashesInside(m){return 47===m?(h.consume(m),A)?afterProtocol:(A=!0,protocolSlashesInside):_(m)}function afterProtocol(m){return null===m||null!==m&&(m<32||127===m)||micromark_util_character_markdownLineEndingOrSpace(m)||iC(m)||ix(m)?_(m):h.attempt(iI,h.attempt(iw,protocolAfter),_)(m)}function protocolAfter(_){return h.exit("literalAutolinkHttp"),h.exit("literalAutolink"),m(_)}},previous:previousProtocol},iD={name:"emailAutolink",tokenize:function(h,m,_){let v,b;let A=this;return function(m){return!gfmAtext(m)||!previousEmail.call(A,A.previous)||previousUnbalanced(A.events)?_(m):(h.enter("literalAutolink"),h.enter("literalAutolinkEmail"),function atext(m){return gfmAtext(m)?(h.consume(m),atext):64===m?(h.consume(m),emailDomain):_(m)}(m))};function emailDomain(m){return 46===m?h.check(iO,emailDomainAfter,emailDomainDot)(m):45===m||95===m||iA(m)?(b=!0,h.consume(m),emailDomain):emailDomainAfter(m)}function emailDomainDot(m){return h.consume(m),v=!0,emailDomain}function emailDomainAfter(C){return b&&v&&ik(A.previous)?(h.exit("literalAutolinkEmail"),h.exit("literalAutolink"),m(C)):_(C)}},previous:previousEmail},iP={},iM=48;for(;iM<123;)iP[iM]=iD,58==++iM?iM=65:91===iM&&(iM=97);function previousWww(h){return null===h||40===h||42===h||95===h||91===h||93===h||126===h||micromark_util_character_markdownLineEndingOrSpace(h)}function previousProtocol(h){return!ik(h)}function previousEmail(h){return!(47===h||gfmAtext(h))}function gfmAtext(h){return 43===h||45===h||46===h||95===h||iA(h)}function previousUnbalanced(h){let m=h.length,_=!1;for(;m--;){let v=h[m][1];if(("labelLink"===v.type||"labelImage"===v.type)&&!v._balanced){_=!0;break}if(v._gfmAutolinkLiteralWalkedInto){_=!1;break}}return h.length>0&&!_&&(h[h.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),_}function node_modules_micromark_util_character_markdownLineEndingOrSpace(h){return null!==h&&(h<0||32===h)}function node_modules_micromark_util_character_markdownSpace(h){return -2===h||-1===h||32===h}function node_modules_micromark_util_character_regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}function factorySpace(h,m,_,v){let b=v?v-1:Number.POSITIVE_INFINITY,A=0;return function(v){return node_modules_micromark_util_character_markdownSpace(v)?(h.enter(_),function prefix(v){return node_modules_micromark_util_character_markdownSpace(v)&&A++<b?(h.consume(v),prefix):(h.exit(_),m(v))}(v)):m(v)}}iP[43]=iD,iP[45]=iD,iP[46]=iD,iP[95]=iD,iP[72]=[iD,iL],iP[104]=[iD,iL],iP[87]=[iD,iR],iP[119]=[iD,iR],node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),node_modules_micromark_util_character_regexCheck(/\d/),node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),node_modules_micromark_util_character_regexCheck(/\s/);let iF={tokenize:function(h,m,_){return function(m){return node_modules_micromark_util_character_markdownSpace(m)?factorySpace(h,after,"linePrefix")(m):after(m)};function after(h){return null===h||null!==h&&h<-2?m(h):_(h)}},partial:!0};function micromark_util_normalize_identifier_normalizeIdentifier(h){return h.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let iB={tokenize:function(h,m,_){let v=this;return factorySpace(h,function(h){let b=v.events[v.events.length-1];return b&&"gfmFootnoteDefinitionIndent"===b[1].type&&4===b[2].sliceSerialize(b[1],!0).length?m(h):_(h)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function tokenizePotentialGfmFootnoteCall(h,m,_){let v;let b=this,A=b.events.length,C=b.parser.gfmFootnotes||(b.parser.gfmFootnotes=[]);for(;A--;){let h=b.events[A][1];if("labelImage"===h.type){v=h;break}if("gfmFootnoteCall"===h.type||"labelLink"===h.type||"label"===h.type||"image"===h.type||"link"===h.type)break}return function(A){if(!v||!v._balanced)return _(A);let S=micromark_util_normalize_identifier_normalizeIdentifier(b.sliceSerialize({start:v.end,end:b.now()}));return 94===S.codePointAt(0)&&C.includes(S.slice(1))?(h.enter("gfmFootnoteCallLabelMarker"),h.consume(A),h.exit("gfmFootnoteCallLabelMarker"),m(A)):_(A)}}function resolveToPotentialGfmFootnoteCall(h,m){let _=h.length;for(;_--;)if("labelImage"===h[_][1].type&&"enter"===h[_][0]){h[_][1];break}h[_+1][1].type="data",h[_+3][1].type="gfmFootnoteCallLabelMarker";let v={type:"gfmFootnoteCall",start:Object.assign({},h[_+3][1].start),end:Object.assign({},h[h.length-1][1].end)},b={type:"gfmFootnoteCallMarker",start:Object.assign({},h[_+3][1].end),end:Object.assign({},h[_+3][1].end)};b.end.column++,b.end.offset++,b.end._bufferIndex++;let A={type:"gfmFootnoteCallString",start:Object.assign({},b.end),end:Object.assign({},h[h.length-1][1].start)},C={type:"chunkString",contentType:"string",start:Object.assign({},A.start),end:Object.assign({},A.end)},S=[h[_+1],h[_+2],["enter",v,m],h[_+3],h[_+4],["enter",b,m],["exit",b,m],["enter",A,m],["enter",C,m],["exit",C,m],["exit",A,m],h[h.length-2],h[h.length-1],["exit",v,m]];return h.splice(_,h.length-_+1,...S),h}function tokenizeGfmFootnoteCall(h,m,_){let v;let b=this,A=b.parser.gfmFootnotes||(b.parser.gfmFootnotes=[]),C=0;return function(m){return h.enter("gfmFootnoteCall"),h.enter("gfmFootnoteCallLabelMarker"),h.consume(m),h.exit("gfmFootnoteCallLabelMarker"),callStart};function callStart(m){return 94!==m?_(m):(h.enter("gfmFootnoteCallMarker"),h.consume(m),h.exit("gfmFootnoteCallMarker"),h.enter("gfmFootnoteCallString"),h.enter("chunkString").contentType="string",callData)}function callData(S){if(C>999||93===S&&!v||null===S||91===S||node_modules_micromark_util_character_markdownLineEndingOrSpace(S))return _(S);if(93===S){h.exit("chunkString");let v=h.exit("gfmFootnoteCallString");return A.includes(micromark_util_normalize_identifier_normalizeIdentifier(b.sliceSerialize(v)))?(h.enter("gfmFootnoteCallLabelMarker"),h.consume(S),h.exit("gfmFootnoteCallLabelMarker"),h.exit("gfmFootnoteCall"),m):_(S)}return node_modules_micromark_util_character_markdownLineEndingOrSpace(S)||(v=!0),C++,h.consume(S),92===S?callEscape:callData}function callEscape(m){return 91===m||92===m||93===m?(h.consume(m),C++,callData):callData(m)}}function tokenizeDefinitionStart(h,m,_){let v,b;let A=this,C=A.parser.gfmFootnotes||(A.parser.gfmFootnotes=[]),S=0;return function(m){return h.enter("gfmFootnoteDefinition")._container=!0,h.enter("gfmFootnoteDefinitionLabel"),h.enter("gfmFootnoteDefinitionLabelMarker"),h.consume(m),h.exit("gfmFootnoteDefinitionLabelMarker"),labelAtMarker};function labelAtMarker(m){return 94===m?(h.enter("gfmFootnoteDefinitionMarker"),h.consume(m),h.exit("gfmFootnoteDefinitionMarker"),h.enter("gfmFootnoteDefinitionLabelString"),h.enter("chunkString").contentType="string",labelInside):_(m)}function labelInside(m){if(S>999||93===m&&!b||null===m||91===m||node_modules_micromark_util_character_markdownLineEndingOrSpace(m))return _(m);if(93===m){h.exit("chunkString");let _=h.exit("gfmFootnoteDefinitionLabelString");return v=micromark_util_normalize_identifier_normalizeIdentifier(A.sliceSerialize(_)),h.enter("gfmFootnoteDefinitionLabelMarker"),h.consume(m),h.exit("gfmFootnoteDefinitionLabelMarker"),h.exit("gfmFootnoteDefinitionLabel"),labelAfter}return node_modules_micromark_util_character_markdownLineEndingOrSpace(m)||(b=!0),S++,h.consume(m),92===m?labelEscape:labelInside}function labelEscape(m){return 91===m||92===m||93===m?(h.consume(m),S++,labelInside):labelInside(m)}function labelAfter(m){return 58===m?(h.enter("definitionMarker"),h.consume(m),h.exit("definitionMarker"),C.includes(v)||C.push(v),factorySpace(h,whitespaceAfter,"gfmFootnoteDefinitionWhitespace")):_(m)}function whitespaceAfter(h){return m(h)}}function tokenizeDefinitionContinuation(h,m,_){return h.check(iF,m,h.attempt(iB,m,_))}function gfmFootnoteDefinitionEnd(h){h.exit("gfmFootnoteDefinition")}function micromark_util_chunked_splice(h,m,_,v){let b;let A=h.length,C=0;if(m=m<0?-m>A?0:A+m:m>A?A:m,_=_>0?_:0,v.length<1e4)(b=Array.from(v)).unshift(m,_),h.splice(...b);else for(_&&h.splice(m,_);C<v.length;)(b=v.slice(C,C+1e4)).unshift(m,0),h.splice(...b),C+=1e4,m+=1e4}micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);let iH=micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),iU=micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(/\s/);function micromark_extension_gfm_strikethrough_node_modules_micromark_util_character_regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}function classifyCharacter(h){return null===h||null!==h&&(h<0||32===h)||iU(h)?1:iH(h)?2:void 0}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(h){return null!==h&&h<-2}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(h){return null!==h&&(h<0||32===h)}function micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(h){return -2===h||-1===h||32===h}function micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}function micromark_factory_space_factorySpace(h,m,_,v){let b=v?v-1:Number.POSITIVE_INFINITY,A=0;return function(v){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(v)?(h.enter(_),function prefix(v){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(v)&&A++<b?(h.consume(v),prefix):(h.exit(_),m(v))}(v)):m(v)}}micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),micromark_extension_gfm_table_node_modules_micromark_util_character_regexCheck(/\s/);let EditMap=class EditMap{constructor(){this.map=[]}add(h,m,_){!function(h,m,_,v){let b=0;if(0!==_||0!==v.length){for(;b<h.map.length;){if(h.map[b][0]===m){h.map[b][1]+=_,h.map[b][2].push(...v);return}b+=1}h.map.push([m,_,v])}}(this,h,m,_)}consume(h){if(this.map.sort(function(h,m){return h[0]-m[0]}),0===this.map.length)return;let m=this.map.length,_=[];for(;m>0;)m-=1,_.push(h.slice(this.map[m][0]+this.map[m][1]),this.map[m][2]),h.length=this.map[m][0];_.push([...h]),h.length=0;let v=_.pop();for(;v;)h.push(...v),v=_.pop();this.map.length=0}};function tokenizeTable(h,m,_){let v;let b=this,A=0,C=0;return function(h){let m=b.events.length-1;for(;m>-1;){let h=b.events[m][1].type;if("lineEnding"===h||"linePrefix"===h)m--;else break}let v=m>-1?b.events[m][1].type:null,A="tableHead"===v||"tableRow"===v?bodyRowStart:headRowBefore;return A===bodyRowStart&&b.parser.lazy[b.now().line]?_(h):A(h)};function headRowBefore(m){return h.enter("tableHead"),h.enter("tableRow"),124===m||(v=!0,C+=1),headRowBreak(m)}function headRowBreak(m){return null===m?_(m):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(m)?C>1?(C=0,b.interrupt=!0,h.exit("tableRow"),h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),headDelimiterStart):_(m):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(m)?micromark_factory_space_factorySpace(h,headRowBreak,"whitespace")(m):(C+=1,v&&(v=!1,A+=1),124===m)?(h.enter("tableCellDivider"),h.consume(m),h.exit("tableCellDivider"),v=!0,headRowBreak):(h.enter("data"),headRowData(m))}function headRowData(m){return null===m||124===m||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?(h.exit("data"),headRowBreak(m)):(h.consume(m),92===m?headRowEscape:headRowData)}function headRowEscape(m){return 92===m||124===m?(h.consume(m),headRowData):headRowData(m)}function headDelimiterStart(m){return(b.interrupt=!1,b.parser.lazy[b.now().line])?_(m):(h.enter("tableDelimiterRow"),v=!1,micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(m))?micromark_factory_space_factorySpace(h,headDelimiterBefore,"linePrefix",b.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):headDelimiterBefore(m)}function headDelimiterBefore(m){return 45===m||58===m?headDelimiterValueBefore(m):124===m?(v=!0,h.enter("tableCellDivider"),h.consume(m),h.exit("tableCellDivider"),headDelimiterCellBefore):_(m)}function headDelimiterCellBefore(m){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(m)?micromark_factory_space_factorySpace(h,headDelimiterValueBefore,"whitespace")(m):headDelimiterValueBefore(m)}function headDelimiterValueBefore(m){return 58===m?(C+=1,v=!0,h.enter("tableDelimiterMarker"),h.consume(m),h.exit("tableDelimiterMarker"),headDelimiterLeftAlignmentAfter):45===m?(C+=1,headDelimiterLeftAlignmentAfter(m)):null===m||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(m)?headDelimiterCellAfter(m):_(m)}function headDelimiterLeftAlignmentAfter(m){return 45===m?(h.enter("tableDelimiterFiller"),function headDelimiterFiller(m){return 45===m?(h.consume(m),headDelimiterFiller):58===m?(v=!0,h.exit("tableDelimiterFiller"),h.enter("tableDelimiterMarker"),h.consume(m),h.exit("tableDelimiterMarker"),headDelimiterRightAlignmentAfter):(h.exit("tableDelimiterFiller"),headDelimiterRightAlignmentAfter(m))}(m)):_(m)}function headDelimiterRightAlignmentAfter(m){return micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(m)?micromark_factory_space_factorySpace(h,headDelimiterCellAfter,"whitespace")(m):headDelimiterCellAfter(m)}function headDelimiterCellAfter(b){return 124===b?headDelimiterBefore(b):null===b||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(b)?v&&A===C?(h.exit("tableDelimiterRow"),h.exit("tableHead"),m(b)):_(b):_(b)}function bodyRowStart(m){return h.enter("tableRow"),bodyRowBreak(m)}function bodyRowBreak(_){return 124===_?(h.enter("tableCellDivider"),h.consume(_),h.exit("tableCellDivider"),bodyRowBreak):null===_||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEnding(_)?(h.exit("tableRow"),m(_)):micromark_extension_gfm_table_node_modules_micromark_util_character_markdownSpace(_)?micromark_factory_space_factorySpace(h,bodyRowBreak,"whitespace")(_):(h.enter("data"),bodyRowData(_))}function bodyRowData(m){return null===m||124===m||micromark_extension_gfm_table_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?(h.exit("data"),bodyRowBreak(m)):(h.consume(m),92===m?bodyRowEscape:bodyRowData)}function bodyRowEscape(m){return 92===m||124===m?(h.consume(m),bodyRowData):bodyRowData(m)}}function resolveTable(h,m){let _,v,b,A=-1,C=!0,S=0,I=[0,0,0,0],w=[0,0,0,0],O=!1,L=0,M=new EditMap;for(;++A<h.length;){let F=h[A],B=F[1];"enter"===F[0]?"tableHead"===B.type?(O=!1,0!==L&&(flushTableEnd(M,m,L,_,v),v=void 0,L=0),_={type:"table",start:Object.assign({},B.start),end:Object.assign({},B.end)},M.add(A,0,[["enter",_,m]])):"tableRow"===B.type||"tableDelimiterRow"===B.type?(C=!0,b=void 0,I=[0,0,0,0],w=[0,A+1,0,0],O&&(O=!1,v={type:"tableBody",start:Object.assign({},B.start),end:Object.assign({},B.end)},M.add(A,0,[["enter",v,m]])),S="tableDelimiterRow"===B.type?2:v?3:1):S&&("data"===B.type||"tableDelimiterMarker"===B.type||"tableDelimiterFiller"===B.type)?(C=!1,0===w[2]&&(0!==I[1]&&(w[0]=w[1],b=flushCell(M,m,I,S,void 0,b),I=[0,0,0,0]),w[2]=A)):"tableCellDivider"===B.type&&(C?C=!1:(0!==I[1]&&(w[0]=w[1],b=flushCell(M,m,I,S,void 0,b)),w=[(I=w)[1],A,0,0])):"tableHead"===B.type?(O=!0,L=A):"tableRow"===B.type||"tableDelimiterRow"===B.type?(L=A,0!==I[1]?(w[0]=w[1],b=flushCell(M,m,I,S,A,b)):0!==w[1]&&(b=flushCell(M,m,w,S,A,b)),S=0):S&&("data"===B.type||"tableDelimiterMarker"===B.type||"tableDelimiterFiller"===B.type)&&(w[3]=A)}for(0!==L&&flushTableEnd(M,m,L,_,v),M.consume(m.events),A=-1;++A<m.events.length;){let h=m.events[A];"enter"===h[0]&&"table"===h[1].type&&(h[1]._align=function(h,m){let _=!1,v=[];for(;m<h.length;){let b=h[m];if(_){if("enter"===b[0])"tableContent"===b[1].type&&v.push("tableDelimiterMarker"===h[m+1][1].type?"left":"none");else if("tableContent"===b[1].type){if("tableDelimiterMarker"===h[m-1][1].type){let h=v.length-1;v[h]="left"===v[h]?"center":"right"}}else if("tableDelimiterRow"===b[1].type)break}else"enter"===b[0]&&"tableDelimiterRow"===b[1].type&&(_=!0);m+=1}return v}(m.events,A))}return h}function flushCell(h,m,_,v,b,A){0!==_[0]&&(A.end=Object.assign({},getPoint(m.events,_[0])),h.add(_[0],0,[["exit",A,m]]));let C=getPoint(m.events,_[1]);if(A={type:1===v?"tableHeader":2===v?"tableDelimiter":"tableData",start:Object.assign({},C),end:Object.assign({},C)},h.add(_[1],0,[["enter",A,m]]),0!==_[2]){let b=getPoint(m.events,_[2]),A=getPoint(m.events,_[3]),C={type:"tableContent",start:Object.assign({},b),end:Object.assign({},A)};if(h.add(_[2],0,[["enter",C,m]]),2!==v){let v=m.events[_[2]],b=m.events[_[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",_[3]>_[2]+1){let m=_[2]+1,v=_[3]-_[2]-1;h.add(m,v,[])}}h.add(_[3]+1,0,[["exit",C,m]])}return void 0!==b&&(A.end=Object.assign({},getPoint(m.events,b)),h.add(b,0,[["exit",A,m]]),A=void 0),A}function flushTableEnd(h,m,_,v,b){let A=[],C=getPoint(m.events,_);b&&(b.end=Object.assign({},C),A.push(["exit",b,m])),v.end=Object.assign({},C),A.push(["exit",v,m]),h.add(_+1,0,A)}function getPoint(h,m){let _=h[m],v="enter"===_[0]?"start":"end";return _[1][v]}function micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(h){return -2===h||-1===h||32===h}function micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\d/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_regexCheck(/\s/);let i$={name:"tasklistCheck",tokenize:function(h,m,_){let v=this;return function(m){return null===v.previous&&v._gfmTasklistFirstContentOfListItem?(h.enter("taskListCheck"),h.enter("taskListCheckMarker"),h.consume(m),h.exit("taskListCheckMarker"),inside):_(m)};function inside(m){return null!==m&&(m<0||32===m)?(h.enter("taskListCheckValueUnchecked"),h.consume(m),h.exit("taskListCheckValueUnchecked"),close):88===m||120===m?(h.enter("taskListCheckValueChecked"),h.consume(m),h.exit("taskListCheckValueChecked"),close):_(m)}function close(m){return 93===m?(h.enter("taskListCheckMarker"),h.consume(m),h.exit("taskListCheckMarker"),h.exit("taskListCheck"),after):_(m)}function after(v){return null!==v&&v<-2?m(v):micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(v)?h.check({tokenize:spaceThenNonSpace},m,_)(v):_(v)}}};function spaceThenNonSpace(h,m,_){return function(h,m,_,v){let b=v?v-1:Number.POSITIVE_INFINITY,A=0;return function(v){return micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(v)?(h.enter(_),function prefix(v){return micromark_extension_gfm_task_list_item_node_modules_micromark_util_character_markdownSpace(v)&&A++<b?(h.consume(v),prefix):(h.exit(_),m(v))}(v)):m(v)}}(h,function(h){return null===h?_(h):m(h)},"whitespace")}let iz={};function remarkGfm(h){let m=h||iz,_=this.data(),v=_.micromarkExtensions||(_.micromarkExtensions=[]),b=_.fromMarkdownExtensions||(_.fromMarkdownExtensions=[]),A=_.toMarkdownExtensions||(_.toMarkdownExtensions=[]);v.push(function(h){let m={},_=-1;for(;++_<h.length;)(function(h,m){let _;for(_ in m){let v;let b=ib.call(h,_)?h[_]:void 0,A=b||(h[_]={}),C=m[_];if(C)for(v in C){ib.call(A,v)||(A[v]=[]);let h=C[v];(function(h,m){let _=-1,v=[];for(;++_<m.length;)("after"===m[_].add?h:v).push(m[_]);!function(h,m,_,v){let b;let A=h.length,C=0;if(m=m<0?-m>A?0:A+m:m>A?A:m,_=_>0?_:0,v.length<1e4)(b=Array.from(v)).unshift(m,_),h.splice(...b);else for(_&&h.splice(m,_);C<v.length;)(b=v.slice(C,C+1e4)).unshift(m,0),h.splice(...b),C+=1e4,m+=1e4}(h,0,0,v)})(A[v],Array.isArray(h)?h:h?[h]:[])}}})(m,h[_]);return m}([{text:iP},{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}},function(h){let m=(h||{}).singleTilde,_={name:"strikethrough",tokenize:function(h,_,v){let b=this.previous,A=this.events,C=0;return function(S){return 126===b&&"characterEscape"!==A[A.length-1][1].type?v(S):(h.enter("strikethroughSequenceTemporary"),function more(A){let S=classifyCharacter(b);if(126===A)return C>1?v(A):(h.consume(A),C++,more);if(C<2&&!m)return v(A);let I=h.exit("strikethroughSequenceTemporary"),w=classifyCharacter(A);return I._open=!w||2===w&&!!S,I._close=!S||2===S&&!!w,_(A)}(S))}},resolveAll:function(h,m){let _=-1;for(;++_<h.length;)if("enter"===h[_][0]&&"strikethroughSequenceTemporary"===h[_][1].type&&h[_][1]._close){let v=_;for(;v--;)if("exit"===h[v][0]&&"strikethroughSequenceTemporary"===h[v][1].type&&h[v][1]._open&&h[_][1].end.offset-h[_][1].start.offset==h[v][1].end.offset-h[v][1].start.offset){h[_][1].type="strikethroughSequence",h[v][1].type="strikethroughSequence";let b={type:"strikethrough",start:Object.assign({},h[v][1].start),end:Object.assign({},h[_][1].end)},A={type:"strikethroughText",start:Object.assign({},h[v][1].end),end:Object.assign({},h[_][1].start)},C=[["enter",b,m],["enter",h[v][1],m],["exit",h[v][1],m],["enter",A,m]],S=m.parser.constructs.insideSpan.null;S&&micromark_util_chunked_splice(C,C.length,0,function(h,m,_){let v=[],b=-1;for(;++b<h.length;){let A=h[b].resolveAll;A&&!v.includes(A)&&(m=A(m,_),v.push(A))}return m}(S,h.slice(v+1,_),m)),micromark_util_chunked_splice(C,C.length,0,[["exit",A,m],["enter",h[_][1],m],["exit",h[_][1],m],["exit",b,m]]),micromark_util_chunked_splice(h,v-1,_-v+3,C),_=v+C.length-2;break}}for(_=-1;++_<h.length;)"strikethroughSequenceTemporary"===h[_][1].type&&(h[_][1].type="data");return h}};return null==m&&(m=!0),{text:{126:_},insideSpan:{null:[_]},attentionMarkers:{null:[126]}}}(m),{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}},{text:{91:i$}}])),b.push([{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}},{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}},{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}]),A.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ih,notInConstruct:ip},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ih,notInConstruct:ip},{character:":",before:"[ps]",after:"\\/",inConstruct:ih,notInConstruct:ip}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:im}],handlers:{delete:handleDelete}},function(h){let m=h||{},_=m.tableCellPadding,v=m.tablePipeAlign,b=m.stringLength,A=_?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(h,m,_){let v=iE.inlineCode(h,m,_);return _.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v},table:function(h,m,_,v){return serializeData(function(h,m,_){let v=h.children,b=-1,A=[],C=m.enter("table");for(;++b<v.length;)A[b]=handleTableRowAsData(v[b],m,_);return C(),A}(h,_,v),h.align)},tableCell:handleTableCell,tableRow:function(h,m,_,v){let b=handleTableRowAsData(h,_,v),A=serializeData([b]);return A.slice(0,A.indexOf("\n"))}}};function handleTableCell(h,m,_,v){let b=_.enter("tableCell"),C=_.enter("phrasing"),S=_.containerPhrasing(h,{...v,before:A,after:A});return C(),b(),S}function serializeData(h,m){return function(h,m={}){let _=(m.align||[]).concat(),v=m.stringLength||defaultStringLength,b=[],A=[],C=[],S=[],I=0,w=-1;for(;++w<h.length;){let _=[],b=[],L=-1;for(h[w].length>I&&(I=h[w].length);++L<h[w].length;){var O;let A=null==(O=h[w][L])?"":String(O);if(!1!==m.alignDelimiters){let h=v(A);b[L]=h,(void 0===S[L]||h>S[L])&&(S[L]=h)}_.push(A)}A[w]=_,C[w]=b}let L=-1;if("object"==typeof _&&"length"in _)for(;++L<I;)b[L]=toAlignment(_[L]);else{let h=toAlignment(_);for(;++L<I;)b[L]=h}L=-1;let M=[],F=[];for(;++L<I;){let h=b[L],_="",v="";99===h?(_=":",v=":"):108===h?_=":":114===h&&(v=":");let A=!1===m.alignDelimiters?1:Math.max(1,S[L]-_.length-v.length),C=_+"-".repeat(A)+v;!1!==m.alignDelimiters&&((A=_.length+A+v.length)>S[L]&&(S[L]=A),F[L]=A),M[L]=C}A.splice(1,0,M),C.splice(1,0,F),w=-1;let B=[];for(;++w<A.length;){let h=A[w],_=C[w];L=-1;let v=[];for(;++L<I;){let A=h[L]||"",C="",w="";if(!1!==m.alignDelimiters){let h=S[L]-(_[L]||0),m=b[L];114===m?C=" ".repeat(h):99===m?h%2?(C=" ".repeat(h/2+.5),w=" ".repeat(h/2-.5)):w=C=" ".repeat(h/2):w=" ".repeat(h)}!1===m.delimiterStart||L||v.push("|"),!1!==m.padding&&!(!1===m.alignDelimiters&&""===A)&&(!1!==m.delimiterStart||L)&&v.push(" "),!1!==m.alignDelimiters&&v.push(C),v.push(A),!1!==m.alignDelimiters&&v.push(w),!1!==m.padding&&v.push(" "),(!1!==m.delimiterEnd||L!==I-1)&&v.push("|")}B.push(!1===m.delimiterEnd?v.join("").replace(/ +$/,""):v.join(""))}return B.join("\n")}(h,{align:m,alignDelimiters:v,padding:_,stringLength:b})}function handleTableRowAsData(h,m,_){let v=h.children,b=-1,A=[],C=m.enter("tableRow");for(;++b<v.length;)A[b]=handleTableCell(v[b],h,m,_);return C(),A}}(m),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}]})}let iG={};function remark_parse_node_modules_mdast_util_to_string_lib_one(h,m,_){if(h&&"object"==typeof h){if("value"in h)return"html"!==h.type||_?h.value:"";if(m&&"alt"in h&&h.alt)return h.alt;if("children"in h)return remark_parse_node_modules_mdast_util_to_string_lib_all(h.children,m,_)}return Array.isArray(h)?remark_parse_node_modules_mdast_util_to_string_lib_all(h,m,_):""}function remark_parse_node_modules_mdast_util_to_string_lib_all(h,m,_){let v=[],b=-1;for(;++b<h.length;)v[b]=remark_parse_node_modules_mdast_util_to_string_lib_one(h[b],m,_);return v.join("")}function node_modules_micromark_util_chunked_splice(h,m,_,v){let b;let A=h.length,C=0;if(m=m<0?-m>A?0:A+m:m>A?A:m,_=_>0?_:0,v.length<1e4)(b=Array.from(v)).unshift(m,_),h.splice(...b);else for(_&&h.splice(m,_);C<v.length;)(b=v.slice(C,C+1e4)).unshift(m,0),h.splice(...b),C+=1e4,m+=1e4}function node_modules_micromark_util_chunked_push(h,m){return h.length>0?(node_modules_micromark_util_chunked_splice(h,h.length,0,m),h):m}let SpliceBuffer=class SpliceBuffer{constructor(h){this.left=h?[...h]:[],this.right=[]}get(h){if(h<0||h>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+h+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return h<this.left.length?this.left[h]:this.right[this.right.length-h+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(h,m){let _=null==m?Number.POSITIVE_INFINITY:m;return _<this.left.length?this.left.slice(h,_):h>this.left.length?this.right.slice(this.right.length-_+this.left.length,this.right.length-h+this.left.length).reverse():this.left.slice(h).concat(this.right.slice(this.right.length-_+this.left.length).reverse())}splice(h,m,_){let v=m||0;this.setCursor(Math.trunc(h));let b=this.right.splice(this.right.length-v,Number.POSITIVE_INFINITY);return _&&chunkedPush(this.left,_),b.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(h){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(h)}pushMany(h){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,h)}unshift(h){this.setCursor(0),this.right.push(h)}unshiftMany(h){this.setCursor(0),chunkedPush(this.right,h.reverse())}setCursor(h){if(h!==this.left.length&&(!(h>this.left.length)||0!==this.right.length)&&(!(h<0)||0!==this.left.length)){if(h<this.left.length){let m=this.left.splice(h,Number.POSITIVE_INFINITY);chunkedPush(this.right,m.reverse())}else{let m=this.right.splice(this.left.length+this.right.length-h,Number.POSITIVE_INFINITY);chunkedPush(this.left,m.reverse())}}}};function chunkedPush(h,m){let _=0;if(m.length<1e4)h.push(...m);else for(;_<m.length;)h.push(...m.slice(_,_+1e4)),_+=1e4}function subtokenize(h){let m,_,v,b,A,C,S;let I={},w=-1,O=new SpliceBuffer(h);for(;++w<O.length;){for(;(w in I);)w=I[w];if(m=O.get(w),w&&"chunkFlow"===m[1].type&&"listItemPrefix"===O.get(w-1)[1].type&&((v=0)<(C=m[1]._tokenizer.events).length&&"lineEndingBlank"===C[v][1].type&&(v+=2),v<C.length&&"content"===C[v][1].type))for(;++v<C.length&&"content"!==C[v][1].type;)"chunkText"===C[v][1].type&&(C[v][1]._isInFirstContentOfListItem=!0,v++);if("enter"===m[0])m[1].contentType&&(Object.assign(I,function(h,m){let _,v;let b=h.get(m)[1],A=h.get(m)[2],C=m-1,S=[],I=b._tokenizer||A.parser[b.contentType](b.start),w=I.events,O=[],L={},M=-1,F=b,B=0,U=0,$=[U];for(;F;){for(;h.get(++C)[1]!==F;);S.push(C),!F._tokenizer&&(_=A.sliceStream(F),F.next||_.push(null),v&&I.defineSkip(F.start),F._isInFirstContentOfListItem&&(I._gfmTasklistFirstContentOfListItem=!0),I.write(_),F._isInFirstContentOfListItem&&(I._gfmTasklistFirstContentOfListItem=void 0)),v=F,F=F.next}for(F=b;++M<w.length;)"exit"===w[M][0]&&"enter"===w[M-1][0]&&w[M][1].type===w[M-1][1].type&&w[M][1].start.line!==w[M][1].end.line&&(U=M+1,$.push(U),F._tokenizer=void 0,F.previous=void 0,F=F.next);for(I.events=[],F?(F._tokenizer=void 0,F.previous=void 0):$.pop(),M=$.length;M--;){let m=w.slice($[M],$[M+1]),_=S.pop();O.push([_,_+m.length-1]),h.splice(_,2,m)}for(O.reverse(),M=-1;++M<O.length;)L[B+O[M][0]]=B+O[M][1],B+=O[M][1]-O[M][0]-1;return L}(O,w)),w=I[w],S=!0);else if(m[1]._container){for(v=w,_=void 0;v--;)if("lineEnding"===(b=O.get(v))[1].type||"lineEndingBlank"===b[1].type)"enter"===b[0]&&(_&&(O.get(_)[1].type="lineEndingBlank"),b[1].type="lineEnding",_=v);else break;_&&(m[1].end=Object.assign({},O.get(_)[1].start),(A=O.slice(_,w)).unshift(m),O.splice(_,w-_+1,A))}}return node_modules_micromark_util_chunked_splice(h,0,Number.POSITIVE_INFINITY,O.slice(0)),!S}let ij={}.hasOwnProperty,iV=remark_parse_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/),iq=remark_parse_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/),iW=remark_parse_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/);function remark_parse_node_modules_micromark_util_character_asciiControl(h){return null!==h&&(h<32||127===h)}let iY=remark_parse_node_modules_micromark_util_character_regexCheck(/\d/),iQ=remark_parse_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),iX=remark_parse_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/);function remark_parse_node_modules_micromark_util_character_markdownLineEnding(h){return null!==h&&h<-2}function remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(h){return null!==h&&(h<0||32===h)}function remark_parse_node_modules_micromark_util_character_markdownSpace(h){return -2===h||-1===h||32===h}let iK=remark_parse_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),iJ=remark_parse_node_modules_micromark_util_character_regexCheck(/\s/);function remark_parse_node_modules_micromark_util_character_regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}function remark_parse_node_modules_micromark_factory_space_factorySpace(h,m,_,v){let b=v?v-1:Number.POSITIVE_INFINITY,A=0;return function(v){return remark_parse_node_modules_micromark_util_character_markdownSpace(v)?(h.enter(_),function prefix(v){return remark_parse_node_modules_micromark_util_character_markdownSpace(v)&&A++<b?(h.consume(v),prefix):(h.exit(_),m(v))}(v)):m(v)}}let iZ={tokenize:function(h){let m;let _=h.attempt(this.parser.constructs.contentInitial,function(m){if(null===m){h.consume(m);return}return h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),remark_parse_node_modules_micromark_factory_space_factorySpace(h,_,"linePrefix")},function(_){return h.enter("paragraph"),function lineStart(_){let v=h.enter("chunkText",{contentType:"text",previous:m});return m&&(m.next=v),m=v,function data(m){if(null===m){h.exit("chunkText"),h.exit("paragraph"),h.consume(m);return}return remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.consume(m),h.exit("chunkText"),lineStart):(h.consume(m),data)}(_)}(_)});return _}},i0={tokenize:function(h){let m,_,v;let b=this,A=[],C=0;return start;function start(m){if(C<A.length){let _=A[C];return b.containerState=_[1],h.attempt(_[0].continuation,documentContinue,checkNewContainers)(m)}return checkNewContainers(m)}function documentContinue(h){if(C++,b.containerState._closeFlow){let _;b.containerState._closeFlow=void 0,m&&closeFlow();let v=b.events.length,A=v;for(;A--;)if("exit"===b.events[A][0]&&"chunkFlow"===b.events[A][1].type){_=b.events[A][1].end;break}exitContainers(C);let S=v;for(;S<b.events.length;)b.events[S][1].end=Object.assign({},_),S++;return node_modules_micromark_util_chunked_splice(b.events,A+1,0,b.events.slice(v)),b.events.length=S,checkNewContainers(h)}return start(h)}function checkNewContainers(_){if(C===A.length){if(!m)return documentContinued(_);if(m.currentConstruct&&m.currentConstruct.concrete)return flowStart(_);b.interrupt=!!(m.currentConstruct&&!m._gfmTableDynamicInterruptHack)}return b.containerState={},h.check(i1,thereIsANewContainer,thereIsNoNewContainer)(_)}function thereIsANewContainer(h){return m&&closeFlow(),exitContainers(C),documentContinued(h)}function thereIsNoNewContainer(h){return b.parser.lazy[b.now().line]=C!==A.length,v=b.now().offset,flowStart(h)}function documentContinued(m){return b.containerState={},h.attempt(i1,containerContinue,flowStart)(m)}function containerContinue(h){return C++,A.push([b.currentConstruct,b.containerState]),documentContinued(h)}function flowStart(v){if(null===v){m&&closeFlow(),exitContainers(0),h.consume(v);return}return m=m||b.parser.flow(b.now()),h.enter("chunkFlow",{contentType:"flow",previous:_,_tokenizer:m}),function flowContinue(m){if(null===m){writeToChild(h.exit("chunkFlow"),!0),exitContainers(0),h.consume(m);return}return remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.consume(m),writeToChild(h.exit("chunkFlow")),C=0,b.interrupt=void 0,start):(h.consume(m),flowContinue)}(v)}function writeToChild(h,A){let S=b.sliceStream(h);if(A&&S.push(null),h.previous=_,_&&(_.next=h),_=h,m.defineSkip(h.start),m.write(S),b.parser.lazy[h.start.line]){let h,_,A=m.events.length;for(;A--;)if(m.events[A][1].start.offset<v&&(!m.events[A][1].end||m.events[A][1].end.offset>v))return;let S=b.events.length,I=S;for(;I--;)if("exit"===b.events[I][0]&&"chunkFlow"===b.events[I][1].type){if(h){_=b.events[I][1].end;break}h=!0}for(exitContainers(C),A=S;A<b.events.length;)b.events[A][1].end=Object.assign({},_),A++;node_modules_micromark_util_chunked_splice(b.events,I+1,0,b.events.slice(S)),b.events.length=A}}function exitContainers(m){let _=A.length;for(;_-- >m;){let m=A[_];b.containerState=m[1],m[0].exit.call(b,h)}A.length=m}function closeFlow(){m.write([null]),_=void 0,m=void 0,b.containerState._closeFlow=void 0}}},i1={tokenize:function(h,m,_){return remark_parse_node_modules_micromark_factory_space_factorySpace(h,h.attempt(this.parser.constructs.document,m,_),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},i2={tokenize:function(h,m,_){return function(m){return remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,after,"linePrefix")(m):after(m)};function after(h){return null===h||remark_parse_node_modules_micromark_util_character_markdownLineEnding(h)?m(h):_(h)}},partial:!0},i3={tokenize:function(h,m){let _;return function(m){return h.enter("content"),_=h.enter("chunkContent",{contentType:"content"}),chunkInside(m)};function chunkInside(m){return null===m?contentEnd(m):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?h.check(i4,contentContinue,contentEnd)(m):(h.consume(m),chunkInside)}function contentEnd(_){return h.exit("chunkContent"),h.exit("content"),m(_)}function contentContinue(m){return h.consume(m),h.exit("chunkContent"),_.next=h.enter("chunkContent",{contentType:"content",previous:_}),_=_.next,chunkInside}},resolve:function(h){return subtokenize(h),h}},i4={tokenize:function(h,m,_){let v=this;return function(m){return h.exit("chunkContent"),h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),remark_parse_node_modules_micromark_factory_space_factorySpace(h,prefixed,"linePrefix")};function prefixed(b){if(null===b||remark_parse_node_modules_micromark_util_character_markdownLineEnding(b))return _(b);let A=v.events[v.events.length-1];return!v.parser.constructs.disable.null.includes("codeIndented")&&A&&"linePrefix"===A[1].type&&A[2].sliceSerialize(A[1],!0).length>=4?m(b):h.interrupt(v.parser.constructs.flow,_,m)(b)}},partial:!0},i5={tokenize:function(h){let m=this,_=h.attempt(i2,function(v){if(null===v){h.consume(v);return}return h.enter("lineEndingBlank"),h.consume(v),h.exit("lineEndingBlank"),m.currentConstruct=void 0,_},h.attempt(this.parser.constructs.flowInitial,afterConstruct,remark_parse_node_modules_micromark_factory_space_factorySpace(h,h.attempt(this.parser.constructs.flow,afterConstruct,h.attempt(i3,afterConstruct)),"linePrefix")));return _;function afterConstruct(v){if(null===v){h.consume(v);return}return h.enter("lineEnding"),h.consume(v),h.exit("lineEnding"),m.currentConstruct=void 0,_}}},i6={resolveAll:createResolver()},i8=initializeFactory("string"),i9=initializeFactory("text");function initializeFactory(h){return{tokenize:function(m){let _=this,v=this.parser.constructs[h],b=m.attempt(v,start,notText);return start;function start(h){return atBreak(h)?b(h):notText(h)}function notText(h){if(null===h){m.consume(h);return}return m.enter("data"),m.consume(h),data}function data(h){return atBreak(h)?(m.exit("data"),b(h)):(m.consume(h),data)}function atBreak(h){if(null===h)return!0;let m=v[h],b=-1;if(m)for(;++b<m.length;){let h=m[b];if(!h.previous||h.previous.call(_,_.previous))return!0}return!1}},resolveAll:createResolver("text"===h?resolveAllLineSuffixes:void 0)}}function createResolver(h){return function(m,_){let v,b=-1;for(;++b<=m.length;)void 0===v?m[b]&&"data"===m[b][1].type&&(v=b,b++):m[b]&&"data"===m[b][1].type||(b!==v+2&&(m[v][1].end=m[b-1][1].end,m.splice(v+2,b-v-2),b=v+2),v=void 0);return h?h(m,_):m}}function resolveAllLineSuffixes(h,m){let _=0;for(;++_<=h.length;)if((_===h.length||"lineEnding"===h[_][1].type)&&"data"===h[_-1][1].type){let v;let b=h[_-1][1],A=m.sliceStream(b),C=A.length,S=-1,I=0;for(;C--;){let h=A[C];if("string"==typeof h){for(S=h.length;32===h.charCodeAt(S-1);)I++,S--;if(S)break;S=-1}else if(-2===h)v=!0,I++;else if(-1===h);else{C++;break}}if(I){let A={type:_===h.length||v||I<2?"lineSuffix":"hardBreakTrailing",start:{line:b.end.line,column:b.end.column-I,offset:b.end.offset-I,_index:b.start._index+C,_bufferIndex:C?S:b.start._bufferIndex+S},end:Object.assign({},b.end)};b.end=Object.assign({},A.start),b.start.offset===b.end.offset?Object.assign(b,A):(h.splice(_,0,["enter",A,m],["exit",A,m]),_+=2)}_++}return h}function micromark_util_resolve_all_resolveAll(h,m,_){let v=[],b=-1;for(;++b<h.length;){let A=h[b].resolveAll;A&&!v.includes(A)&&(m=A(m,_),v.push(A))}return m}let i7={name:"thematicBreak",tokenize:function(h,m,_){let v,b=0;return function(A){return h.enter("thematicBreak"),v=A,function atBreak(A){return A===v?(h.enter("thematicBreakSequence"),function sequence(m){return m===v?(h.consume(m),b++,sequence):(h.exit("thematicBreakSequence"),remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,atBreak,"whitespace")(m):atBreak(m))}(A)):b>=3&&(null===A||remark_parse_node_modules_micromark_util_character_markdownLineEnding(A))?(h.exit("thematicBreak"),m(A)):_(A)}(A)}}},at={name:"list",tokenize:function(h,m,_){let v=this,b=v.events[v.events.length-1],A=b&&"linePrefix"===b[1].type?b[2].sliceSerialize(b[1],!0).length:0,C=0;return function(m){let b=v.containerState.type||(42===m||43===m||45===m?"listUnordered":"listOrdered");if("listUnordered"===b?!v.containerState.marker||m===v.containerState.marker:iY(m)){if(v.containerState.type||(v.containerState.type=b,h.enter(b,{_container:!0})),"listUnordered"===b)return h.enter("listItemPrefix"),42===m||45===m?h.check(i7,_,atMarker)(m):atMarker(m);if(!v.interrupt||49===m)return h.enter("listItemPrefix"),h.enter("listItemValue"),function inside(m){return iY(m)&&++C<10?(h.consume(m),inside):(!v.interrupt||C<2)&&(v.containerState.marker?m===v.containerState.marker:41===m||46===m)?(h.exit("listItemValue"),atMarker(m)):_(m)}(m)}return _(m)};function atMarker(m){return h.enter("listItemMarker"),h.consume(m),h.exit("listItemMarker"),v.containerState.marker=v.containerState.marker||m,h.check(i2,v.interrupt?_:onBlank,h.attempt(an,endOfPrefix,otherPrefix))}function onBlank(h){return v.containerState.initialBlankLine=!0,A++,endOfPrefix(h)}function otherPrefix(m){return remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.enter("listItemPrefixWhitespace"),h.consume(m),h.exit("listItemPrefixWhitespace"),endOfPrefix):_(m)}function endOfPrefix(_){return v.containerState.size=A+v.sliceSerialize(h.exit("listItemPrefix"),!0).length,m(_)}},continuation:{tokenize:function(h,m,_){let v=this;return v.containerState._closeFlow=void 0,h.check(i2,function(_){return v.containerState.furtherBlankLines=v.containerState.furtherBlankLines||v.containerState.initialBlankLine,remark_parse_node_modules_micromark_factory_space_factorySpace(h,m,"listItemIndent",v.containerState.size+1)(_)},function(_){return v.containerState.furtherBlankLines||!remark_parse_node_modules_micromark_util_character_markdownSpace(_)?(v.containerState.furtherBlankLines=void 0,v.containerState.initialBlankLine=void 0,notInCurrentItem(_)):(v.containerState.furtherBlankLines=void 0,v.containerState.initialBlankLine=void 0,h.attempt(ar,m,notInCurrentItem)(_))});function notInCurrentItem(b){return v.containerState._closeFlow=!0,v.interrupt=void 0,remark_parse_node_modules_micromark_factory_space_factorySpace(h,h.attempt(at,m,_),"linePrefix",v.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b)}}},exit:function(h){h.exit(this.containerState.type)}},an={tokenize:function(h,m,_){let v=this;return remark_parse_node_modules_micromark_factory_space_factorySpace(h,function(h){let b=v.events[v.events.length-1];return!remark_parse_node_modules_micromark_util_character_markdownSpace(h)&&b&&"listItemPrefixWhitespace"===b[1].type?m(h):_(h)},"listItemPrefixWhitespace",v.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},ar={tokenize:function(h,m,_){let v=this;return remark_parse_node_modules_micromark_factory_space_factorySpace(h,function(h){let b=v.events[v.events.length-1];return b&&"listItemIndent"===b[1].type&&b[2].sliceSerialize(b[1],!0).length===v.containerState.size?m(h):_(h)},"listItemIndent",v.containerState.size+1)},partial:!0},ai={name:"blockQuote",tokenize:function(h,m,_){let v=this;return function(m){if(62===m){let _=v.containerState;return _.open||(h.enter("blockQuote",{_container:!0}),_.open=!0),h.enter("blockQuotePrefix"),h.enter("blockQuoteMarker"),h.consume(m),h.exit("blockQuoteMarker"),after}return _(m)};function after(_){return remark_parse_node_modules_micromark_util_character_markdownSpace(_)?(h.enter("blockQuotePrefixWhitespace"),h.consume(_),h.exit("blockQuotePrefixWhitespace"),h.exit("blockQuotePrefix"),m):(h.exit("blockQuotePrefix"),m(_))}},continuation:{tokenize:function(h,m,_){let v=this;return function(m){return remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,contBefore,"linePrefix",v.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):contBefore(m)};function contBefore(v){return h.attempt(ai,m,_)(v)}}},exit:function(h){h.exit("blockQuote")}};function factoryDestination(h,m,_,v,b,A,C,S,I){let w=I||Number.POSITIVE_INFINITY,O=0;return function(m){return 60===m?(h.enter(v),h.enter(b),h.enter(A),h.consume(m),h.exit(A),enclosedBefore):null===m||32===m||41===m||remark_parse_node_modules_micromark_util_character_asciiControl(m)?_(m):(h.enter(v),h.enter(C),h.enter(S),h.enter("chunkString",{contentType:"string"}),raw(m))};function enclosedBefore(_){return 62===_?(h.enter(A),h.consume(_),h.exit(A),h.exit(b),h.exit(v),m):(h.enter(S),h.enter("chunkString",{contentType:"string"}),enclosed(_))}function enclosed(m){return 62===m?(h.exit("chunkString"),h.exit(S),enclosedBefore(m)):null===m||60===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?_(m):(h.consume(m),92===m?enclosedEscape:enclosed)}function enclosedEscape(m){return 60===m||62===m||92===m?(h.consume(m),enclosed):enclosed(m)}function raw(b){return!O&&(null===b||41===b||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(b))?(h.exit("chunkString"),h.exit(S),h.exit(C),h.exit(v),m(b)):O<w&&40===b?(h.consume(b),O++,raw):41===b?(h.consume(b),O--,raw):null===b||32===b||40===b||remark_parse_node_modules_micromark_util_character_asciiControl(b)?_(b):(h.consume(b),92===b?rawEscape:raw)}function rawEscape(m){return 40===m||41===m||92===m?(h.consume(m),raw):raw(m)}}function factoryLabel(h,m,_,v,b,A){let C;let S=this,I=0;return function(m){return h.enter(v),h.enter(b),h.consume(m),h.exit(b),h.enter(A),atBreak};function atBreak(w){return I>999||null===w||91===w||93===w&&!C||94===w&&!I&&"_hiddenFootnoteSupport"in S.parser.constructs?_(w):93===w?(h.exit(A),h.enter(b),h.consume(w),h.exit(b),h.exit(v),m):remark_parse_node_modules_micromark_util_character_markdownLineEnding(w)?(h.enter("lineEnding"),h.consume(w),h.exit("lineEnding"),atBreak):(h.enter("chunkString",{contentType:"string"}),labelInside(w))}function labelInside(m){return null===m||91===m||93===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)||I++>999?(h.exit("chunkString"),atBreak(m)):(h.consume(m),C||(C=!remark_parse_node_modules_micromark_util_character_markdownSpace(m)),92===m?labelEscape:labelInside)}function labelEscape(m){return 91===m||92===m||93===m?(h.consume(m),I++,labelInside):labelInside(m)}}function factoryTitle(h,m,_,v,b,A){let C;return function(m){return 34===m||39===m||40===m?(h.enter(v),h.enter(b),h.consume(m),h.exit(b),C=40===m?41:m,begin):_(m)};function begin(_){return _===C?(h.enter(b),h.consume(_),h.exit(b),h.exit(v),m):(h.enter(A),atBreak(_))}function atBreak(m){return m===C?(h.exit(A),begin(C)):null===m?_(m):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),remark_parse_node_modules_micromark_factory_space_factorySpace(h,atBreak,"linePrefix")):(h.enter("chunkString",{contentType:"string"}),inside(m))}function inside(m){return m===C||null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("chunkString"),atBreak(m)):(h.consume(m),92===m?escape:inside)}function escape(m){return m===C||92===m?(h.consume(m),inside):inside(m)}}function factoryWhitespace(h,m){let _;return function start(v){return remark_parse_node_modules_micromark_util_character_markdownLineEnding(v)?(h.enter("lineEnding"),h.consume(v),h.exit("lineEnding"),_=!0,start):remark_parse_node_modules_micromark_util_character_markdownSpace(v)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,start,_?"linePrefix":"lineSuffix")(v):m(v)}}function node_modules_micromark_util_normalize_identifier_normalizeIdentifier(h){return h.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let aa={tokenize:function(h,m,_){return function(m){return remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?factoryWhitespace(h,beforeMarker)(m):_(m)};function beforeMarker(m){return factoryTitle(h,titleAfter,_,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function titleAfter(m){return remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,titleAfterOptionalWhitespace,"whitespace")(m):titleAfterOptionalWhitespace(m)}function titleAfterOptionalWhitespace(h){return null===h||remark_parse_node_modules_micromark_util_character_markdownLineEnding(h)?m(h):_(h)}},partial:!0},al={name:"codeIndented",tokenize:function(h,m,_){let v=this;return function(m){return h.enter("codeIndented"),remark_parse_node_modules_micromark_factory_space_factorySpace(h,afterPrefix,"linePrefix",5)(m)};function afterPrefix(m){let b=v.events[v.events.length-1];return b&&"linePrefix"===b[1].type&&b[2].sliceSerialize(b[1],!0).length>=4?function atBreak(m){return null===m?after(m):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?h.attempt(ac,atBreak,after)(m):(h.enter("codeFlowValue"),function inside(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("codeFlowValue"),atBreak(m)):(h.consume(m),inside)}(m))}(m):_(m)}function after(_){return h.exit("codeIndented"),m(_)}}},ac={tokenize:function(h,m,_){let v=this;return furtherStart;function furtherStart(m){return v.parser.lazy[v.now().line]?_(m):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),furtherStart):remark_parse_node_modules_micromark_factory_space_factorySpace(h,afterPrefix,"linePrefix",5)(m)}function afterPrefix(h){let b=v.events[v.events.length-1];return b&&"linePrefix"===b[1].type&&b[2].sliceSerialize(b[1],!0).length>=4?m(h):remark_parse_node_modules_micromark_util_character_markdownLineEnding(h)?furtherStart(h):_(h)}},partial:!0},au={name:"setextUnderline",tokenize:function(h,m,_){let v;let b=this;return function(m){let A,C=b.events.length;for(;C--;)if("lineEnding"!==b.events[C][1].type&&"linePrefix"!==b.events[C][1].type&&"content"!==b.events[C][1].type){A="paragraph"===b.events[C][1].type;break}return!b.parser.lazy[b.now().line]&&(b.interrupt||A)?(h.enter("setextHeadingLine"),v=m,h.enter("setextHeadingLineSequence"),function inside(m){return m===v?(h.consume(m),inside):(h.exit("setextHeadingLineSequence"),remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,after,"lineSuffix")(m):after(m))}(m)):_(m)};function after(v){return null===v||remark_parse_node_modules_micromark_util_character_markdownLineEnding(v)?(h.exit("setextHeadingLine"),m(v)):_(v)}},resolveTo:function(h,m){let _,v,b,A=h.length;for(;A--;)if("enter"===h[A][0]){if("content"===h[A][1].type){_=A;break}"paragraph"===h[A][1].type&&(v=A)}else"content"===h[A][1].type&&h.splice(A,1),b||"definition"!==h[A][1].type||(b=A);let C={type:"setextHeading",start:Object.assign({},h[v][1].start),end:Object.assign({},h[h.length-1][1].end)};return h[v][1].type="setextHeadingText",b?(h.splice(v,0,["enter",C,m]),h.splice(b+1,0,["exit",h[_][1],m]),h[_][1].end=Object.assign({},h[b][1].end)):h[_][1]=C,h.push(["exit",C,m]),h}},ad=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ah=["pre","script","style","textarea"],ap={tokenize:function(h,m,_){return function(v){return h.enter("lineEnding"),h.consume(v),h.exit("lineEnding"),h.attempt(i2,m,_)}},partial:!0},am={tokenize:function(h,m,_){let v=this;return function(m){return remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),after):_(m)};function after(h){return v.parser.lazy[v.now().line]?_(h):m(h)}},partial:!0},af={tokenize:function(h,m,_){let v=this;return function(m){return null===m?_(m):(h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),lineStart)};function lineStart(h){return v.parser.lazy[v.now().line]?_(h):m(h)}},partial:!0},ag={name:"codeFenced",tokenize:function(h,m,_){let v;let b=this,A={tokenize:function(h,m,_){let A=0;return function(m){return h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),start};function start(m){return h.enter("codeFencedFence"),remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,beforeSequenceClose,"linePrefix",b.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):beforeSequenceClose(m)}function beforeSequenceClose(m){return m===v?(h.enter("codeFencedFenceSequence"),function sequenceClose(m){return m===v?(A++,h.consume(m),sequenceClose):A>=S?(h.exit("codeFencedFenceSequence"),remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,sequenceCloseAfter,"whitespace")(m):sequenceCloseAfter(m)):_(m)}(m)):_(m)}function sequenceCloseAfter(v){return null===v||remark_parse_node_modules_micromark_util_character_markdownLineEnding(v)?(h.exit("codeFencedFence"),m(v)):_(v)}},partial:!0},C=0,S=0;return function(m){return function(m){let A=b.events[b.events.length-1];return C=A&&"linePrefix"===A[1].type?A[2].sliceSerialize(A[1],!0).length:0,v=m,h.enter("codeFenced"),h.enter("codeFencedFence"),h.enter("codeFencedFenceSequence"),function sequenceOpen(m){return m===v?(S++,h.consume(m),sequenceOpen):S<3?_(m):(h.exit("codeFencedFenceSequence"),remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,infoBefore,"whitespace")(m):infoBefore(m))}(m)}(m)};function infoBefore(A){return null===A||remark_parse_node_modules_micromark_util_character_markdownLineEnding(A)?(h.exit("codeFencedFence"),b.interrupt?m(A):h.check(af,atNonLazyBreak,after)(A)):(h.enter("codeFencedFenceInfo"),h.enter("chunkString",{contentType:"string"}),function info(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("chunkString"),h.exit("codeFencedFenceInfo"),infoBefore(m)):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.exit("chunkString"),h.exit("codeFencedFenceInfo"),remark_parse_node_modules_micromark_factory_space_factorySpace(h,metaBefore,"whitespace")(m)):96===m&&m===v?_(m):(h.consume(m),info)}(A))}function metaBefore(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?infoBefore(m):(h.enter("codeFencedFenceMeta"),h.enter("chunkString",{contentType:"string"}),function meta(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("chunkString"),h.exit("codeFencedFenceMeta"),infoBefore(m)):96===m&&m===v?_(m):(h.consume(m),meta)}(m))}function atNonLazyBreak(m){return h.attempt(A,after,contentBefore)(m)}function contentBefore(m){return h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),contentStart}function contentStart(m){return C>0&&remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,beforeContentChunk,"linePrefix",C+1)(m):beforeContentChunk(m)}function beforeContentChunk(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?h.check(af,atNonLazyBreak,after)(m):(h.enter("codeFlowValue"),function contentChunk(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("codeFlowValue"),beforeContentChunk(m)):(h.consume(m),contentChunk)}(m))}function after(_){return h.exit("codeFenced"),m(_)}},concrete:!0},a_=document.createElement("i");function decodeNamedCharacterReference(h){let m="&"+h+";";a_.innerHTML=m;let _=a_.textContent;return(59!==_.charCodeAt(_.length-1)||"semi"===h)&&_!==m&&_}let aE={name:"characterReference",tokenize:function(h,m,_){let v,b;let A=this,C=0;return function(m){return h.enter("characterReference"),h.enter("characterReferenceMarker"),h.consume(m),h.exit("characterReferenceMarker"),open};function open(m){return 35===m?(h.enter("characterReferenceMarkerNumeric"),h.consume(m),h.exit("characterReferenceMarkerNumeric"),numeric):(h.enter("characterReferenceValue"),v=31,b=iq,value(m))}function numeric(m){return 88===m||120===m?(h.enter("characterReferenceMarkerHexadecimal"),h.consume(m),h.exit("characterReferenceMarkerHexadecimal"),h.enter("characterReferenceValue"),v=6,b=iQ,value):(h.enter("characterReferenceValue"),v=7,b=iY,value(m))}function value(S){if(59===S&&C){let v=h.exit("characterReferenceValue");return b!==iq||decodeNamedCharacterReference(A.sliceSerialize(v))?(h.enter("characterReferenceMarker"),h.consume(S),h.exit("characterReferenceMarker"),h.exit("characterReference"),m):_(S)}return b(S)&&C++<v?(h.consume(S),value):_(S)}}},av={name:"characterEscape",tokenize:function(h,m,_){return function(m){return h.enter("characterEscape"),h.enter("escapeMarker"),h.consume(m),h.exit("escapeMarker"),inside};function inside(v){return iX(v)?(h.enter("characterEscapeValue"),h.consume(v),h.exit("characterEscapeValue"),h.exit("characterEscape"),m):_(v)}}},aT={name:"lineEnding",tokenize:function(h,m){return function(_){return h.enter("lineEnding"),h.consume(_),h.exit("lineEnding"),remark_parse_node_modules_micromark_factory_space_factorySpace(h,m,"linePrefix")}}},ay={name:"labelEnd",tokenize:function(h,m,_){let v,b;let A=this,C=A.events.length;for(;C--;)if(("labelImage"===A.events[C][1].type||"labelLink"===A.events[C][1].type)&&!A.events[C][1]._balanced){v=A.events[C][1];break}return function(m){return v?v._inactive?labelEndNok(m):(b=A.parser.defined.includes(node_modules_micromark_util_normalize_identifier_normalizeIdentifier(A.sliceSerialize({start:v.end,end:A.now()}))),h.enter("labelEnd"),h.enter("labelMarker"),h.consume(m),h.exit("labelMarker"),h.exit("labelEnd"),after):_(m)};function after(m){return 40===m?h.attempt(ab,labelEndOk,b?labelEndOk:labelEndNok)(m):91===m?h.attempt(ak,labelEndOk,b?referenceNotFull:labelEndNok)(m):b?labelEndOk(m):labelEndNok(m)}function referenceNotFull(m){return h.attempt(aA,labelEndOk,labelEndNok)(m)}function labelEndOk(h){return m(h)}function labelEndNok(h){return v._balanced=!0,_(h)}},resolveTo:function(h,m){let _,v,b,A,C=h.length,S=0;for(;C--;)if(_=h[C][1],v){if("link"===_.type||"labelLink"===_.type&&_._inactive)break;"enter"===h[C][0]&&"labelLink"===_.type&&(_._inactive=!0)}else if(b){if("enter"===h[C][0]&&("labelImage"===_.type||"labelLink"===_.type)&&!_._balanced&&(v=C,"labelLink"!==_.type)){S=2;break}}else"labelEnd"===_.type&&(b=C);let I={type:"labelLink"===h[v][1].type?"link":"image",start:Object.assign({},h[v][1].start),end:Object.assign({},h[h.length-1][1].end)},w={type:"label",start:Object.assign({},h[v][1].start),end:Object.assign({},h[b][1].end)},O={type:"labelText",start:Object.assign({},h[v+S+2][1].end),end:Object.assign({},h[b-2][1].start)};return A=node_modules_micromark_util_chunked_push(A=[["enter",I,m],["enter",w,m]],h.slice(v+1,v+S+3)),A=node_modules_micromark_util_chunked_push(A,[["enter",O,m]]),A=node_modules_micromark_util_chunked_push(A,micromark_util_resolve_all_resolveAll(m.parser.constructs.insideSpan.null,h.slice(v+S+4,b-3),m)),A=node_modules_micromark_util_chunked_push(A,[["exit",O,m],h[b-2],h[b-1],["exit",w,m]]),A=node_modules_micromark_util_chunked_push(A,h.slice(b+1)),A=node_modules_micromark_util_chunked_push(A,[["exit",I,m]]),node_modules_micromark_util_chunked_splice(h,v,h.length,A),h},resolveAll:function(h){let m=-1;for(;++m<h.length;){let _=h[m][1];("labelImage"===_.type||"labelLink"===_.type||"labelEnd"===_.type)&&(h.splice(m+1,"labelImage"===_.type?4:2),_.type="data",m++)}return h}},ab={tokenize:function(h,m,_){return function(m){return h.enter("resource"),h.enter("resourceMarker"),h.consume(m),h.exit("resourceMarker"),resourceBefore};function resourceBefore(m){return remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?factoryWhitespace(h,resourceOpen)(m):resourceOpen(m)}function resourceOpen(m){return 41===m?resourceEnd(m):factoryDestination(h,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function resourceDestinationAfter(m){return remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?factoryWhitespace(h,resourceBetween)(m):resourceEnd(m)}function resourceDestinationMissing(h){return _(h)}function resourceBetween(m){return 34===m||39===m||40===m?factoryTitle(h,resourceTitleAfter,_,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):resourceEnd(m)}function resourceTitleAfter(m){return remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?factoryWhitespace(h,resourceEnd)(m):resourceEnd(m)}function resourceEnd(v){return 41===v?(h.enter("resourceMarker"),h.consume(v),h.exit("resourceMarker"),h.exit("resource"),m):_(v)}}},ak={tokenize:function(h,m,_){let v=this;return function(m){return factoryLabel.call(v,h,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(m)};function referenceFullAfter(h){return v.parser.defined.includes(node_modules_micromark_util_normalize_identifier_normalizeIdentifier(v.sliceSerialize(v.events[v.events.length-1][1]).slice(1,-1)))?m(h):_(h)}function referenceFullMissing(h){return _(h)}}},aA={tokenize:function(h,m,_){return function(m){return h.enter("reference"),h.enter("referenceMarker"),h.consume(m),h.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(v){return 93===v?(h.enter("referenceMarker"),h.consume(v),h.exit("referenceMarker"),h.exit("reference"),m):_(v)}}},ax={name:"labelStartImage",tokenize:function(h,m,_){let v=this;return function(m){return h.enter("labelImage"),h.enter("labelImageMarker"),h.consume(m),h.exit("labelImageMarker"),open};function open(m){return 91===m?(h.enter("labelMarker"),h.consume(m),h.exit("labelMarker"),h.exit("labelImage"),after):_(m)}function after(h){return 94===h&&"_hiddenFootnoteSupport"in v.parser.constructs?_(h):m(h)}},resolveAll:ay.resolveAll};function micromark_util_classify_character_classifyCharacter(h){return null===h||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(h)||iJ(h)?1:iK(h)?2:void 0}let aC={name:"attention",tokenize:function(h,m){let _;let v=this.parser.constructs.attentionMarkers.null,b=this.previous,A=micromark_util_classify_character_classifyCharacter(b);return function(C){return _=C,h.enter("attentionSequence"),function inside(C){if(C===_)return h.consume(C),inside;let S=h.exit("attentionSequence"),I=micromark_util_classify_character_classifyCharacter(C),w=!I||2===I&&A||v.includes(C),O=!A||2===A&&I||v.includes(b);return S._open=!!(42===_?w:w&&(A||!O)),S._close=!!(42===_?O:O&&(I||!w)),m(C)}(C)}},resolveAll:function(h,m){let _,v,b,A,C,S,I,w,O=-1;for(;++O<h.length;)if("enter"===h[O][0]&&"attentionSequence"===h[O][1].type&&h[O][1]._close){for(_=O;_--;)if("exit"===h[_][0]&&"attentionSequence"===h[_][1].type&&h[_][1]._open&&m.sliceSerialize(h[_][1]).charCodeAt(0)===m.sliceSerialize(h[O][1]).charCodeAt(0)){if((h[_][1]._close||h[O][1]._open)&&(h[O][1].end.offset-h[O][1].start.offset)%3&&!((h[_][1].end.offset-h[_][1].start.offset+h[O][1].end.offset-h[O][1].start.offset)%3))continue;S=h[_][1].end.offset-h[_][1].start.offset>1&&h[O][1].end.offset-h[O][1].start.offset>1?2:1;let L=Object.assign({},h[_][1].end),M=Object.assign({},h[O][1].start);movePoint(L,-S),movePoint(M,S),A={type:S>1?"strongSequence":"emphasisSequence",start:L,end:Object.assign({},h[_][1].end)},C={type:S>1?"strongSequence":"emphasisSequence",start:Object.assign({},h[O][1].start),end:M},b={type:S>1?"strongText":"emphasisText",start:Object.assign({},h[_][1].end),end:Object.assign({},h[O][1].start)},v={type:S>1?"strong":"emphasis",start:Object.assign({},A.start),end:Object.assign({},C.end)},h[_][1].end=Object.assign({},A.start),h[O][1].start=Object.assign({},C.end),I=[],h[_][1].end.offset-h[_][1].start.offset&&(I=node_modules_micromark_util_chunked_push(I,[["enter",h[_][1],m],["exit",h[_][1],m]])),I=node_modules_micromark_util_chunked_push(I,[["enter",v,m],["enter",A,m],["exit",A,m],["enter",b,m]]),I=node_modules_micromark_util_chunked_push(I,micromark_util_resolve_all_resolveAll(m.parser.constructs.insideSpan.null,h.slice(_+1,O),m)),I=node_modules_micromark_util_chunked_push(I,[["exit",b,m],["enter",C,m],["exit",C,m],["exit",v,m]]),h[O][1].end.offset-h[O][1].start.offset?(w=2,I=node_modules_micromark_util_chunked_push(I,[["enter",h[O][1],m],["exit",h[O][1],m]])):w=0,node_modules_micromark_util_chunked_splice(h,_-1,O-_+3,I),O=_+I.length-w-2;break}}for(O=-1;++O<h.length;)"attentionSequence"===h[O][1].type&&(h[O][1].type="data");return h}};function movePoint(h,m){h.column+=m,h.offset+=m,h._bufferIndex+=m}let aS={name:"labelStartLink",tokenize:function(h,m,_){let v=this;return function(m){return h.enter("labelLink"),h.enter("labelMarker"),h.consume(m),h.exit("labelMarker"),h.exit("labelLink"),after};function after(h){return 94===h&&"_hiddenFootnoteSupport"in v.parser.constructs?_(h):m(h)}},resolveAll:ay.resolveAll},aI={42:at,43:at,45:at,48:at,49:at,50:at,51:at,52:at,53:at,54:at,55:at,56:at,57:at,62:ai},aw={91:{name:"definition",tokenize:function(h,m,_){let v;let b=this;return function(m){return h.enter("definition"),factoryLabel.call(b,h,labelAfter,_,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)};function labelAfter(m){return(v=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(b.sliceSerialize(b.events[b.events.length-1][1]).slice(1,-1)),58===m)?(h.enter("definitionMarker"),h.consume(m),h.exit("definitionMarker"),markerAfter):_(m)}function markerAfter(m){return remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?factoryWhitespace(h,destinationBefore)(m):destinationBefore(m)}function destinationBefore(m){return factoryDestination(h,destinationAfter,_,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function destinationAfter(m){return h.attempt(aa,after,after)(m)}function after(m){return remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,afterWhitespace,"whitespace")(m):afterWhitespace(m)}function afterWhitespace(A){return null===A||remark_parse_node_modules_micromark_util_character_markdownLineEnding(A)?(h.exit("definition"),b.parser.defined.push(v),m(A)):_(A)}}}},aN={[-2]:al,[-1]:al,32:al},aO={35:{name:"headingAtx",tokenize:function(h,m,_){let v=0;return function(b){return h.enter("atxHeading"),h.enter("atxHeadingSequence"),function sequenceOpen(b){return 35===b&&v++<6?(h.consume(b),sequenceOpen):null===b||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(b)?(h.exit("atxHeadingSequence"),function atBreak(_){return 35===_?(h.enter("atxHeadingSequence"),function sequenceFurther(m){return 35===m?(h.consume(m),sequenceFurther):(h.exit("atxHeadingSequence"),atBreak(m))}(_)):null===_||remark_parse_node_modules_micromark_util_character_markdownLineEnding(_)?(h.exit("atxHeading"),m(_)):remark_parse_node_modules_micromark_util_character_markdownSpace(_)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,atBreak,"whitespace")(_):(h.enter("atxHeadingText"),function data(m){return null===m||35===m||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?(h.exit("atxHeadingText"),atBreak(m)):(h.consume(m),data)}(_))}(b)):_(b)}(b)}},resolve:function(h,m){let _,v,b=h.length-2,A=3;return"whitespace"===h[3][1].type&&(A+=2),b-2>A&&"whitespace"===h[b][1].type&&(b-=2),"atxHeadingSequence"===h[b][1].type&&(A===b-1||b-4>A&&"whitespace"===h[b-2][1].type)&&(b-=A+1===b?2:4),b>A&&(_={type:"atxHeadingText",start:h[A][1].start,end:h[b][1].end},v={type:"chunkText",start:h[A][1].start,end:h[b][1].end,contentType:"text"},node_modules_micromark_util_chunked_splice(h,A,b-A+1,[["enter",_,m],["enter",v,m],["exit",v,m],["exit",_,m]])),h}},42:i7,45:[au,i7],60:{name:"htmlFlow",tokenize:function(h,m,_){let v,b,A,C,S;let I=this;return function(m){return h.enter("htmlFlow"),h.enter("htmlFlowData"),h.consume(m),open};function open(C){return 33===C?(h.consume(C),declarationOpen):47===C?(h.consume(C),b=!0,tagCloseStart):63===C?(h.consume(C),v=3,I.interrupt?m:continuationDeclarationInside):iV(C)?(h.consume(C),A=String.fromCharCode(C),tagName):_(C)}function declarationOpen(b){return 45===b?(h.consume(b),v=2,commentOpenInside):91===b?(h.consume(b),v=5,C=0,cdataOpenInside):iV(b)?(h.consume(b),v=4,I.interrupt?m:continuationDeclarationInside):_(b)}function commentOpenInside(v){return 45===v?(h.consume(v),I.interrupt?m:continuationDeclarationInside):_(v)}function cdataOpenInside(v){let b="CDATA[";return v===b.charCodeAt(C++)?(h.consume(v),C===b.length)?I.interrupt?m:continuation:cdataOpenInside:_(v)}function tagCloseStart(m){return iV(m)?(h.consume(m),A=String.fromCharCode(m),tagName):_(m)}function tagName(C){if(null===C||47===C||62===C||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(C)){let S=47===C,w=A.toLowerCase();return!S&&!b&&ah.includes(w)?(v=1,I.interrupt?m(C):continuation(C)):ad.includes(A.toLowerCase())?(v=6,S)?(h.consume(C),basicSelfClosing):I.interrupt?m(C):continuation(C):(v=7,I.interrupt&&!I.parser.lazy[I.now().line]?_(C):b?function completeClosingTagAfter(m){return remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),completeClosingTagAfter):completeEnd(m)}(C):completeAttributeNameBefore(C))}return 45===C||iq(C)?(h.consume(C),A+=String.fromCharCode(C),tagName):_(C)}function basicSelfClosing(v){return 62===v?(h.consume(v),I.interrupt?m:continuation):_(v)}function completeAttributeNameBefore(m){return 47===m?(h.consume(m),completeEnd):58===m||95===m||iV(m)?(h.consume(m),completeAttributeName):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),completeAttributeNameBefore):completeEnd(m)}function completeAttributeName(m){return 45===m||46===m||58===m||95===m||iq(m)?(h.consume(m),completeAttributeName):completeAttributeNameAfter(m)}function completeAttributeNameAfter(m){return 61===m?(h.consume(m),completeAttributeValueBefore):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),completeAttributeNameAfter):completeAttributeNameBefore(m)}function completeAttributeValueBefore(m){return null===m||60===m||61===m||62===m||96===m?_(m):34===m||39===m?(h.consume(m),S=m,completeAttributeValueQuoted):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),completeAttributeValueBefore):function completeAttributeValueUnquoted(m){return null===m||34===m||39===m||47===m||60===m||61===m||62===m||96===m||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?completeAttributeNameAfter(m):(h.consume(m),completeAttributeValueUnquoted)}(m)}function completeAttributeValueQuoted(m){return m===S?(h.consume(m),S=null,completeAttributeValueQuotedAfter):null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?_(m):(h.consume(m),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(h){return 47===h||62===h||remark_parse_node_modules_micromark_util_character_markdownSpace(h)?completeAttributeNameBefore(h):_(h)}function completeEnd(m){return 62===m?(h.consume(m),completeAfter):_(m)}function completeAfter(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?continuation(m):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),completeAfter):_(m)}function continuation(m){return 45===m&&2===v?(h.consume(m),continuationCommentInside):60===m&&1===v?(h.consume(m),continuationRawTagOpen):62===m&&4===v?(h.consume(m),continuationClose):63===m&&3===v?(h.consume(m),continuationDeclarationInside):93===m&&5===v?(h.consume(m),continuationCdataInside):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)&&(6===v||7===v)?(h.exit("htmlFlowData"),h.check(ap,continuationAfter,continuationStart)(m)):null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("htmlFlowData"),continuationStart(m)):(h.consume(m),continuation)}function continuationStart(m){return h.check(am,continuationStartNonLazy,continuationAfter)(m)}function continuationStartNonLazy(m){return h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),continuationBefore}function continuationBefore(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?continuationStart(m):(h.enter("htmlFlowData"),continuation(m))}function continuationCommentInside(m){return 45===m?(h.consume(m),continuationDeclarationInside):continuation(m)}function continuationRawTagOpen(m){return 47===m?(h.consume(m),A="",continuationRawEndTag):continuation(m)}function continuationRawEndTag(m){if(62===m){let _=A.toLowerCase();return ah.includes(_)?(h.consume(m),continuationClose):continuation(m)}return iV(m)&&A.length<8?(h.consume(m),A+=String.fromCharCode(m),continuationRawEndTag):continuation(m)}function continuationCdataInside(m){return 93===m?(h.consume(m),continuationDeclarationInside):continuation(m)}function continuationDeclarationInside(m){return 62===m?(h.consume(m),continuationClose):45===m&&2===v?(h.consume(m),continuationDeclarationInside):continuation(m)}function continuationClose(m){return null===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("htmlFlowData"),continuationAfter(m)):(h.consume(m),continuationClose)}function continuationAfter(_){return h.exit("htmlFlow"),m(_)}},resolveTo:function(h){let m=h.length;for(;m--&&("enter"!==h[m][0]||"htmlFlow"!==h[m][1].type););return m>1&&"linePrefix"===h[m-2][1].type&&(h[m][1].start=h[m-2][1].start,h[m+1][1].start=h[m-2][1].start,h.splice(m-2,2)),h},concrete:!0},61:au,95:i7,96:ag,126:ag},aR={38:aE,92:av},aL={[-5]:aT,[-4]:aT,[-3]:aT,33:ax,38:aE,42:aC,60:[{name:"autolink",tokenize:function(h,m,_){let v=0;return function(m){return h.enter("autolink"),h.enter("autolinkMarker"),h.consume(m),h.exit("autolinkMarker"),h.enter("autolinkProtocol"),open};function open(m){return iV(m)?(h.consume(m),schemeOrEmailAtext):64===m?_(m):emailAtext(m)}function schemeOrEmailAtext(m){return 43===m||45===m||46===m||iq(m)?(v=1,function schemeInsideOrEmailAtext(m){return 58===m?(h.consume(m),v=0,urlInside):(43===m||45===m||46===m||iq(m))&&v++<32?(h.consume(m),schemeInsideOrEmailAtext):(v=0,emailAtext(m))}(m)):emailAtext(m)}function urlInside(v){return 62===v?(h.exit("autolinkProtocol"),h.enter("autolinkMarker"),h.consume(v),h.exit("autolinkMarker"),h.exit("autolink"),m):null===v||32===v||60===v||remark_parse_node_modules_micromark_util_character_asciiControl(v)?_(v):(h.consume(v),urlInside)}function emailAtext(m){return 64===m?(h.consume(m),emailAtSignOrDot):iW(m)?(h.consume(m),emailAtext):_(m)}function emailAtSignOrDot(b){return iq(b)?function emailLabel(b){return 46===b?(h.consume(b),v=0,emailAtSignOrDot):62===b?(h.exit("autolinkProtocol").type="autolinkEmail",h.enter("autolinkMarker"),h.consume(b),h.exit("autolinkMarker"),h.exit("autolink"),m):function emailValue(m){if((45===m||iq(m))&&v++<63){let _=45===m?emailValue:emailLabel;return h.consume(m),_}return _(m)}(b)}(b):_(b)}}},{name:"htmlText",tokenize:function(h,m,_){let v,b,A;let C=this;return function(m){return h.enter("htmlText"),h.enter("htmlTextData"),h.consume(m),open};function open(m){return 33===m?(h.consume(m),declarationOpen):47===m?(h.consume(m),tagCloseStart):63===m?(h.consume(m),instruction):iV(m)?(h.consume(m),tagOpen):_(m)}function declarationOpen(m){return 45===m?(h.consume(m),commentOpenInside):91===m?(h.consume(m),b=0,cdataOpenInside):iV(m)?(h.consume(m),declaration):_(m)}function commentOpenInside(m){return 45===m?(h.consume(m),commentEnd):_(m)}function comment(m){return null===m?_(m):45===m?(h.consume(m),commentClose):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=comment,lineEndingBefore(m)):(h.consume(m),comment)}function commentClose(m){return 45===m?(h.consume(m),commentEnd):comment(m)}function commentEnd(h){return 62===h?end(h):45===h?commentClose(h):comment(h)}function cdataOpenInside(m){let v="CDATA[";return m===v.charCodeAt(b++)?(h.consume(m),b===v.length?cdata:cdataOpenInside):_(m)}function cdata(m){return null===m?_(m):93===m?(h.consume(m),cdataClose):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=cdata,lineEndingBefore(m)):(h.consume(m),cdata)}function cdataClose(m){return 93===m?(h.consume(m),cdataEnd):cdata(m)}function cdataEnd(m){return 62===m?end(m):93===m?(h.consume(m),cdataEnd):cdata(m)}function declaration(m){return null===m||62===m?end(m):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=declaration,lineEndingBefore(m)):(h.consume(m),declaration)}function instruction(m){return null===m?_(m):63===m?(h.consume(m),instructionClose):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=instruction,lineEndingBefore(m)):(h.consume(m),instruction)}function instructionClose(h){return 62===h?end(h):instruction(h)}function tagCloseStart(m){return iV(m)?(h.consume(m),tagClose):_(m)}function tagClose(m){return 45===m||iq(m)?(h.consume(m),tagClose):function tagCloseBetween(m){return remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=tagCloseBetween,lineEndingBefore(m)):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),tagCloseBetween):end(m)}(m)}function tagOpen(m){return 45===m||iq(m)?(h.consume(m),tagOpen):47===m||62===m||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?tagOpenBetween(m):_(m)}function tagOpenBetween(m){return 47===m?(h.consume(m),end):58===m||95===m||iV(m)?(h.consume(m),tagOpenAttributeName):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=tagOpenBetween,lineEndingBefore(m)):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),tagOpenBetween):end(m)}function tagOpenAttributeName(m){return 45===m||46===m||58===m||95===m||iq(m)?(h.consume(m),tagOpenAttributeName):function tagOpenAttributeNameAfter(m){return 61===m?(h.consume(m),tagOpenAttributeValueBefore):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=tagOpenAttributeNameAfter,lineEndingBefore(m)):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),tagOpenAttributeNameAfter):tagOpenBetween(m)}(m)}function tagOpenAttributeValueBefore(m){return null===m||60===m||61===m||62===m||96===m?_(m):34===m||39===m?(h.consume(m),v=m,tagOpenAttributeValueQuoted):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=tagOpenAttributeValueBefore,lineEndingBefore(m)):remark_parse_node_modules_micromark_util_character_markdownSpace(m)?(h.consume(m),tagOpenAttributeValueBefore):(h.consume(m),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(m){return m===v?(h.consume(m),v=void 0,tagOpenAttributeValueQuotedAfter):null===m?_(m):remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(A=tagOpenAttributeValueQuoted,lineEndingBefore(m)):(h.consume(m),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(m){return null===m||34===m||39===m||60===m||61===m||96===m?_(m):47===m||62===m||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(m)?tagOpenBetween(m):(h.consume(m),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(h){return 47===h||62===h||remark_parse_node_modules_micromark_util_character_markdownLineEndingOrSpace(h)?tagOpenBetween(h):_(h)}function end(v){return 62===v?(h.consume(v),h.exit("htmlTextData"),h.exit("htmlText"),m):_(v)}function lineEndingBefore(m){return h.exit("htmlTextData"),h.enter("lineEnding"),h.consume(m),h.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(m){return remark_parse_node_modules_micromark_util_character_markdownSpace(m)?remark_parse_node_modules_micromark_factory_space_factorySpace(h,lineEndingAfterPrefix,"linePrefix",C.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):lineEndingAfterPrefix(m)}function lineEndingAfterPrefix(m){return h.enter("htmlTextData"),A(m)}}}],91:aS,92:[{name:"hardBreakEscape",tokenize:function(h,m,_){return function(m){return h.enter("hardBreakEscape"),h.consume(m),after};function after(v){return remark_parse_node_modules_micromark_util_character_markdownLineEnding(v)?(h.exit("hardBreakEscape"),m(v)):_(v)}}},av],93:ay,95:aC,96:{name:"codeText",tokenize:function(h,m,_){let v,b,A=0;return function(m){return h.enter("codeText"),h.enter("codeTextSequence"),function sequenceOpen(m){return 96===m?(h.consume(m),A++,sequenceOpen):(h.exit("codeTextSequence"),between(m))}(m)};function between(C){return null===C?_(C):32===C?(h.enter("space"),h.consume(C),h.exit("space"),between):96===C?(b=h.enter("codeTextSequence"),v=0,function sequenceClose(_){return 96===_?(h.consume(_),v++,sequenceClose):v===A?(h.exit("codeTextSequence"),h.exit("codeText"),m(_)):(b.type="codeTextData",data(_))}(C)):remark_parse_node_modules_micromark_util_character_markdownLineEnding(C)?(h.enter("lineEnding"),h.consume(C),h.exit("lineEnding"),between):(h.enter("codeTextData"),data(C))}function data(m){return null===m||32===m||96===m||remark_parse_node_modules_micromark_util_character_markdownLineEnding(m)?(h.exit("codeTextData"),between(m)):(h.consume(m),data)}},resolve:function(h){let m,_,v=h.length-4,b=3;if(("lineEnding"===h[3][1].type||"space"===h[b][1].type)&&("lineEnding"===h[v][1].type||"space"===h[v][1].type)){for(m=b;++m<v;)if("codeTextData"===h[m][1].type){h[b][1].type="codeTextPadding",h[v][1].type="codeTextPadding",b+=2,v-=2;break}}for(m=b-1,v++;++m<=v;)void 0===_?m!==v&&"lineEnding"!==h[m][1].type&&(_=m):(m===v||"lineEnding"===h[m][1].type)&&(h[_][1].type="codeTextData",m!==_+2&&(h[_][1].end=h[m-1][1].end,h.splice(_+2,m-_-2),v-=m-_-2,m=_+2),_=void 0);return h},previous:function(h){return 96!==h||"characterEscape"===this.events[this.events.length-1][1].type}}},aD={null:[aC,i6]},aP={null:[42,95]},aM={null:[]},aF=/[\0\t\n\r]/g;function decodeNumericCharacterReference(h,m){let _=Number.parseInt(h,m);return _<9||11===_||_>13&&_<32||_>126&&_<160||_>55295&&_<57344||_>64975&&_<65008||(65535&_)==65535||(65535&_)==65534||_>1114111?"":String.fromCodePoint(_)}let aB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode(h,m,_){if(m)return m;let v=_.charCodeAt(0);if(35===v){let h=_.charCodeAt(1),m=120===h||88===h;return decodeNumericCharacterReference(_.slice(m?2:1),m?16:10)}return decodeNamedCharacterReference(_)||h}function stringifyPosition(h){return h&&"object"==typeof h?"position"in h||"type"in h?unist_util_stringify_position_lib_position(h.position):"start"in h||"end"in h?unist_util_stringify_position_lib_position(h):"line"in h||"column"in h?unist_util_stringify_position_lib_point(h):"":""}function unist_util_stringify_position_lib_point(h){return index(h&&h.line)+":"+index(h&&h.column)}function unist_util_stringify_position_lib_position(h){return unist_util_stringify_position_lib_point(h&&h.start)+"-"+unist_util_stringify_position_lib_point(h&&h.end)}function index(h){return h&&"number"==typeof h?h:1}let aH={}.hasOwnProperty;function mdast_util_from_markdown_lib_point(h){return{line:h.line,column:h.column,offset:h.offset}}function defaultOnError(h,m){if(h)throw Error("Cannot close `"+h.type+"` ("+stringifyPosition({start:h.start,end:h.end})+"): a different token (`"+m.type+"`, "+stringifyPosition({start:m.start,end:m.end})+") is open");throw Error("Cannot close document, a token (`"+m.type+"`, "+stringifyPosition({start:m.start,end:m.end})+") is still open")}function remarkParse(h){let m=this;m.parser=function(_){var v,b;let A,C,S,I;return"string"!=typeof(v={...m.data("settings"),...h,extensions:m.data("micromarkExtensions")||[],mdastExtensions:m.data("fromMarkdownExtensions")||[]})&&(b=v,v=void 0),(function(h){let m={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(h){return{type:"listItem",spread:h._spread,checked:null,children:[]}}),listItemValue:function(h){if(this.data.expectingFirstListItemValue){let m=this.stack[this.stack.length-2];m.start=Number.parseInt(this.sliceSerialize(h),10),this.data.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(h){let m=this.stack[this.stack.length-1];if(!m.depth){let _=this.sliceSerialize(h).length;m.depth=_}},autolink:closer(),autolinkEmail:function(h){onexitdata.call(this,h);let m=this.stack[this.stack.length-1];m.url="mailto:"+this.sliceSerialize(h)},autolinkProtocol:function(h){onexitdata.call(this,h);let m=this.stack[this.stack.length-1];m.url=this.sliceSerialize(h)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(h){let m;let _=this.sliceSerialize(h),v=this.data.characterReferenceType;if(v)m=decodeNumericCharacterReference(_,"characterReferenceMarkerNumeric"===v?10:16),this.data.characterReferenceType=void 0;else{let h=decodeNamedCharacterReference(_);m=h}let b=this.stack[this.stack.length-1];b.value+=m},characterReference:function(h){let m=this.stack.pop();m.position.end=mdast_util_from_markdown_lib_point(h.end)},codeFenced:closer(function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.value=h.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.lang=h},codeFencedFenceMeta:function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.meta=h},codeFlowValue:onexitdata,codeIndented:closer(function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.value=h.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.value=h}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.url=h},definitionLabelString:function(h){let m=this.resume(),_=this.stack[this.stack.length-1];_.label=m,_.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(this.sliceSerialize(h)).toLowerCase()},definitionTitleString:function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.title=h},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.value=h}),htmlFlowData:onexitdata,htmlText:closer(function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.value=h}),htmlTextData:onexitdata,image:closer(function(){let h=this.stack[this.stack.length-1];if(this.data.inReference){let m=this.data.referenceType||"shortcut";h.type+="Reference",h.referenceType=m,delete h.url,delete h.title}else delete h.identifier,delete h.label;this.data.referenceType=void 0}),label:function(){let h=this.stack[this.stack.length-1],m=this.resume(),_=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===_.type){let m=h.children;_.children=m}else _.alt=m},labelText:function(h){let m=this.sliceSerialize(h),_=this.stack[this.stack.length-2];_.label=m.replace(aB,decode),_.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(m).toLowerCase()},lineEnding:function(h){let _=this.stack[this.stack.length-1];if(this.data.atHardBreak){let m=_.children[_.children.length-1];m.position.end=mdast_util_from_markdown_lib_point(h.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&m.canContainEols.includes(_.type)&&(onenterdata.call(this,h),onexitdata.call(this,h))},link:closer(function(){let h=this.stack[this.stack.length-1];if(this.data.inReference){let m=this.data.referenceType||"shortcut";h.type+="Reference",h.referenceType=m,delete h.url,delete h.title}else delete h.identifier,delete h.label;this.data.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(h){let m=this.resume(),_=this.stack[this.stack.length-1];_.label=m,_.identifier=node_modules_micromark_util_normalize_identifier_normalizeIdentifier(this.sliceSerialize(h)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.url=h},resourceTitleString:function(){let h=this.resume(),m=this.stack[this.stack.length-1];m.title=h},resource:function(){this.data.inReference=void 0},setextHeading:closer(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(h){let m=this.stack[this.stack.length-1];m.depth=61===this.sliceSerialize(h).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};(function configure(h,m){let _=-1;for(;++_<m.length;){let v=m[_];Array.isArray(v)?configure(h,v):function(h,m){let _;for(_ in m)if(aH.call(m,_))switch(_){case"canContainEols":{let v=m[_];v&&h[_].push(...v);break}case"transforms":{let v=m[_];v&&h[_].push(...v);break}case"enter":case"exit":{let v=m[_];v&&Object.assign(h[_],v)}}}(h,v)}})(m,(h||{}).mdastExtensions||[]);let _={};return function(h){let v={type:"root",children:[]},b={stack:[v],tokenStack:[],config:m,enter,exit,buffer,resume,data:_},A=[],C=-1;for(;++C<h.length;)if("listOrdered"===h[C][1].type||"listUnordered"===h[C][1].type){if("enter"===h[C][0])A.push(C);else{let m=A.pop();C=function(h,m,_){let v,b,A,C,S=m-1,I=-1,w=!1;for(;++S<=_;){let m=h[S];switch(m[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===m[0]?I++:I--,C=void 0;break;case"lineEndingBlank":"enter"===m[0]&&(!v||C||I||A||(A=S),C=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:C=void 0}if(!I&&"enter"===m[0]&&"listItemPrefix"===m[1].type||-1===I&&"exit"===m[0]&&("listUnordered"===m[1].type||"listOrdered"===m[1].type)){if(v){let C=S;for(b=void 0;C--;){let m=h[C];if("lineEnding"===m[1].type||"lineEndingBlank"===m[1].type){if("exit"===m[0])continue;b&&(h[b][1].type="lineEndingBlank",w=!0),m[1].type="lineEnding",b=C}else if("linePrefix"===m[1].type||"blockQuotePrefix"===m[1].type||"blockQuotePrefixWhitespace"===m[1].type||"blockQuoteMarker"===m[1].type||"listItemIndent"===m[1].type);else break}A&&(!b||A<b)&&(v._spread=!0),v.end=Object.assign({},b?h[b][1].start:m[1].end),h.splice(b||S,0,["exit",v,m[2]]),S++,_++}if("listItemPrefix"===m[1].type){let b={type:"listItem",_spread:!1,start:Object.assign({},m[1].start),end:void 0};v=b,h.splice(S,0,["enter",b,m[2]]),S++,_++,A=void 0,C=!0}}}return h[m][1]._spread=w,_}(h,m,C)}}for(C=-1;++C<h.length;){let _=m[h[C][0]];aH.call(_,h[C][1].type)&&_[h[C][1].type].call(Object.assign({sliceSerialize:h[C][2].sliceSerialize},b),h[C][1])}if(b.tokenStack.length>0){let h=b.tokenStack[b.tokenStack.length-1],m=h[1]||defaultOnError;m.call(b,void 0,h[0])}for(v.position={start:mdast_util_from_markdown_lib_point(h.length>0?h[0][1].start:{line:1,column:1,offset:0}),end:mdast_util_from_markdown_lib_point(h.length>0?h[h.length-2][1].end:{line:1,column:1,offset:0})},C=-1;++C<m.transforms.length;)v=m.transforms[C](v)||v;return v};function opener(h,m){return function(_){enter.call(this,h(_),_),m&&m.call(this,_)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(h,m,_){let v=this.stack[this.stack.length-1],b=v.children;b.push(h),this.stack.push(h),this.tokenStack.push([m,_]),h.position={start:mdast_util_from_markdown_lib_point(m.start),end:void 0}}function closer(h){return function(m){h&&h.call(this,m),exit.call(this,m)}}function exit(h,m){let _=this.stack.pop(),v=this.tokenStack.pop();if(v){if(v[0].type!==h.type){if(m)m.call(this,h,v[0]);else{let m=v[1]||defaultOnError;m.call(this,h,v[0])}}}else throw Error("Cannot close `"+h.type+"` ("+stringifyPosition({start:h.start,end:h.end})+"): its not open");_.position.end=mdast_util_from_markdown_lib_point(h.end)}function resume(){return function(h,m){let _="boolean"!=typeof iG.includeImageAlt||iG.includeImageAlt,v="boolean"!=typeof iG.includeHtml||iG.includeHtml;return remark_parse_node_modules_mdast_util_to_string_lib_one(h,_,v)}(this.stack.pop())}function onenterdata(h){let m=this.stack[this.stack.length-1],_=m.children,v=_[_.length-1];v&&"text"===v.type||((v={type:"text",value:""}).position={start:mdast_util_from_markdown_lib_point(h.start),end:void 0},_.push(v)),this.stack.push(v)}function onexitdata(h){let m=this.stack.pop();m.value+=this.sliceSerialize(h),m.position.end=mdast_util_from_markdown_lib_point(h.end)}function onexithardbreak(){this.data.atHardBreak=!0}function onexitcharacterreferencemarker(h){this.data.characterReferenceType=h.type}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(h){return{type:"list",ordered:"listOrdered"===h.type,start:null,spread:h._spread,children:[]}}})(b)(function(h){for(;!subtokenize(h););return h}((function(h){let m=function(h){let m={},_=-1;for(;++_<h.length;)(function(h,m){let _;for(_ in m){let v;let b=ij.call(h,_)?h[_]:void 0,A=b||(h[_]={}),C=m[_];if(C)for(v in C){ij.call(A,v)||(A[v]=[]);let h=C[v];(function(h,m){let _=-1,v=[];for(;++_<m.length;)("after"===m[_].add?h:v).push(m[_]);node_modules_micromark_util_chunked_splice(h,0,0,v)})(A[v],Array.isArray(h)?h:h?[h]:[])}}})(m,h[_]);return m}([eN,...(h||{}).extensions||[]]),_={defined:[],lazy:{},constructs:m,content:create(iZ),document:create(i0),flow:create(i5),string:create(i8),text:create(i9)};return _;function create(h){return function(m){return function(h,m,_){let v=Object.assign(_?Object.assign({},_):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),b={},A=[],C=[],S=[],I={consume:function(h){remark_parse_node_modules_micromark_util_character_markdownLineEnding(h)?(v.line++,v.column=1,v.offset+=-3===h?2:1,accountForPotentialSkip()):-1!==h&&(v.column++,v.offset++),v._bufferIndex<0?v._index++:(v._bufferIndex++,v._bufferIndex===C[v._index].length&&(v._bufferIndex=-1,v._index++)),w.previous=h},enter:function(h,m){let _=m||{};return _.type=h,_.start=now(),w.events.push(["enter",_,w]),S.push(_),_},exit:function(h){let m=S.pop();return m.end=now(),w.events.push(["exit",m,w]),m},attempt:constructFactory(function(h,m){addResult(h,m.from)}),check:constructFactory(onsuccessfulcheck),interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},w={previous:null,code:null,containerState:{},events:[],parser:h,sliceStream,sliceSerialize:function(h,m){return function(h,m){let _,v=-1,b=[];for(;++v<h.length;){let A;let C=h[v];if("string"==typeof C)A=C;else switch(C){case -5:A="\r";break;case -4:A="\n";break;case -3:A="\r\n";break;case -2:A=m?" ":"	";break;case -1:if(!m&&_)continue;A=" ";break;default:A=String.fromCharCode(C)}_=-2===C,b.push(A)}return b.join("")}(sliceStream(h),m)},now,defineSkip:function(h){b[h.line]=h.column,accountForPotentialSkip()},write:function(h){return(C=node_modules_micromark_util_chunked_push(C,h),function(){let h;for(;v._index<C.length;){var m;let _=C[v._index];if("string"==typeof _)for(h=v._index,v._bufferIndex<0&&(v._bufferIndex=0);v._index===h&&v._bufferIndex<_.length;)m=_.charCodeAt(v._bufferIndex),O=O(m);else O=O(_)}}(),null!==C[C.length-1])?[]:(addResult(m,0),w.events=micromark_util_resolve_all_resolveAll(A,w.events,w),w.events)}},O=m.tokenize.call(w,I);return m.resolveAll&&A.push(m),w;function sliceStream(h){return function(h,m){let _;let v=m.start._index,b=m.start._bufferIndex,A=m.end._index,C=m.end._bufferIndex;if(v===A)_=[h[v].slice(b,C)];else{if(_=h.slice(v,A),b>-1){let h=_[0];"string"==typeof h?_[0]=h.slice(b):_.shift()}C>0&&_.push(h[A].slice(0,C))}return _}(C,h)}function now(){let{line:h,column:m,offset:_,_index:b,_bufferIndex:A}=v;return{line:h,column:m,offset:_,_index:b,_bufferIndex:A}}function onsuccessfulcheck(h,m){m.restore()}function constructFactory(h,m){return function(_,b,A){let C,O,L,M;return Array.isArray(_)?handleListOfConstructs(_):"tokenize"in _?handleListOfConstructs([_]):function(h){let m=null!==h&&_[h],v=null!==h&&_.null,b=[...Array.isArray(m)?m:m?[m]:[],...Array.isArray(v)?v:v?[v]:[]];return handleListOfConstructs(b)(h)};function handleListOfConstructs(h){return(C=h,O=0,0===h.length)?A:handleConstruct(h[O])}function handleConstruct(h){return function(_){return(M=function(){let h=now(),m=w.previous,_=w.currentConstruct,b=w.events.length,A=Array.from(S);return{restore:function(){v=h,w.previous=m,w.currentConstruct=_,w.events.length=b,S=A,accountForPotentialSkip()},from:b}}(),L=h,h.partial||(w.currentConstruct=h),h.name&&w.parser.constructs.disable.null.includes(h.name))?nok(_):h.tokenize.call(m?Object.assign(Object.create(w),m):w,I,ok,nok)(_)}}function ok(m){return h(L,M),b}function nok(h){return(M.restore(),++O<C.length)?handleConstruct(C[O]):A}}}function addResult(h,m){h.resolveAll&&!A.includes(h)&&A.push(h),h.resolve&&node_modules_micromark_util_chunked_splice(w.events,m,w.events.length-m,h.resolve(w.events.slice(m),w)),h.resolveTo&&(w.events=h.resolveTo(w.events,w))}function accountForPotentialSkip(){v.line in b&&v.column<2&&(v.column=b[v.line],v.offset+=b[v.line]-1)}}(_,h,m)}}})(b).document().write((C=1,S="",I=!0,function(h,m,_){let v,b,w,O,L;let M=[];for(h=S+("string"==typeof h?h.toString():new TextDecoder(m||void 0).decode(h)),w=0,S="",I&&(65279===h.charCodeAt(0)&&w++,I=void 0);w<h.length;){if(aF.lastIndex=w,O=(v=aF.exec(h))&&void 0!==v.index?v.index:h.length,L=h.charCodeAt(O),!v){S=h.slice(w);break}if(10===L&&w===O&&A)M.push(-3),A=void 0;else switch(A&&(M.push(-5),A=void 0),w<O&&(M.push(h.slice(w,O)),C+=O-w),L){case 0:M.push(65533),C++;break;case 9:for(b=4*Math.ceil(C/4),M.push(-2);C++<b;)M.push(-1);break;case 10:M.push(-4),C=1;break;default:A=!0,C=1}w=O+1}return _&&(A&&M.push(-5),S&&M.push(S),M.push(null)),M})(_,v,!0))))}}mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/[A-Za-z]/);let aU=mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/[\dA-Za-z]/);function mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(h){return function(m){return null!==m&&m>-1&&h.test(String.fromCharCode(m))}}function normalizeUri(h){let m=[],_=-1,v=0,b=0;for(;++_<h.length;){let A=h.charCodeAt(_),C="";if(37===A&&aU(h.charCodeAt(_+1))&&aU(h.charCodeAt(_+2)))b=2;else if(A<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(A))||(C=String.fromCharCode(A));else if(A>55295&&A<57344){let m=h.charCodeAt(_+1);A<56320&&m>56319&&m<57344?(C=String.fromCharCode(A,m),b=1):C=""}else C=String.fromCharCode(A);C&&(m.push(h.slice(v,_),encodeURIComponent(C)),v=_+b+1,C=""),b&&(_+=b,b=0)}return m.join("")+h.slice(v)}function defaultFootnoteBackContent(h,m){let _=[{type:"text",value:""}];return m>1&&_.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(m)}]}),_}function defaultFootnoteBackLabel(h,m){return"Back to reference "+(h+1)+(m>1?"-"+m:"")}mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/[#-'*+\--9=?A-Z^-~]/),mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/\d/),mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/[\dA-Fa-f]/),mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/[!-/:-@[-`{-~]/),mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/\p{P}|\p{S}/u),mdast_util_to_hast_node_modules_micromark_util_character_regexCheck(/\s/);let a$=unist_util_position_lib_point("end"),az=unist_util_position_lib_point("start");function unist_util_position_lib_point(h){return function(m){let _=m&&m.position&&m.position[h]||{};if("number"==typeof _.line&&_.line>0&&"number"==typeof _.column&&_.column>0)return{line:_.line,column:_.column,offset:"number"==typeof _.offset&&_.offset>-1?_.offset:void 0}}}function revert(h,m){let _=m.referenceType,v="]";if("collapsed"===_?v+="[]":"full"===_&&(v+="["+(m.label||m.identifier)+"]"),"imageReference"===m.type)return[{type:"text",value:"!["+m.alt+v}];let b=h.all(m),A=b[0];A&&"text"===A.type?A.value="["+A.value:b.unshift({type:"text",value:"["});let C=b[b.length-1];return C&&"text"===C.type?C.value+=v:b.push({type:"text",value:v}),b}function listItemLoose(h){let m=h.spread;return null==m?h.children.length>1:m}function trimLine(h,m,_){let v=0,b=h.length;if(m){let m=h.codePointAt(v);for(;9===m||32===m;)v++,m=h.codePointAt(v)}if(_){let m=h.codePointAt(b-1);for(;9===m||32===m;)b--,m=h.codePointAt(b-1)}return b>v?h.slice(v,b):""}let aG={blockquote:function(h,m){let _={type:"element",tagName:"blockquote",properties:{},children:h.wrap(h.all(m),!0)};return h.patch(m,_),h.applyData(m,_)},break:function(h,m){let _={type:"element",tagName:"br",properties:{},children:[]};return h.patch(m,_),[h.applyData(m,_),{type:"text",value:"\n"}]},code:function(h,m){let _=m.value?m.value+"\n":"",v={};m.lang&&(v.className=["language-"+m.lang]);let b={type:"element",tagName:"code",properties:v,children:[{type:"text",value:_}]};return m.meta&&(b.data={meta:m.meta}),h.patch(m,b),b={type:"element",tagName:"pre",properties:{},children:[b=h.applyData(m,b)]},h.patch(m,b),b},delete:function(h,m){let _={type:"element",tagName:"del",properties:{},children:h.all(m)};return h.patch(m,_),h.applyData(m,_)},emphasis:function(h,m){let _={type:"element",tagName:"em",properties:{},children:h.all(m)};return h.patch(m,_),h.applyData(m,_)},footnoteReference:function(h,m){let _;let v="string"==typeof h.options.clobberPrefix?h.options.clobberPrefix:"user-content-",b=String(m.identifier).toUpperCase(),A=normalizeUri(b.toLowerCase()),C=h.footnoteOrder.indexOf(b),S=h.footnoteCounts.get(b);void 0===S?(S=0,h.footnoteOrder.push(b),_=h.footnoteOrder.length):_=C+1,S+=1,h.footnoteCounts.set(b,S);let I={type:"element",tagName:"a",properties:{href:"#"+v+"fn-"+A,id:v+"fnref-"+A+(S>1?"-"+S:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(_)}]};h.patch(m,I);let w={type:"element",tagName:"sup",properties:{},children:[I]};return h.patch(m,w),h.applyData(m,w)},heading:function(h,m){let _={type:"element",tagName:"h"+m.depth,properties:{},children:h.all(m)};return h.patch(m,_),h.applyData(m,_)},html:function(h,m){if(h.options.allowDangerousHtml){let _={type:"raw",value:m.value};return h.patch(m,_),h.applyData(m,_)}},imageReference:function(h,m){let _=String(m.identifier).toUpperCase(),v=h.definitionById.get(_);if(!v)return revert(h,m);let b={src:normalizeUri(v.url||""),alt:m.alt};null!==v.title&&void 0!==v.title&&(b.title=v.title);let A={type:"element",tagName:"img",properties:b,children:[]};return h.patch(m,A),h.applyData(m,A)},image:function(h,m){let _={src:normalizeUri(m.url)};null!==m.alt&&void 0!==m.alt&&(_.alt=m.alt),null!==m.title&&void 0!==m.title&&(_.title=m.title);let v={type:"element",tagName:"img",properties:_,children:[]};return h.patch(m,v),h.applyData(m,v)},inlineCode:function(h,m){let _={type:"text",value:m.value.replace(/\r?\n|\r/g," ")};h.patch(m,_);let v={type:"element",tagName:"code",properties:{},children:[_]};return h.patch(m,v),h.applyData(m,v)},linkReference:function(h,m){let _=String(m.identifier).toUpperCase(),v=h.definitionById.get(_);if(!v)return revert(h,m);let b={href:normalizeUri(v.url||"")};null!==v.title&&void 0!==v.title&&(b.title=v.title);let A={type:"element",tagName:"a",properties:b,children:h.all(m)};return h.patch(m,A),h.applyData(m,A)},link:function(h,m){let _={href:normalizeUri(m.url)};null!==m.title&&void 0!==m.title&&(_.title=m.title);let v={type:"element",tagName:"a",properties:_,children:h.all(m)};return h.patch(m,v),h.applyData(m,v)},listItem:function(h,m,_){let v=h.all(m),b=_?function(h){let m=!1;if("list"===h.type){m=h.spread||!1;let _=h.children,v=-1;for(;!m&&++v<_.length;)m=listItemLoose(_[v])}return m}(_):listItemLoose(m),A={},C=[];if("boolean"==typeof m.checked){let h;let _=v[0];_&&"element"===_.type&&"p"===_.tagName?h=_:(h={type:"element",tagName:"p",properties:{},children:[]},v.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:m.checked,disabled:!0},children:[]}),A.className=["task-list-item"]}let S=-1;for(;++S<v.length;){let h=v[S];(b||0!==S||"element"!==h.type||"p"!==h.tagName)&&C.push({type:"text",value:"\n"}),"element"!==h.type||"p"!==h.tagName||b?C.push(h):C.push(...h.children)}let I=v[v.length-1];I&&(b||"element"!==I.type||"p"!==I.tagName)&&C.push({type:"text",value:"\n"});let w={type:"element",tagName:"li",properties:A,children:C};return h.patch(m,w),h.applyData(m,w)},list:function(h,m){let _={},v=h.all(m),b=-1;for("number"==typeof m.start&&1!==m.start&&(_.start=m.start);++b<v.length;){let h=v[b];if("element"===h.type&&"li"===h.tagName&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){_.className=["contains-task-list"];break}}let A={type:"element",tagName:m.ordered?"ol":"ul",properties:_,children:h.wrap(v,!0)};return h.patch(m,A),h.applyData(m,A)},paragraph:function(h,m){let _={type:"element",tagName:"p",properties:{},children:h.all(m)};return h.patch(m,_),h.applyData(m,_)},root:function(h,m){let _={type:"root",children:h.wrap(h.all(m))};return h.patch(m,_),h.applyData(m,_)},strong:function(h,m){let _={type:"element",tagName:"strong",properties:{},children:h.all(m)};return h.patch(m,_),h.applyData(m,_)},table:function(h,m){let _=h.all(m),v=_.shift(),b=[];if(v){let _={type:"element",tagName:"thead",properties:{},children:h.wrap([v],!0)};h.patch(m.children[0],_),b.push(_)}if(_.length>0){let v={type:"element",tagName:"tbody",properties:{},children:h.wrap(_,!0)},A=az(m.children[1]),C=a$(m.children[m.children.length-1]);A&&C&&(v.position={start:A,end:C}),b.push(v)}let A={type:"element",tagName:"table",properties:{},children:h.wrap(b,!0)};return h.patch(m,A),h.applyData(m,A)},tableCell:function(h,m){let _={type:"element",tagName:"td",properties:{},children:h.all(m)};return h.patch(m,_),h.applyData(m,_)},tableRow:function(h,m,_){let v=_?_.children:void 0,b=v?v.indexOf(m):1,A=0===b?"th":"td",C=_&&"table"===_.type?_.align:void 0,S=C?C.length:m.children.length,I=-1,w=[];for(;++I<S;){let _=m.children[I],v={},b=C?C[I]:void 0;b&&(v.align=b);let S={type:"element",tagName:A,properties:v,children:[]};_&&(S.children=h.all(_),h.patch(_,S),S=h.applyData(_,S)),w.push(S)}let O={type:"element",tagName:"tr",properties:{},children:h.wrap(w,!0)};return h.patch(m,O),h.applyData(m,O)},text:function(h,m){let _={type:"text",value:function(h){let m=String(h),_=/\r?\n|\r/g,v=_.exec(m),b=0,A=[];for(;v;)A.push(trimLine(m.slice(b,v.index),b>0,!0),v[0]),b=v.index+v[0].length,v=_.exec(m);return A.push(trimLine(m.slice(b),b>0,!1)),A.join("")}(String(m.value))};return h.patch(m,_),h.applyData(m,_)},thematicBreak:function(h,m){let _={type:"element",tagName:"hr",properties:{},children:[]};return h.patch(m,_),h.applyData(m,_)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}let aj={}.hasOwnProperty,aV={};function state_patch(h,m){h.position&&(m.position=function(h){let m=az(h),_=a$(h);if(m&&_)return{start:m,end:_}}(h))}function applyData(h,m){let _=m;if(h&&h.data){let m=h.data.hName,v=h.data.hChildren,b=h.data.hProperties;if("string"==typeof m){if("element"===_.type)_.tagName=m;else{let h="children"in _?_.children:[_];_={type:"element",tagName:m,properties:{},children:h}}}"element"===_.type&&b&&Object.assign(_.properties,nC(b)),"children"in _&&_.children&&null!=v&&(_.children=v)}return _}function defaultUnknownHandler(h,m){let _=m.data||{},v="value"in m&&!(aj.call(_,"hProperties")||aj.call(_,"hChildren"))?{type:"text",value:m.value}:{type:"element",tagName:"div",properties:{},children:h.all(m)};return h.patch(m,v),h.applyData(m,v)}function wrap(h,m){let _=[],v=-1;for(m&&_.push({type:"text",value:"\n"});++v<h.length;)v&&_.push({type:"text",value:"\n"}),_.push(h[v]);return m&&h.length>0&&_.push({type:"text",value:"\n"}),_}function trimMarkdownSpaceStart(h){let m=0,_=h.charCodeAt(m);for(;9===_||32===_;)m++,_=h.charCodeAt(m);return h.slice(m)}function toHast(h,m){let _=function(h,m){var _,v;let b,A,C;let S=m||aV,I=new Map,w=new Map,O=new Map,L={...aG,...S.handlers},M={all:function(h){let m=[];if("children"in h){let _=h.children,v=-1;for(;++v<_.length;){let b=M.one(_[v],h);if(b){if(v&&"break"===_[v-1].type&&(Array.isArray(b)||"text"!==b.type||(b.value=trimMarkdownSpaceStart(b.value)),!Array.isArray(b)&&"element"===b.type)){let h=b.children[0];h&&"text"===h.type&&(h.value=trimMarkdownSpaceStart(h.value))}Array.isArray(b)?m.push(...b):m.push(b)}}}return m},applyData,definitionById:I,footnoteById:w,footnoteCounts:O,footnoteOrder:[],handlers:L,one:function(h,m){let _=h.type,v=M.handlers[_];if(aj.call(M.handlers,_)&&v)return v(M,h,m);if(M.options.passThrough&&M.options.passThrough.includes(_)){if("children"in h){let{children:m,..._}=h,v=nC(_);return v.children=M.all(h),v}return nC(h)}let b=M.options.unknownHandler||defaultUnknownHandler;return b(M,h,m)},options:S,patch:state_patch,wrap};return"function"==typeof(_=function(h){if("definition"===h.type||"footnoteDefinition"===h.type){let m="definition"===h.type?I:w,_=String(h.identifier).toUpperCase();m.has(_)||m.set(_,h)}})&&"function"!=typeof v?(A=void 0,C=_,b=v):(A=_,C=v,b=void 0),visitParents(h,A,function(h,m){let _=m[m.length-1],v=_?_.children.indexOf(h):void 0;return C(h,v,_)},b),M}(h,m),v=_.one(h,void 0),b=function(h){let m="string"==typeof h.options.clobberPrefix?h.options.clobberPrefix:"user-content-",_=h.options.footnoteBackContent||defaultFootnoteBackContent,v=h.options.footnoteBackLabel||defaultFootnoteBackLabel,b=h.options.footnoteLabel||"Footnotes",A=h.options.footnoteLabelTagName||"h2",C=h.options.footnoteLabelProperties||{className:["sr-only"]},S=[],I=-1;for(;++I<h.footnoteOrder.length;){let b=h.footnoteById.get(h.footnoteOrder[I]);if(!b)continue;let A=h.all(b),C=String(b.identifier).toUpperCase(),w=normalizeUri(C.toLowerCase()),O=0,L=[],M=h.footnoteCounts.get(C);for(;void 0!==M&&++O<=M;){L.length>0&&L.push({type:"text",value:" "});let h="string"==typeof _?_:_(I,O);"string"==typeof h&&(h={type:"text",value:h}),L.push({type:"element",tagName:"a",properties:{href:"#"+m+"fnref-"+w+(O>1?"-"+O:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof v?v:v(I,O),className:["data-footnote-backref"]},children:Array.isArray(h)?h:[h]})}let F=A[A.length-1];if(F&&"element"===F.type&&"p"===F.tagName){let h=F.children[F.children.length-1];h&&"text"===h.type?h.value+=" ":F.children.push({type:"text",value:" "}),F.children.push(...L)}else A.push(...L);let B={type:"element",tagName:"li",properties:{id:m+"fn-"+w},children:h.wrap(A,!0)};h.patch(b,B),S.push(B)}if(0!==S.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:A,properties:{...nC(C),id:"footnote-label"},children:[{type:"text",value:b}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:h.wrap(S,!0)},{type:"text",value:"\n"}]}}(_),A=Array.isArray(v)?{type:"root",children:v}:v||{type:"root",children:[]};return b&&A.children.push({type:"text",value:"\n"},b),A}function remarkRehype(h,m){return h&&"run"in h?async function(_,v){let b=toHast(_,{file:v,...m});await h.run(b,v)}:function(_,v){return toHast(_,{file:v,...m||h})}}function bail(h){if(h)throw h}var aq=_(4470);function is_plain_obj_isPlainObject(h){if("object"!=typeof h||null===h)return!1;let m=Object.getPrototypeOf(h);return(null===m||m===Object.prototype||null===Object.getPrototypeOf(m))&&!(Symbol.toStringTag in h)&&!(Symbol.iterator in h)}function node_modules_unist_util_stringify_position_lib_point(h){return lib_index(h&&h.line)+":"+lib_index(h&&h.column)}function node_modules_unist_util_stringify_position_lib_position(h){return node_modules_unist_util_stringify_position_lib_point(h&&h.start)+"-"+node_modules_unist_util_stringify_position_lib_point(h&&h.end)}function lib_index(h){return h&&"number"==typeof h?h:1}let VFileMessage=class VFileMessage extends Error{constructor(h,m,_){var v;super(),"string"==typeof m&&(_=m,m=void 0);let b="",A={},C=!1;if(m&&(A="line"in m&&"column"in m?{place:m}:"start"in m&&"end"in m?{place:m}:"type"in m?{ancestors:[m],place:m.position}:{...m}),"string"==typeof h?b=h:!A.cause&&h&&(C=!0,b=h.message,A.cause=h),!A.ruleId&&!A.source&&"string"==typeof _){let h=_.indexOf(":");-1===h?A.ruleId=_:(A.source=_.slice(0,h),A.ruleId=_.slice(h+1))}if(!A.place&&A.ancestors&&A.ancestors){let h=A.ancestors[A.ancestors.length-1];h&&(A.place=h.position)}let S=A.place&&"start"in A.place?A.place.start:A.place;this.ancestors=A.ancestors||void 0,this.cause=A.cause||void 0,this.column=S?S.column:void 0,this.fatal=void 0,this.file,this.message=b,this.line=S?S.line:void 0,this.name=((v=A.place)&&"object"==typeof v?"position"in v||"type"in v?node_modules_unist_util_stringify_position_lib_position(v.position):"start"in v||"end"in v?node_modules_unist_util_stringify_position_lib_position(v):"line"in v||"column"in v?node_modules_unist_util_stringify_position_lib_point(v):"":"")||"1:1",this.place=A.place||void 0,this.reason=this.message,this.ruleId=A.ruleId||void 0,this.source=A.source||void 0,this.stack=C&&A.cause&&"string"==typeof A.cause.stack?A.cause.stack:"",this.actual,this.expected,this.note,this.url}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.column=void 0,VFileMessage.prototype.line=void 0,VFileMessage.prototype.ancestors=void 0,VFileMessage.prototype.cause=void 0,VFileMessage.prototype.fatal=void 0,VFileMessage.prototype.place=void 0,VFileMessage.prototype.ruleId=void 0,VFileMessage.prototype.source=void 0;let aW={basename:function(h,m){let _;if(void 0!==m&&"string"!=typeof m)throw TypeError('"ext" argument must be a string');assertPath(h);let v=0,b=-1,A=h.length;if(void 0===m||0===m.length||m.length>h.length){for(;A--;)if(47===h.codePointAt(A)){if(_){v=A+1;break}}else b<0&&(_=!0,b=A+1);return b<0?"":h.slice(v,b)}if(m===h)return"";let C=-1,S=m.length-1;for(;A--;)if(47===h.codePointAt(A)){if(_){v=A+1;break}}else C<0&&(_=!0,C=A+1),S>-1&&(h.codePointAt(A)===m.codePointAt(S--)?S<0&&(b=A):(S=-1,b=C));return v===b?b=C:b<0&&(b=h.length),h.slice(v,b)},dirname:function(h){let m;if(assertPath(h),0===h.length)return".";let _=-1,v=h.length;for(;--v;)if(47===h.codePointAt(v)){if(m){_=v;break}}else m||(m=!0);return _<0?47===h.codePointAt(0)?"/":".":1===_&&47===h.codePointAt(0)?"//":h.slice(0,_)},extname:function(h){let m;assertPath(h);let _=h.length,v=-1,b=0,A=-1,C=0;for(;_--;){let S=h.codePointAt(_);if(47===S){if(m){b=_+1;break}continue}v<0&&(m=!0,v=_+1),46===S?A<0?A=_:1!==C&&(C=1):A>-1&&(C=-1)}return A<0||v<0||0===C||1===C&&A===v-1&&A===b+1?"":h.slice(A,v)},join:function(...h){let m,_=-1;for(;++_<h.length;)assertPath(h[_]),h[_]&&(m=void 0===m?h[_]:m+"/"+h[_]);return void 0===m?".":function(h){assertPath(h);let m=47===h.codePointAt(0),_=function(h,m){let _,v,b="",A=0,C=-1,S=0,I=-1;for(;++I<=h.length;){if(I<h.length)_=h.codePointAt(I);else if(47===_)break;else _=47;if(47===_){if(C===I-1||1===S);else if(C!==I-1&&2===S){if(b.length<2||2!==A||46!==b.codePointAt(b.length-1)||46!==b.codePointAt(b.length-2)){if(b.length>2){if((v=b.lastIndexOf("/"))!==b.length-1){v<0?(b="",A=0):A=(b=b.slice(0,v)).length-1-b.lastIndexOf("/"),C=I,S=0;continue}}else if(b.length>0){b="",A=0,C=I,S=0;continue}}m&&(b=b.length>0?b+"/..":"..",A=2)}else b.length>0?b+="/"+h.slice(C+1,I):b=h.slice(C+1,I),A=I-C-1;C=I,S=0}else 46===_&&S>-1?S++:S=-1}return b}(h,!m);return 0!==_.length||m||(_="."),_.length>0&&47===h.codePointAt(h.length-1)&&(_+="/"),m?"/"+_:_}(m)},sep:"/"};function assertPath(h){if("string"!=typeof h)throw TypeError("Path must be a string. Received "+JSON.stringify(h))}let aY={cwd:function(){return"/"}};function isUrl(h){return!!(null!==h&&"object"==typeof h&&"href"in h&&h.href&&"protocol"in h&&h.protocol&&void 0===h.auth)}let aQ=["history","path","basename","stem","extname","dirname"];let VFile=class VFile{constructor(h){let m,_;m=h?isUrl(h)?{path:h}:"string"==typeof h||h&&"object"==typeof h&&"byteLength"in h&&"byteOffset"in h?{value:h}:h:{},this.cwd="cwd"in m?"":aY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let v=-1;for(;++v<aQ.length;){let h=aQ[v];h in m&&void 0!==m[h]&&null!==m[h]&&(this[h]="history"===h?[...m[h]]:m[h])}for(_ in m)aQ.includes(_)||(this[_]=m[_])}get basename(){return"string"==typeof this.path?aW.basename(this.path):void 0}set basename(h){assertNonEmpty(h,"basename"),assertPart(h,"basename"),this.path=aW.join(this.dirname||"",h)}get dirname(){return"string"==typeof this.path?aW.dirname(this.path):void 0}set dirname(h){lib_assertPath(this.basename,"dirname"),this.path=aW.join(h||"",this.basename)}get extname(){return"string"==typeof this.path?aW.extname(this.path):void 0}set extname(h){if(assertPart(h,"extname"),lib_assertPath(this.dirname,"extname"),h){if(46!==h.codePointAt(0))throw Error("`extname` must start with `.`");if(h.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=aW.join(this.dirname,this.stem+(h||""))}get path(){return this.history[this.history.length-1]}set path(h){isUrl(h)&&(h=function(h){if("string"==typeof h)h=new URL(h);else if(!isUrl(h)){let m=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+h+"`");throw m.code="ERR_INVALID_ARG_TYPE",m}if("file:"!==h.protocol){let h=TypeError("The URL must be of scheme file");throw h.code="ERR_INVALID_URL_SCHEME",h}return function(h){if(""!==h.hostname){let h=TypeError('File URL host must be "localhost" or empty on darwin');throw h.code="ERR_INVALID_FILE_URL_HOST",h}let m=h.pathname,_=-1;for(;++_<m.length;)if(37===m.codePointAt(_)&&50===m.codePointAt(_+1)){let h=m.codePointAt(_+2);if(70===h||102===h){let h=TypeError("File URL path must not include encoded / characters");throw h.code="ERR_INVALID_FILE_URL_PATH",h}}return decodeURIComponent(m)}(h)}(h)),assertNonEmpty(h,"path"),this.path!==h&&this.history.push(h)}get stem(){return"string"==typeof this.path?aW.basename(this.path,this.extname):void 0}set stem(h){assertNonEmpty(h,"stem"),assertPart(h,"stem"),this.path=aW.join(this.dirname||"",h+(this.extname||""))}fail(h,m,_){let v=this.message(h,m,_);throw v.fatal=!0,v}info(h,m,_){let v=this.message(h,m,_);return v.fatal=void 0,v}message(h,m,_){let v=new VFileMessage(h,m,_);return this.path&&(v.name=this.path+":"+v.name,v.file=this.path),v.fatal=!1,this.messages.push(v),v}toString(h){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;let m=new TextDecoder(h||void 0);return m.decode(this.value)}};function assertPart(h,m){if(h&&h.includes(aW.sep))throw Error("`"+m+"` cannot be a path: did not expect `"+aW.sep+"`")}function assertNonEmpty(h,m){if(!h)throw Error("`"+m+"` cannot be empty")}function lib_assertPath(h,m){if(!h)throw Error("Setting `"+m+"` requires `path` to be set too")}let CallableInstance=function(h){let m=this.constructor,_=m.prototype,v=_[h],apply=function(){return v.apply(apply,arguments)};return Object.setPrototypeOf(apply,_),apply},aX={}.hasOwnProperty;let Processor=class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let h=[],m={run:function(...m){let _=-1,v=m.pop();if("function"!=typeof v)throw TypeError("Expected function as last argument, not "+v);(function next(b,...A){let C=h[++_],S=-1;if(b){v(b);return}for(;++S<m.length;)(null===A[S]||void 0===A[S])&&(A[S]=m[S]);m=A,C?(function(h,m){let _;return function(...m){let v;let b=h.length>m.length;b&&m.push(done);try{v=h.apply(this,m)}catch(h){if(b&&_)throw h;return done(h)}b||(v&&v.then&&"function"==typeof v.then?v.then(then,done):v instanceof Error?done(v):then(v))};function done(h,...v){_||(_=!0,m(h,...v))}function then(h){done(null,h)}})(C,next)(...A):v(null,...A)})(null,...m)},use:function(_){if("function"!=typeof _)throw TypeError("Expected `middelware` to be a function, not "+_);return h.push(_),m}};return m}()}copy(){let h=new Processor,m=-1;for(;++m<this.attachers.length;){let _=this.attachers[m];h.use(..._)}return h.data(aq(!0,{},this.namespace)),h}data(h,m){return"string"==typeof h?2==arguments.length?(assertUnfrozen("data",this.frozen),this.namespace[h]=m,this):aX.call(this.namespace,h)&&this.namespace[h]||void 0:h?(assertUnfrozen("data",this.frozen),this.namespace=h,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[h,...m]=this.attachers[this.freezeIndex];if(!1===m[0])continue;!0===m[0]&&(m[0]=void 0);let _=h.call(this,...m);"function"==typeof _&&this.transformers.use(_)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(h){this.freeze();let m=vfile(h),_=this.parser||this.Parser;return assertParser("parse",_),_(String(m),m)}process(h,m){let _=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),m?executor(void 0,m):new Promise(executor);function executor(v,b){let A=vfile(h),C=_.parse(A);function realDone(h,_){h||!_?b(h):v?v(_):m(void 0,_)}_.run(C,A,function(h,m,v){if(h||!m||!v)return realDone(h);let b=_.stringify(m,v);"string"==typeof b||b&&"object"==typeof b&&"byteLength"in b&&"byteOffset"in b?v.value=b:v.result=b,realDone(h,v)})}}processSync(h){let m,_=!1;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(h,function(h,v){_=!0,bail(h),m=v}),assertDone("processSync","process",_),m}run(h,m,_){assertNode(h),this.freeze();let v=this.transformers;return _||"function"!=typeof m||(_=m,m=void 0),_?executor(void 0,_):new Promise(executor);function executor(b,A){let C=vfile(m);v.run(h,C,function(m,v,C){let S=v||h;m?A(m):b?b(S):_(void 0,S,C)})}}runSync(h,m){let _,v=!1;return this.run(h,m,function(h,m){bail(h),_=m,v=!0}),assertDone("runSync","run",v),_}stringify(h,m){this.freeze();let _=vfile(m),v=this.compiler||this.Compiler;return assertCompiler("stringify",v),assertNode(h),v(h,_)}use(h,...m){let _=this.attachers,v=this.namespace;if(assertUnfrozen("use",this.frozen),null==h);else if("function"==typeof h)addPlugin(h,m);else if("object"==typeof h)Array.isArray(h)?addList(h):addPreset(h);else throw TypeError("Expected usable value, not `"+h+"`");return this;function addPreset(h){if(!("plugins"in h)&&!("settings"in h))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");addList(h.plugins),h.settings&&(v.settings=aq(!0,v.settings,h.settings))}function addList(h){let m=-1;if(null==h);else if(Array.isArray(h))for(;++m<h.length;){let _=h[m];!function(h){if("function"==typeof h)addPlugin(h,[]);else if("object"==typeof h){if(Array.isArray(h)){let[m,..._]=h;addPlugin(m,_)}else addPreset(h)}else throw TypeError("Expected usable value, not `"+h+"`")}(_)}else throw TypeError("Expected a list of plugins, not `"+h+"`")}function addPlugin(h,m){let v=-1,b=-1;for(;++v<_.length;)if(_[v][0]===h){b=v;break}if(-1===b)_.push([h,...m]);else if(m.length>0){let[v,...A]=m,C=_[b][1];is_plain_obj_isPlainObject(C)&&is_plain_obj_isPlainObject(v)&&(v=aq(!0,C,v)),_[b]=[h,v,...A]}}}};let aK=new Processor().freeze();function assertParser(h,m){if("function"!=typeof m)throw TypeError("Cannot `"+h+"` without `parser`")}function assertCompiler(h,m){if("function"!=typeof m)throw TypeError("Cannot `"+h+"` without `compiler`")}function assertUnfrozen(h,m){if(m)throw Error("Cannot call `"+h+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(h){if(!is_plain_obj_isPlainObject(h)||"string"!=typeof h.type)throw TypeError("Expected node, got `"+h+"`")}function assertDone(h,m,_){if(!_)throw Error("`"+h+"` finished async. Use `"+m+"` instead")}function vfile(h){return h&&"object"==typeof h&&"message"in h&&"messages"in h?h:new VFile(h)}var aJ={exports:{}},aZ={};aJ.exports=function(){if(eb)return aZ;eb=1;var h=Symbol.for("react.element"),m=Symbol.for("react.fragment"),_=Object.prototype.hasOwnProperty,v=eD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b={key:!0,ref:!0,__self:!0,__source:!0};function x(m,A,C){var S,I={},w=null,O=null;for(S in void 0!==C&&(w=""+C),void 0!==A.key&&(w=""+A.key),void 0!==A.ref&&(O=A.ref),A)_.call(A,S)&&!b.hasOwnProperty(S)&&(I[S]=A[S]);if(m&&m.defaultProps)for(S in A=m.defaultProps)void 0===I[S]&&(I[S]=A[S]);return{$$typeof:h,type:m,key:w,ref:O,props:I,_owner:v.current}}return aZ.Fragment=m,aZ.jsx=x,aZ.jsxs=x,aZ}();var a0=aJ.exports;async function mr(h){let m=await aK().use(remarkParse).use(remarkGfm).use(remarkRehype,{allowDangerousHtml:!0}).use(rehypeRaw).use(rehypeStringify).processSync(h);return String(m)}var a1=_(4921);let a2={annotations:[],manifest:void 0,searchString:void 0,options:{offset:0},vault:new Vault};function scroll_se(h,m){switch(m.type){case"updateAnnotations":return{...h,annotations:m.payload};case"updateSearchString":return{...h,searchString:m.payload};default:return h}}let a3=(0,eD.createContext)({dispatch:()=>null,state:a2}),scroll_ce=h=>{let{children:m,manifest:_}=h,v={...a2.options,...h.options},[b,A]=(0,eD.useReducer)(scroll_se,a2);return eD.createElement(a3.Provider,{value:{state:{...b,manifest:_,options:v},dispatch:A}},m)},scroll_de=(h,m="none")=>{if(!h)return null;if("string"==typeof h)return[h];if(!h[m]){let m=Object.getOwnPropertyNames(h);if(m.length>0)return h[m[0]]}return h[m]&&Array.isArray(h[m])?h[m]:null},scroll_M=(h,m="none",_=", ")=>{let v=scroll_de(h,m);return Array.isArray(v)?v.join(`${_}`):v};function T(h,m){let _=Object.keys(h).filter(h=>m.includes(h)?null:h),v={};return _.forEach(m=>{v[m]=h[m]}),v}let{styled:a4,css:a5,keyframes:a6,createTheme:a8}=(0,eL.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:{xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"}}),a9=a4("span",{}),scroll_F=h=>{let{as:m,label:_}=h,v=T(h,["as","label"]);return eD.createElement(a9,{as:m,...v},scroll_M(_,v.lang))};a4("img",{objectFit:"cover"}),a4("a",{});let a7={delimiter:", "},oe=(0,eD.createContext)(void 0),xe=()=>{let h=(0,eD.useContext)(oe);if(void 0===h)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return h},ve=({children:h,initialState:m=a7})=>{let _=we(m,"delimiter");return eD.createElement(oe.Provider,{value:{delimiter:_}},h)},we=(h,m)=>Object.hasOwn(h,m)?h[m].toString():void 0,ot=a4("span",{}),scroll_O=h=>{let{as:m,markup:_}=h,{delimiter:v}=xe();if(!_)return eD.createElement(eD.Fragment,null);let b=T(h,["as","markup"]),A={__html:ny(scroll_M(_,b.lang,v),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eD.createElement(ot,{as:m,...b,dangerouslySetInnerHTML:A})},scroll_Se=h=>eD.useContext(oe)?eD.createElement(scroll_O,{...h}):eD.createElement(ve,null,eD.createElement(scroll_O,{...h}));a4("span",{}),a4("dl",{}),a4("li",{}),a4("ul",{}),a4("li",{}),a4("ul",{}),a4("dl",{}),a4("li",{}),a4("ul",{});let Ee=h=>{let{as:m,summary:_}=h,v=T(h,["as","customValueDelimiter","summary"]);return eD.createElement(scroll_Se,{as:m,markup:_,...v})},on=a4("div",{display:"flex",flexDirection:"column",justifyContent:"space-between"}),or=a4("aside",{margin:"0",padding:"0",position:"relative",zIndex:2,flexGrow:"1",flexShrink:"0",[`& ${on}`]:{position:"absolute",width:"50%",top:0},"&.anchor":{[`& ${on}`]:{position:"fixed",width:"50%"}}}),oi=a4("header",{display:"flex",justifyContent:"space-between",fontSize:"1",flexGrow:"1",flexShrink:"0",marginBottom:"1.618rem",strong:{fontWeight:"400",fontSize:"1.33rem"}}),oa=a4("section",{margin:"0",gap:"1rem"}),ke=({label:h})=>eD.createElement(oi,null,eD.createElement("strong",null,eD.createElement(scroll_F,{label:h}))),os=a4("article",{transition:"all 0.382s ease-in-out",display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"2.618rem"}),ol=a4("div",{transition:"$all",width:"50%",opacity:0,transform:"translateX(2.618rem)",zIndex:-1}),oc=a4("div",{width:"50%",display:"flex",flexDirection:"column",justifyContent:"flex-start"}),ou=a4("hr",{margin:"0",borderColor:"transparent",height:"1.618rem",position:"relative",zIndex:0,display:"flex",justifyContent:"flex-end",marginTop:"2.618rem","&::before":{content:"attr(aria-label)",position:"absolute",right:"1.618rem",bottom:"0",zIndex:1,display:"flex",fontSize:"0.7222rem",fontWeight:"400",lineHeight:"1rem",background:"inherit",opacity:.7},"&::after":{content:"",width:"100%",position:"absolute",zIndex:0,height:"1px",background:"#6662"}}),od=a4("div",{position:"relative",zIndex:"1",display:"flex",flexDirection:"column",gap:"2.618rem","&[data-figures-visible='true']":{[`& ${ol}`]:{opacity:1,zIndex:0,transform:"translateX(0)"}}}),scroll_e=({canvas:h,canvasInfo:{current:m,total:_}})=>eD.createElement("figcaption",null,eD.createElement("em",null,m," / ",_),(null==h?void 0:h.label)&&eD.createElement(scroll_F,{label:null==h?void 0:h.label}),(null==h?void 0:h.summary)&&eD.createElement(Ee,{summary:null==h?void 0:h.summary,as:"p"})),oh=window.OpenSeadragon;if(!oh&&!(oh=eO))throw Error("OpenSeadragon is missing.");let op="http://www.w3.org/2000/svg";oh.Viewer&&(oh.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new scroll_K(this)),this._svgOverlayInfo});let scroll_K=function(h){let m=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(op,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(op,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){m.resize()}),this._viewer.addHandler("open",function(){m.resize()}),this._viewer.addHandler("rotate",function(){m.resize()}),this._viewer.addHandler("flip",function(){m.resize()}),this._viewer.addHandler("resize",function(){m.resize()}),this.resize()};scroll_K.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new oh.Point(0,0),!0),m=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),v=this._viewer.viewport.getFlip(),b=this._viewer.viewport._containerInnerSize.x,A=b*m,C=A;v&&(A=-A,h.x=-h.x+b),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+A+","+C+") rotate("+_+")")},onClick:function(h,m){new oh.MouseTracker({element:h,clickHandler:m}).setTracking(!0)}};let Be=h=>fetch(`${h.replace(/\/$/,"")}/info.json`).then(h=>h.json()).then(h=>h).catch(m=>{console.error(`The IIIF tilesource ${h.replace(/\/$/,"")}/info.json failed to load: ${m}`)}),Pe=h=>{let m,_;return Array.isArray(h)&&(m=h[0])&&(_="@id"in m?m["@id"]:m.id),_};var om=((Z=om||{}).TiledImage="tiledImage",Z.SimpleImage="simpleImage",Z);let Me=h=>{let m=Array.isArray(null==h?void 0:h.service)&&(null==h?void 0:h.service.length)>0,_=m?Pe(null==h?void 0:h.service):null==h?void 0:h.id,v=m?om.TiledImage:om.SimpleImage;return{uri:_,imageType:v}},scroll_Te=(h,m)=>{let _=m?om.TiledImage:om.SimpleImage;return{uri:h,imageType:_}},of=a4("div",{display:"flex",flexDirection:"column",alignItems:"center"}),og=a4("p",{fontWeight:"bold",fontSize:"x-large"}),o_=a4("span",{fontSize:"medium"}),He=({error:h})=>{let{message:m}=h;return eD.createElement(of,{role:"alert"},eD.createElement(og,{"data-testid":"headline"},"Something went wrong"),m&&eD.createElement(o_,null,`Error message: ${m}`," "))},oE=a4("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),ov=a4("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),oT=a4("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${oE}`]:{display:"block"}},false:{[`${oE}`]:{display:"none"}}}}}),oy=a4("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),E=({className:h,id:m,label:_,children:v})=>{let b=_.toLowerCase().replace(/\s/g,"-");return eD.createElement(oy,{id:m,className:h,"data-testid":"openseadragon-button","data-button":b},eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${m}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eD.createElement("title",{id:`${m}-svg-title`},_),v))},ob=a4("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),oA={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}},ox=(ee=null==(eA=null==(ek=null==oA?void 0:oA.informationPanel)?void 0:ek.vtt)?void 0:eA.autoScroll,C={...oA.informationPanel.vtt.autoScroll},"object"==typeof ee&&(C="enabled"in ee?ee:{enabled:!0,settings:ee}),!1===ee&&(C.enabled=!1),function({behavior:h,block:m}){let _=["auto","instant","smooth"],v=["center","end","nearest","start"];if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`);if(!v.includes(m))throw TypeError(`'${m}' not in ${v.join(" | ")}`)}(C.settings),C),oC={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:oA,customDisplays:[],plugins:[],isAutoScrollEnabled:ox.enabled,isAutoScrolling:!1,isInformationOpen:null==(ex=null==oA?void 0:oA.informationPanel)?void 0:ex.open,isLoaded:!1,isUserScrolling:void 0,vault:new Vault,contentSearchVault:new Vault,openSeadragonViewer:null,viewerId:esm_browser_v4()},oS=eD.createContext(oC),oI=eD.createContext(oC);function scroll_W(){let h=eD.useContext(oS);if(void 0===h)throw Error("useViewerState must be used within a ViewerProvider");return h}function scroll_J(){let h=eD.useContext(oI);if(void 0===h)throw Error("useViewerDispatch must be used within a ViewerProvider");return h}let Ke=()=>eD.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),Ye=()=>eD.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),Je=()=>eD.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),Qe=()=>eD.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),V=()=>eD.createElement(eD.Fragment,null,eD.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eD.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),et=({_cloverViewerHasPlaceholder:h,config:m})=>{let _=scroll_W(),{activeCanvas:v,plugins:b,vault:A}=_,C=A.get({id:v,type:"Canvas"});return eD.createElement(ob,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:h},m.showZoomControl&&eD.createElement(eD.Fragment,null,eD.createElement(E,{id:m.zoomInButton,label:"zoom in"},eD.createElement(Ke,null)),eD.createElement(E,{id:m.zoomOutButton,label:"zoom out"},eD.createElement(Ye,null))),m.showFullPageControl&&eD.createElement(E,{id:m.fullPageButton,label:"full page"},eD.createElement(Je,null)),m.showRotationControl&&eD.createElement(eD.Fragment,null,eD.createElement(E,{id:m.rotateRightButton,label:"rotate right"},eD.createElement(V,null)),eD.createElement(E,{id:m.rotateLeftButton,label:"rotate left"},eD.createElement(V,null))),m.showHomeControl&&eD.createElement(E,{id:m.homeButton,label:"reset"},eD.createElement(Qe,null)),b.filter(h=>{var m;return null==(m=h.imageViewer)?void 0:m.controls}).map((h,m)=>{var _,v,b,A;let S=null==(v=null==(_=h.imageViewer)?void 0:_.controls)?void 0:v.component;return eD.createElement(S,{key:m,...null==(A=null==(b=null==h?void 0:h.imageViewer)?void 0:b.controls)?void 0:A.componentProps,canvas:C,useViewerDispatch:scroll_J,useViewerState:scroll_W})}))},tt=({ariaLabel:h,config:m,uri:_,_cloverViewerHasPlaceholder:v,imageType:b,openSeadragonCallback:A})=>{let[C,S]=(0,eD.useState)(),[I,w]=(0,eD.useState)(),O=scroll_J(),L=(0,eD.useRef)(!1);return(0,eD.useEffect)(()=>(L.current||(L.current=!0,I||w(eO(m))),()=>null==I?void 0:I.destroy()),[]),(0,eD.useEffect)(()=>{I&&A&&A(I)},[I,A]),(0,eD.useEffect)(()=>{I&&_!==C&&(null==I||I.forceRedraw(),S(_))},[I,C,_]),(0,eD.useEffect)(()=>{if(C&&I)switch(b){case"simpleImage":null==I||I.addSimpleImage({url:C});break;case"tiledImage":Be(C).then(h=>{try{if(!h)throw Error(`No tile source found for ${C}`);null==I||I.addTiledImage({tileSource:h,success:()=>{"function"==typeof O&&O({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(h){console.error(h)}});break;default:null==I||I.close(),console.warn(`Unable to render ${C} in OpenSeadragon as type: "${b}"`)}},[b,C]),eD.createElement(oT,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":m.id,hasNavigator:m.showNavigator},eD.createElement(et,{_cloverViewerHasPlaceholder:v,config:m}),m.showNavigator&&eD.createElement(oE,{id:m.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eD.createElement(ov,{id:m.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...h&&{"aria-label":h}}))},nt=({_cloverViewerHasPlaceholder:h=!1,body:m,instanceId:_,isTiledImage:v=!1,label:b,src:A="",openSeadragonCallback:C,openSeadragonConfig:S={}})=>{let I=_||esm_browser_v4(),w="string"==typeof b?b:scroll_M(b),O={id:`openseadragon-${I}`,navigatorId:`openseadragon-navigator-${I}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${I}`,homeButton:`reset-${I}`,rotateLeftButton:`rotateLeft-${I}`,rotateRightButton:`rotateRight-${I}`,zoomInButton:`zoomIn-${I}`,zoomOutButton:`zoomOut-${I}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...S},{imageType:L,uri:M}=m?Me(m):scroll_Te(A,v);return M?eD.createElement(eR.SV,{FallbackComponent:He},eD.createElement(tt,{_cloverViewerHasPlaceholder:h,ariaLabel:w,config:O,imageType:L,key:I,uri:M,openSeadragonCallback:C})):null},ow=a4("div",{width:"100%",height:"400px",background:"#6662",backgroundSize:"contain",color:"white",position:"relative",zIndex:"1",overflow:"hidden"}),it=({body:h,label:m})=>eD.createElement(ow,{"data-testid":"scroll-figure-image"},eD.createElement(nt,{body:h,openSeadragonConfig:{showNavigator:!1,showHomeControl:!1},...m&&{label:m}})),oN=a4("figure",{figcaption:{display:"flex",flexDirection:"column",margin:"1.618rem 0 0",opacity:.9,em:{fontSize:"0.9em",fontStyle:"normal",opacity:.7}}}),lt=(h,m,_,v)=>{var b,A;let C={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(C.canvas=h.get(m),C.canvas&&(C.annotationPage=h.get(C.canvas.items[0]),C.accompanyingCanvas=null!=(b=C.canvas)&&b.accompanyingCanvas?h.get(null==(A=C.canvas)?void 0:A.accompanyingCanvas):void 0),C.annotationPage){let b=h.get(C.annotationPage.items).map(m=>({body:h.get(m.body[0].id),motivation:m.motivation,type:"Annotation"})),A=[];b.forEach(m=>{"Choice"===m.body.type?m.body.items.forEach(_=>A.push({...m,id:_.id,body:h.get(_.id)})):A.push(m)}),C.annotations=A.filter(b=>{if(b){if(!b.body||!b.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",b);return}let A=b.body;Array.isArray(A)&&(A=A[0]);let C=h.get(A.id);if(C)switch(_){case"painting":return b.target===m.id&&b.motivation&&"painting"===b.motivation[0]&&v.includes(C.type)&&(b.body=C),!!b;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return C},st=(h,m)=>{let _=lt(h,{id:m,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==_.annotations.length&&_.annotations&&_.annotations)return _.annotations.map(h=>null==h?void 0:h.body)},ct=({canvas:h,canvasInfo:m})=>{let{state:_}=(0,eD.useContext)(a3),{vault:v}=_,b=st(v,h.id);return b?eD.createElement(oN,null,null==b?void 0:b.map(m=>eD.createElement(it,{body:m,key:null==m?void 0:m.id,label:null==h?void 0:h.label})),eD.createElement(scroll_e,{canvas:h,canvasInfo:m})):null},oO="255, 197, 32",oR=a4("div",{ul:{padding:"1rem"},li:{listStyleType:"disc",li:{listStyleType:"circle"}},"span.highlight":{position:"relative",fontWeight:"bold","&::before":{top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",borderRadius:"3px",border:`1px solid rgba(${oO}, 0.2)`,borderBottom:`1px solid rgba(${oO}, 0.618)`,boxShadow:"1px 1px 1px #6661"},"&::after":{left:"0",top:"0",position:"absolute",display:"inline",content:"",width:"calc(100% + 4px)",height:"calc(100% + 2px) ",marginLeft:"-2px",marginTop:"-1px",borderRadius:"3px",backgroundColor:`rgba(${oO}, 0.2)`,zIndex:-1}}}),ut=({searchString:h="",content:m,stringLength:_=150})=>{let v=m.toLowerCase().indexOf(h.toLowerCase());if(-1!==v){let b=Math.max(0,v-_/2),A=Math.min(m.length,v+h.length+_/2);if(b>0){let h=m.lastIndexOf(" ",b+1);b=h>0?h+1:b}if(A<m.length){let h=m.indexOf(" ",A-1);A=h>-1?h:A}m=(b>0?"... ":"")+m.substring(b,A)+(A<m.length?" ...":"")}else m=m.substring(0,_)+"...";return m},scroll_Q=({body:h,stringLength:m,type:_="content"})=>{let v;let{state:b}=(0,eD.useContext)(a3),{searchString:A}=b,C=String(h.value);"snippet"==_&&(C=ut({searchString:A,content:C,stringLength:m}));let S=function(h){let[m,_]=eD.useState("");return eD.useEffect(()=>{(async()=>{let m=await mr(h);_(m)})()},[h]),{html:m,jsx:a0.jsx("div",{dangerouslySetInnerHTML:{__html:m}})}}(C);if("text/plain"===h.format&&(v=null==C?void 0:C.replace(/\n/g,"<br />")),"text/markdown"===h.format&&(v=null==S?void 0:S.html),"text/html"===h.format&&(v=C),A&&v){let h=RegExp(`(${A})`,"gi");v=null==v?void 0:v.replace(h,h=>`<span class="highlight">${h}</span>`)}let I=[h.id,_].join("-"),w=["ar"].includes(String(h.language));return v?eD.createElement(oR,{dangerouslySetInnerHTML:{__html:v},"data-body-id":I,"data-testid":"scroll-item-body",id:I,dir:w?"rtl":"ltr",css:{fontSize:w?"1.3em":"1em"}}):null},oL=eD.memo(({hasItemBreak:h,isLastItem:m,item:_,itemCount:v,itemNumber:b})=>{var A;let{state:C}=eD.useContext(a3),{annotations:S,vault:I}=C,w=null==I?void 0:I.get(_),O=null==(A=null==S?void 0:S.filter(h=>h.target===_.id))?void 0:A.map(h=>{var m;return null==(m=null==h?void 0:h.body)?void 0:m.map((h,m)=>eD.createElement(scroll_Q,{body:h,key:m}))}),L={current:b,total:v};return eD.createElement(os,{"data-page-break":h,"data-page-number":b,"data-last-item":m},eD.createElement(ol,null,w&&eD.createElement(ct,{canvas:w,canvasInfo:L})),eD.createElement(oc,null,(null==w?void 0:w.label)&&eD.createElement("strong",null,eD.createElement(scroll_F,{label:null==w?void 0:w.label})," ",`(${L.current} / ${L.total})`),eD.createElement("div",null,O||eD.createElement("p",null,"[Blank]")),h&&eD.createElement(ou,{"aria-label":"Page Break"})))}),oD="255, 197, 32",oP=a4("span",{fontWeight:"700"}),oM=a4("div",{display:"flex",gap:"0.25rem"}),oF=a4("div",{fontSize:"0.9rem",padding:"1rem 0.618rem"}),oB=a4("div",{display:"flex",flexDirection:"column",gap:"0.5rem",hr:{margin:"0.618rem",border:"none",borderBottom:"1px solid #6662"},button:{backgroundColor:"#6660",opacity:"0.7",transition:"$all",padding:"0.5rem 0.618rem",fontSize:"0.9rem",lineHeight:"1.1rem",textAlign:"left",borderRadius:"6px",border:"1px solid #6662",display:"flex",flexDirection:"column",gap:"0.25rem","&:hover":{opacity:"1",boxShadow:"5px 5px 13px #6662"},"&[data-result=true]":{backgroundColor:`rgba(${oD}, 0.2)`,borderColor:`rgba(${oD}, 0.2)`,opacity:"1","&:hover":{backgroundColor:`rgba(${oD}, 0.2)`}}}}),oH=a4("input",{margin:"0",padding:"0 1rem 0 2rem",background:"none",zIndex:"2",height:"2rem",marginLeft:"1rem",marginTop:"1rem",justifyContent:"center",display:"flex",alignItems:"center",fontSize:"1rem",borderRadius:"2rem",fontFamily:"inherit",backgroundColor:"$primary",border:"none",color:"$secondary",cursor:"text",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important",flexGrow:"0",width:"100%","&:placeholder":{color:"inherit"}}),oU=a4("span",{position:"absolute",zIndex:"3",width:"2rem",height:"2rem",padding:"8px",marginTop:"1rem",marginLeft:"1rem",color:"$secondary",fill:"$secondary",stroke:"$secondary",transition:"$all",cursor:"text"}),o$=a4("button",{opacity:"1",display:"flex",alignItems:"center",borderRadius:"2rem",width:"2rem",height:"2rem",alignSelf:"center",marginTop:"1rem",gap:"0.35rem",backgroundColor:"$accent",fill:"$secondary",flexShrink:"0",svg:{padding:"6px",color:"inherit",fill:"inherit"},'&[aria-disabled="true"]':{opacity:"0",display:"none"}}),oz=a4("form",{display:"flex",justifyContent:"space-between",gap:"1rem",width:"100%",variants:{isPanelExpanded:{true:{[`${oU}`]:{marginLeft:"0"},[`& ${oH}`]:{marginLeft:"0",backgroundColor:"$primary",width:"auto",flexGrow:"1"}},false:{}}}}),oG=a4("div",{}),scroll_D=({annotation:h,isResult:m})=>{var _,v;let b=[null==(_=null==h?void 0:h.body)?void 0:_.id,"content"].join("-"),l=h=>{var m;h&&(null==(m=document.getElementById(h))||m.scrollIntoView({behavior:"smooth"}))};return eD.createElement("button",{"data-result":m?"true":"false",onClick:()=>l(b),key:b},eD.createElement(oM,null,eD.createElement(oP,null,h.motivation),eD.createElement("span",null,null==(v=null==h?void 0:h.body)?void 0:v.language)),eD.createElement(scroll_Q,{body:h.body,stringLength:144,type:"snippet"}))},St=({results:h})=>eD.createElement(oB,null,h.found.map(h=>eD.createElement(scroll_D,{annotation:h,isResult:!0,key:h.id})),eD.createElement("hr",null),h.notFound.map(h=>eD.createElement(scroll_D,{annotation:h,key:h.id}))),oj={charset:"latin:extra, arabic:extra, cyrillic:extra, cjk:extra",optimize:!0,tokenize:"full",resolution:9,document:{id:"id",index:"content"}},bt=()=>{var h;let{state:m}=(0,eD.useContext)(a3),{annotations:_,searchString:v=""}=m,b=new a1.Z.Document(oj),A=[];function i(h){return h.map(h=>null==_?void 0:_.filter(m=>m.body.find(m=>m.id===h)).map(m=>{let _=m.body.findIndex(m=>m.id===h);return{...m,body:m.body[_]}}).shift())}null==_||_.forEach(h=>{var m;null==(m=null==h?void 0:h.body)||m.forEach(h=>{var m;let _=null==(m=null==h?void 0:h.value)?void 0:m.replace(/\n/g,"");A.push(null==h?void 0:h.id),b.add({id:null==h?void 0:h.id,content:_})})});let C=null==b?void 0:b.search(v).reduce((h,m)=>[...new Set([...h,...m.result])],[]),S={found:i(C),notFound:i(A.filter(h=>!C.includes(h)))};return eD.createElement(oG,null,v&&eD.createElement(oF,null,null==(h=S.found)?void 0:h.length," results for ",eD.createElement("strong",null,v)),eD.createElement(St,{results:S}))},It=()=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eD.createElement("title",null,"Search"),eD.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Ct=()=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eD.createElement("title",null,"Close"),eD.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),kt=({togglePanel:h,isPanelExpanded:m})=>{let{dispatch:_,state:v}=(0,eD.useContext)(a3),{searchString:b}=v,A=(0,eD.useRef)(null),s=()=>A.current===document.activeElement&&h(!0),a=()=>{var m;null==(m=A.current)||m.blur(),u(),h(!1),_({payload:"",type:"updateSearchString"})},u=()=>{A.current&&(A.current.value="")},p=h=>{"Escape"===h.key&&(h.preventDefault(),a())};return(0,eD.useEffect)(()=>(null==document||document.addEventListener("keydown",p),()=>{null==document||document.removeEventListener("keydown",p)}),[]),(0,eD.useEffect)(()=>{if(null!=A&&A.current)return A.current.addEventListener("focus",s),A.current.addEventListener("blur",s),()=>{A.current&&(A.current.removeEventListener("focus",s),A.current.removeEventListener("blur",s))}},[]),eD.createElement(oz,{id:"scroll-search",autoComplete:"off",isPanelExpanded:m},eD.createElement(oU,{onClick:()=>{var h;return null==(h=null==A?void 0:A.current)?void 0:h.focus()}},eD.createElement(It,null)),eD.createElement(oH,{ref:A,name:"clover-search",type:"text",placeholder:"Search...",defaultValue:b,onChange:h=>{var m;_({payload:null==(m=null==h?void 0:h.target)?void 0:m.value,type:"updateSearchString"})}}),eD.createElement(o$,{"aria-disabled":!m,"aria-label":"Close search panel",onClick:h=>{h.preventDefault(),a()},disabled:!m},eD.createElement(Ct,null)))},oV=a4("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maxWidth:"100%",marginTop:"1rem",transition:"$all",variants:{isPanelExpanded:{true:{zIndex:1,opacity:1,transform:"translateX(0)"},false:{zIndex:-1,opacity:0,transform:"translateX(-2.618rem)",transitionDelay:"0",transition:"none"}}}}),zt=h=>{let[m,_]=(0,eD.useState)({top:0,left:0});return(0,eD.useEffect)(()=>{let l=()=>{if(h.current){let m=h.current.getBoundingClientRect();_({top:m.top,left:m.left})}};return window.addEventListener("scroll",l),window.addEventListener("resize",l),l(),()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[h]),m},Lt=({isPanelExpanded:h,handlePanel:m})=>{var _;let v=(0,eD.useRef)(null),{state:b}=(0,eD.useContext)(a3),{options:A}=b,{offset:C}=A,{top:S}=zt(v),I=!!S&&S<C,w=null==(_=null==v?void 0:v.current)?void 0:_.offsetWidth,O=w&&.5*w,L={top:I?C:0,width:`calc(${O}px - 1.318rem)`,maxWidth:h?"100%":`${O?O-315:180}px`,minWidth:"130px"};return eD.createElement(or,{ref:v,className:I?"anchor":"","data-testid":"scroll-panel"},eD.createElement(on,{style:L},eD.createElement(kt,{togglePanel:m,isPanelExpanded:h}),eD.createElement(oV,{"data-testid":"scroll-panel-results","data-panel-expanded":h,isPanelExpanded:h},h&&eD.createElement(bt,null))))},At=({items:h})=>{let[m,_]=(0,eD.useState)(!1);return eD.createElement(eD.Fragment,null,eD.createElement(Lt,{isPanelExpanded:m,handlePanel:h=>_(h)}),eD.createElement(od,{"data-figures-visible":!m},h.map((m,_)=>{let v=_+1,b=v===h.length;return eD.createElement(oL,{item:m,hasItemBreak:v<h.length,isLastItem:b,key:m.id,itemCount:h.length,itemNumber:v})})))},_t=(h,m)=>{let[_,v]=(0,eD.useState)([]);return(0,eD.useEffect)(()=>{if(!m)return;let _=[];null==h||h.forEach(h=>{var v;let b=m.get(h);null==(v=null==b?void 0:b.annotations)||v.forEach(h=>{var v;let b=m.get(h);null==(v=null==b?void 0:b.items)||v.forEach(h=>{var v;let b=m.get(h);b&&_.push({...b,body:null==(v=null==b?void 0:b.body)?void 0:v.map(h=>m.get(h))})})})});let b=_.reduce((h,m)=>(h.some(h=>h.id===m.id)||h.push(m),h),[]);v(b)},[h,m]),_},Bt=({iiifContent:h})=>{let[m,_]=(0,eD.useState)(),{state:v,dispatch:b}=(0,eD.useContext)(a3),{vault:A}=v,C=_t(null==m?void 0:m.items,A);return(0,eD.useEffect)(()=>{A&&A.load(h).then(h=>h&&_(h)).catch(m=>console.error(`Manifest ${h} failed to load: ${m}`))},[h,A]),(0,eD.useEffect)(()=>{b({type:"updateAnnotations",payload:C})},[C,b]),m?eD.createElement(oa,null,m.label&&eD.createElement(ke,{label:m.label}),m.items&&eD.createElement(At,{items:m.items})):null},Xt=({iiifContent:h,options:m})=>eD.createElement(scroll_ce,{options:m},eD.createElement(Bt,{iiifContent:h}));var oq=_(9897);let{slice:oW,forEach:oY}=[],oQ=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=(h,m,_)=>{let v=_||{};v.path=v.path||"/";let b=encodeURIComponent(m),A=`${h}=${b}`;if(v.maxAge>0){let h=v.maxAge-0;if(Number.isNaN(h))throw Error("maxAge should be a Number");A+=`; Max-Age=${Math.floor(h)}`}if(v.domain){if(!oQ.test(v.domain))throw TypeError("option domain is invalid");A+=`; Domain=${v.domain}`}if(v.path){if(!oQ.test(v.path))throw TypeError("option path is invalid");A+=`; Path=${v.path}`}if(v.expires){if("function"!=typeof v.expires.toUTCString)throw TypeError("option expires is invalid");A+=`; Expires=${v.expires.toUTCString()}`}if(v.httpOnly&&(A+="; HttpOnly"),v.secure&&(A+="; Secure"),v.sameSite){let h="string"==typeof v.sameSite?v.sameSite.toLowerCase():v.sameSite;switch(h){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}}return A},oX={create(h,m,_,v){let b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};_&&(b.expires=new Date,b.expires.setTime(b.expires.getTime()+6e4*_)),v&&(b.domain=v),document.cookie=serializeCookie(h,encodeURIComponent(m),b)},read(h){let m=`${h}=`,_=document.cookie.split(";");for(let h=0;h<_.length;h++){let v=_[h];for(;" "===v.charAt(0);)v=v.substring(1,v.length);if(0===v.indexOf(m))return v.substring(m.length,v.length)}return null},remove(h){this.create(h,"",-1)}};var oK={name:"cookie",lookup(h){let{lookupCookie:m}=h;if(m&&"undefined"!=typeof document)return oX.read(m)||void 0},cacheUserLanguage(h,m){let{lookupCookie:_,cookieMinutes:v,cookieDomain:b,cookieOptions:A}=m;_&&"undefined"!=typeof document&&oX.create(_,h,v,b,A)}},oJ={name:"querystring",lookup(h){let m,{lookupQuerystring:_}=h;if("undefined"!=typeof window){let{search:h}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(h=window.location.hash.substring(window.location.hash.indexOf("?")));let v=h.substring(1),b=v.split("&");for(let h=0;h<b.length;h++){let v=b[h].indexOf("=");if(v>0){let A=b[h].substring(0,v);A===_&&(m=b[h].substring(v+1))}}}return m}};let oZ=null,localStorageAvailable=()=>{if(null!==oZ)return oZ;try{oZ="undefined"!==window&&null!==window.localStorage;let h="i18next.translate.boo";window.localStorage.setItem(h,"foo"),window.localStorage.removeItem(h)}catch(h){oZ=!1}return oZ};var o0={name:"localStorage",lookup(h){let{lookupLocalStorage:m}=h;if(m&&localStorageAvailable())return window.localStorage.getItem(m)||void 0},cacheUserLanguage(h,m){let{lookupLocalStorage:_}=m;_&&localStorageAvailable()&&window.localStorage.setItem(_,h)}};let o1=null,sessionStorageAvailable=()=>{if(null!==o1)return o1;try{o1="undefined"!==window&&null!==window.sessionStorage;let h="i18next.translate.boo";window.sessionStorage.setItem(h,"foo"),window.sessionStorage.removeItem(h)}catch(h){o1=!1}return o1};var o2={name:"sessionStorage",lookup(h){let{lookupSessionStorage:m}=h;if(m&&sessionStorageAvailable())return window.sessionStorage.getItem(m)||void 0},cacheUserLanguage(h,m){let{lookupSessionStorage:_}=m;_&&sessionStorageAvailable()&&window.sessionStorage.setItem(_,h)}},o3={name:"navigator",lookup(h){let m=[];if("undefined"!=typeof navigator){let{languages:h,userLanguage:_,language:v}=navigator;if(h)for(let _=0;_<h.length;_++)m.push(h[_]);_&&m.push(_),v&&m.push(v)}return m.length>0?m:void 0}},o4={name:"htmlTag",lookup(h){let m,{htmlTag:_}=h,v=_||("undefined"!=typeof document?document.documentElement:null);return v&&"function"==typeof v.getAttribute&&(m=v.getAttribute("lang")),m}},o5={name:"path",lookup(h){let{lookupFromPathIndex:m}=h;if("undefined"==typeof window)return;let _=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(Array.isArray(_))return _["number"==typeof m?m:0]?.replace("/","")}},o6={name:"subdomain",lookup(h){let{lookupFromSubdomainIndex:m}=h,_="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(_)return _["number"==typeof m?m+1:1]}};let Browser=class Browser{constructor(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(h,m)}init(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=h||{languageUtils:{}},this.options=function(h){return oY.call(oW.call(arguments,1),m=>{if(m)for(let _ in m)void 0===h[_]&&(h[_]=m[_])}),h}(m,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:h=>h}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=h=>h.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=_,this.addDetector(oK),this.addDetector(oJ),this.addDetector(o0),this.addDetector(o2),this.addDetector(o3),this.addDetector(o4),this.addDetector(o5),this.addDetector(o6)}addDetector(h){return this.detectors[h.name]=h,this}detect(h){h||(h=this.options.order);let m=[];return(h.forEach(h=>{if(this.detectors[h]){let _=this.detectors[h].lookup(this.options);_&&"string"==typeof _&&(_=[_]),_&&(m=m.concat(_))}}),m=m.map(h=>this.options.convertDetectedLanguage(h)),this.services.languageUtils.getBestMatchFromCodes)?m:m.length>0?m[0]:null}cacheUserLanguage(h,m){m||(m=this.options.caches),m&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(h)>-1||m.forEach(m=>{this.detectors[m]&&this.detectors[m].cacheUserLanguage(h,this.options)}))}};Browser.type="languageDetector";let o8={type:"logger",log(h){this.output("log",h)},warn(h){this.output("warn",h)},error(h){this.output("error",h)},output(h,m){console&&console[h]&&console[h].apply(console,m)}};let Logger=class Logger{constructor(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(h,m)}init(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=m.prefix||"i18next:",this.logger=h||o8,this.options=m,this.debug=m.debug}log(){for(var h=arguments.length,m=Array(h),_=0;_<h;_++)m[_]=arguments[_];return this.forward(m,"log","",!0)}warn(){for(var h=arguments.length,m=Array(h),_=0;_<h;_++)m[_]=arguments[_];return this.forward(m,"warn","",!0)}error(){for(var h=arguments.length,m=Array(h),_=0;_<h;_++)m[_]=arguments[_];return this.forward(m,"error","")}deprecate(){for(var h=arguments.length,m=Array(h),_=0;_<h;_++)m[_]=arguments[_];return this.forward(m,"warn","WARNING DEPRECATED: ",!0)}forward(h,m,_,v){return v&&!this.debug?null:("string"==typeof h[0]&&(h[0]=`${_}${this.prefix} ${h[0]}`),this.logger[m](h))}create(h){return new Logger(this.logger,{prefix:`${this.prefix}:${h}:`,...this.options})}clone(h){return(h=h||this.options).prefix=h.prefix||this.prefix,new Logger(this.logger,h)}};var o9=new Logger;let EventEmitter=class EventEmitter{constructor(){this.observers={}}on(h,m){return h.split(" ").forEach(h=>{this.observers[h]||(this.observers[h]=new Map);let _=this.observers[h].get(m)||0;this.observers[h].set(m,_+1)}),this}off(h,m){if(this.observers[h]){if(!m){delete this.observers[h];return}this.observers[h].delete(m)}}emit(h){for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];if(this.observers[h]){let m=Array.from(this.observers[h].entries());m.forEach(h=>{let[m,v]=h;for(let h=0;h<v;h++)m(..._)})}if(this.observers["*"]){let m=Array.from(this.observers["*"].entries());m.forEach(m=>{let[v,b]=m;for(let m=0;m<b;m++)v.apply(v,[h,..._])})}}};function defer(){let h,m;let _=new Promise((_,v)=>{h=_,m=v});return _.resolve=h,_.reject=m,_}function makeString(h){return null==h?"":""+h}let o7=/###/g;function getLastOfPath(h,m,_){function cleanKey(h){return h&&h.indexOf("###")>-1?h.replace(o7,"."):h}function canNotTraverseDeeper(){return!h||"string"==typeof h}let v="string"!=typeof m?m:m.split("."),b=0;for(;b<v.length-1;){if(canNotTraverseDeeper())return{};let m=cleanKey(v[b]);!h[m]&&_&&(h[m]=new _),h=Object.prototype.hasOwnProperty.call(h,m)?h[m]:{},++b}return canNotTraverseDeeper()?{}:{obj:h,k:cleanKey(v[b])}}function setPath(h,m,_){let{obj:v,k:b}=getLastOfPath(h,m,Object);if(void 0!==v||1===m.length){v[b]=_;return}let A=m[m.length-1],C=m.slice(0,m.length-1),S=getLastOfPath(h,C,Object);for(;void 0===S.obj&&C.length;)A=`${C[C.length-1]}.${A}`,(S=getLastOfPath(h,C=C.slice(0,C.length-1),Object))&&S.obj&&void 0!==S.obj[`${S.k}.${A}`]&&(S.obj=void 0);S.obj[`${S.k}.${A}`]=_}function getPath(h,m){let{obj:_,k:v}=getLastOfPath(h,m);if(_)return _[v]}function regexEscape(h){return h.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function i18next_escape(h){return"string"==typeof h?h.replace(/[&<>"'\/]/g,h=>sn[h]):h}let ss=[" ",",","?","!",";"],sl=new class{constructor(h){this.capacity=h,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(h){let m=this.regExpMap.get(h);if(void 0!==m)return m;let _=new RegExp(h);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(h,_),this.regExpQueue.push(h),_}}(20);function deepFind(h,m){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!h)return;if(h[m])return h[m];let v=m.split(_),b=h;for(let h=0;h<v.length;){let m;if(!b||"object"!=typeof b)return;let A="";for(let C=h;C<v.length;++C)if(C!==h&&(A+=_),A+=v[C],void 0!==(m=b[A])){if(["string","number","boolean"].indexOf(typeof m)>-1&&C<v.length-1)continue;h+=C-h+1;break}b=m}return b}function getCleanedCode(h){return h&&h.indexOf("_")>0?h.replace("_","-"):h}let ResourceStore=class ResourceStore extends EventEmitter{constructor(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=h||{},this.options=m,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(h){0>this.options.ns.indexOf(h)&&this.options.ns.push(h)}removeNamespaces(h){let m=this.options.ns.indexOf(h);m>-1&&this.options.ns.splice(m,1)}getResource(h,m,_){let v,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},A=void 0!==b.keySeparator?b.keySeparator:this.options.keySeparator,C=void 0!==b.ignoreJSONStructure?b.ignoreJSONStructure:this.options.ignoreJSONStructure;h.indexOf(".")>-1?v=h.split("."):(v=[h,m],_&&(Array.isArray(_)?v.push(..._):"string"==typeof _&&A?v.push(..._.split(A)):v.push(_)));let S=getPath(this.data,v);return(!S&&!m&&!_&&h.indexOf(".")>-1&&(h=v[0],m=v[1],_=v.slice(2).join(".")),S||!C||"string"!=typeof _)?S:deepFind(this.data&&this.data[h]&&this.data[h][m],_,A)}addResource(h,m,_,v){let b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},A=void 0!==b.keySeparator?b.keySeparator:this.options.keySeparator,C=[h,m];_&&(C=C.concat(A?_.split(A):_)),h.indexOf(".")>-1&&(C=h.split("."),v=m,m=C[1]),this.addNamespaces(m),setPath(this.data,C,v),b.silent||this.emit("added",h,m,_,v)}addResources(h,m,_){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let v in _)("string"==typeof _[v]||Array.isArray(_[v]))&&this.addResource(h,m,v,_[v],{silent:!0});v.silent||this.emit("added",h,m,_)}addResourceBundle(h,m,_,v,b){let A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},C=[h,m];h.indexOf(".")>-1&&(C=h.split("."),v=_,_=m,m=C[1]),this.addNamespaces(m);let S=getPath(this.data,C)||{};A.skipCopy||(_=JSON.parse(JSON.stringify(_))),v?function deepExtend(h,m,_){for(let v in m)"__proto__"!==v&&"constructor"!==v&&(v in h?"string"==typeof h[v]||h[v]instanceof String||"string"==typeof m[v]||m[v]instanceof String?_&&(h[v]=m[v]):deepExtend(h[v],m[v],_):h[v]=m[v]);return h}(S,_,b):S={...S,..._},setPath(this.data,C,S),A.silent||this.emit("added",h,m,_)}removeResourceBundle(h,m){this.hasResourceBundle(h,m)&&delete this.data[h][m],this.removeNamespaces(m),this.emit("removed",h,m)}hasResourceBundle(h,m){return void 0!==this.getResource(h,m)}getResourceBundle(h,m){return(m||(m=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(h,m)}:this.getResource(h,m)}getDataByLanguage(h){return this.data[h]}hasLanguageSomeTranslations(h){let m=this.getDataByLanguage(h),_=m&&Object.keys(m)||[];return!!_.find(h=>m[h]&&Object.keys(m[h]).length>0)}toJSON(){return this.data}};var sc={processors:{},addPostProcessor(h){this.processors[h.name]=h},handle(h,m,_,v,b){return h.forEach(h=>{this.processors[h]&&(m=this.processors[h].process(m,_,v,b))}),m}};let su={};let Translator=class Translator extends EventEmitter{constructor(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(h,m,_){h.forEach(h=>{m[h]&&(_[h]=m[h])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],h,this),this.options=m,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=o9.create("translator")}changeLanguage(h){h&&(this.language=h)}exists(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==h)return!1;let _=this.resolve(h,m);return _&&void 0!==_.res}extractFromKey(h,m){let _=void 0!==m.nsSeparator?m.nsSeparator:this.options.nsSeparator;void 0===_&&(_=":");let v=void 0!==m.keySeparator?m.keySeparator:this.options.keySeparator,b=m.ns||this.options.defaultNS||[],A=_&&h.indexOf(_)>-1,C=!this.options.userDefinedKeySeparator&&!m.keySeparator&&!this.options.userDefinedNsSeparator&&!m.nsSeparator&&!function(h,m,_){m=m||"",_=_||"";let v=ss.filter(h=>0>m.indexOf(h)&&0>_.indexOf(h));if(0===v.length)return!0;let b=sl.getRegExp(`(${v.map(h=>"?"===h?"\\?":h).join("|")})`),A=!b.test(h);if(!A){let m=h.indexOf(_);m>0&&!b.test(h.substring(0,m))&&(A=!0)}return A}(h,_,v);if(A&&!C){let m=h.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:h,namespaces:b};let A=h.split(_);(_!==v||_===v&&this.options.ns.indexOf(A[0])>-1)&&(b=A.shift()),h=A.join(v)}return"string"==typeof b&&(b=[b]),{key:h,namespaces:b}}translate(h,m,_){if("object"!=typeof m&&this.options.overloadTranslationOptionHandler&&(m=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof m&&(m={...m}),m||(m={}),null==h)return"";Array.isArray(h)||(h=[String(h)]);let v=void 0!==m.returnDetails?m.returnDetails:this.options.returnDetails,b=void 0!==m.keySeparator?m.keySeparator:this.options.keySeparator,{key:A,namespaces:C}=this.extractFromKey(h[h.length-1],m),S=C[C.length-1],I=m.lng||this.language,w=m.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(I&&"cimode"===I.toLowerCase()){if(w){let h=m.nsSeparator||this.options.nsSeparator;return v?{res:`${S}${h}${A}`,usedKey:A,exactUsedKey:A,usedLng:I,usedNS:S,usedParams:this.getUsedParamsDetails(m)}:`${S}${h}${A}`}return v?{res:A,usedKey:A,exactUsedKey:A,usedLng:I,usedNS:S,usedParams:this.getUsedParamsDetails(m)}:A}let O=this.resolve(h,m),L=O&&O.res,M=O&&O.usedKey||A,F=O&&O.exactUsedKey||A,B=Object.prototype.toString.apply(L),U=void 0!==m.joinArrays?m.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,G="string"!=typeof L&&"boolean"!=typeof L&&"number"!=typeof L;if($&&L&&G&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(B)&&!("string"==typeof U&&Array.isArray(L))){if(!m.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let h=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,L,{...m,ns:C}):`key '${A} (${this.language})' returned an object instead of string.`;return v?(O.res=h,O.usedParams=this.getUsedParamsDetails(m),O):h}if(b){let h=Array.isArray(L),_=h?[]:{},v=h?F:M;for(let h in L)if(Object.prototype.hasOwnProperty.call(L,h)){let A=`${v}${b}${h}`;_[h]=this.translate(A,{...m,joinArrays:!1,ns:C}),_[h]===A&&(_[h]=L[h])}L=_}}else if($&&"string"==typeof U&&Array.isArray(L))(L=L.join(U))&&(L=this.extendTranslation(L,h,m,_));else{let v=!1,C=!1,w=void 0!==m.count&&"string"!=typeof m.count,M=Translator.hasDefaultValue(m),F=w?this.pluralResolver.getSuffix(I,m.count,m):"",B=m.ordinal&&w?this.pluralResolver.getSuffix(I,m.count,{ordinal:!1}):"",U=w&&!m.ordinal&&0===m.count&&this.pluralResolver.shouldUseIntlApi(),$=U&&m[`defaultValue${this.options.pluralSeparator}zero`]||m[`defaultValue${F}`]||m[`defaultValue${B}`]||m.defaultValue;!this.isValidLookup(L)&&M&&(v=!0,L=$),this.isValidLookup(L)||(C=!0,L=A);let G=m.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,j=G&&C?void 0:L,q=M&&$!==L&&this.options.updateMissing;if(C||v||q){if(this.logger.log(q?"updateKey":"missingKey",I,S,A,q?$:L),b){let h=this.resolve(A,{...m,keySeparator:!1});h&&h.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let h=[],_=this.languageUtils.getFallbackCodes(this.options.fallbackLng,m.lng||this.language);if("fallback"===this.options.saveMissingTo&&_&&_[0])for(let m=0;m<_.length;m++)h.push(_[m]);else"all"===this.options.saveMissingTo?h=this.languageUtils.toResolveHierarchy(m.lng||this.language):h.push(m.lng||this.language);let send=(h,_,v)=>{let b=M&&v!==L?v:j;this.options.missingKeyHandler?this.options.missingKeyHandler(h,S,_,b,q,m):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(h,S,_,b,q,m),this.emit("missingKey",h,S,_,L)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?h.forEach(h=>{let _=this.pluralResolver.getSuffixes(h,m);U&&m[`defaultValue${this.options.pluralSeparator}zero`]&&0>_.indexOf(`${this.options.pluralSeparator}zero`)&&_.push(`${this.options.pluralSeparator}zero`),_.forEach(_=>{send([h],A+_,m[`defaultValue${_}`]||$)})}):send(h,A,$))}L=this.extendTranslation(L,h,m,O,_),C&&L===A&&this.options.appendNamespaceToMissingKey&&(L=`${S}:${A}`),(C||v)&&this.options.parseMissingKeyHandler&&(L="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${S}:${A}`:A,v?L:void 0):this.options.parseMissingKeyHandler(L))}return v?(O.res=L,O.usedParams=this.getUsedParamsDetails(m),O):L}extendTranslation(h,m,_,v,b){var A=this;if(this.i18nFormat&&this.i18nFormat.parse)h=this.i18nFormat.parse(h,{...this.options.interpolation.defaultVariables,..._},_.lng||this.language||v.usedLng,v.usedNS,v.usedKey,{resolved:v});else if(!_.skipInterpolation){let C;_.interpolation&&this.interpolator.init({..._,interpolation:{...this.options.interpolation,..._.interpolation}});let S="string"==typeof h&&(_&&_.interpolation&&void 0!==_.interpolation.skipOnVariables?_.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(S){let m=h.match(this.interpolator.nestingRegexp);C=m&&m.length}let I=_.replace&&"string"!=typeof _.replace?_.replace:_;if(this.options.interpolation.defaultVariables&&(I={...this.options.interpolation.defaultVariables,...I}),h=this.interpolator.interpolate(h,I,_.lng||this.language||v.usedLng,_),S){let m=h.match(this.interpolator.nestingRegexp),v=m&&m.length;C<v&&(_.nest=!1)}!_.lng&&"v1"!==this.options.compatibilityAPI&&v&&v.res&&(_.lng=this.language||v.usedLng),!1!==_.nest&&(h=this.interpolator.nest(h,function(){for(var h=arguments.length,v=Array(h),C=0;C<h;C++)v[C]=arguments[C];return b&&b[0]===v[0]&&!_.context?(A.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${m[0]}`),null):A.translate(...v,m)},_)),_.interpolation&&this.interpolator.reset()}let C=_.postProcess||this.options.postProcess,S="string"==typeof C?[C]:C;return null!=h&&S&&S.length&&!1!==_.applyPostProcessor&&(h=sc.handle(S,h,m,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...v,usedParams:this.getUsedParamsDetails(_)},..._}:_,this)),h}resolve(h){let m,_,v,b,A,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof h&&(h=[h]),h.forEach(h=>{if(this.isValidLookup(m))return;let S=this.extractFromKey(h,C),I=S.key;_=I;let w=S.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));let O=void 0!==C.count&&"string"!=typeof C.count,L=O&&!C.ordinal&&0===C.count&&this.pluralResolver.shouldUseIntlApi(),M=void 0!==C.context&&("string"==typeof C.context||"number"==typeof C.context)&&""!==C.context,F=C.lngs?C.lngs:this.languageUtils.toResolveHierarchy(C.lng||this.language,C.fallbackLng);w.forEach(h=>{this.isValidLookup(m)||(A=h,!su[`${F[0]}-${h}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(A)&&(su[`${F[0]}-${h}`]=!0,this.logger.warn(`key "${_}" for languages "${F.join(", ")}" won't get resolved as namespace "${A}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),F.forEach(_=>{let A;if(this.isValidLookup(m))return;b=_;let S=[I];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,I,_,h,C);else{let h;O&&(h=this.pluralResolver.getSuffix(_,C.count,C));let m=`${this.options.pluralSeparator}zero`,v=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(O&&(S.push(I+h),C.ordinal&&0===h.indexOf(v)&&S.push(I+h.replace(v,this.options.pluralSeparator)),L&&S.push(I+m)),M){let _=`${I}${this.options.contextSeparator}${C.context}`;S.push(_),O&&(S.push(_+h),C.ordinal&&0===h.indexOf(v)&&S.push(_+h.replace(v,this.options.pluralSeparator)),L&&S.push(_+m))}}for(;A=S.pop();)this.isValidLookup(m)||(v=A,m=this.getResource(_,h,A,C))}))})}),{res:m,usedKey:_,exactUsedKey:v,usedLng:b,usedNS:A}}isValidLookup(h){return void 0!==h&&!(!this.options.returnNull&&null===h)&&!(!this.options.returnEmptyString&&""===h)}getResource(h,m,_){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(h,m,_,v):this.resourceStore.getResource(h,m,_,v)}getUsedParamsDetails(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=h.replace&&"string"!=typeof h.replace,_=m?h.replace:h;if(m&&void 0!==h.count&&(_.count=h.count),this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),!m)for(let h of(_={..._},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete _[h];return _}static hasDefaultValue(h){let m="defaultValue";for(let _ in h)if(Object.prototype.hasOwnProperty.call(h,_)&&m===_.substring(0,m.length)&&void 0!==h[_])return!0;return!1}};function capitalize(h){return h.charAt(0).toUpperCase()+h.slice(1)}let LanguageUtil=class LanguageUtil{constructor(h){this.options=h,this.supportedLngs=this.options.supportedLngs||!1,this.logger=o9.create("languageUtils")}getScriptPartFromCode(h){if(!(h=getCleanedCode(h))||0>h.indexOf("-"))return null;let m=h.split("-");return 2===m.length?null:(m.pop(),"x"===m[m.length-1].toLowerCase())?null:this.formatLanguageCode(m.join("-"))}getLanguagePartFromCode(h){if(!(h=getCleanedCode(h))||0>h.indexOf("-"))return h;let m=h.split("-");return this.formatLanguageCode(m[0])}formatLanguageCode(h){if("string"==typeof h&&h.indexOf("-")>-1){let m=["hans","hant","latn","cyrl","cans","mong","arab"],_=h.split("-");return this.options.lowerCaseLng?_=_.map(h=>h.toLowerCase()):2===_.length?(_[0]=_[0].toLowerCase(),_[1]=_[1].toUpperCase(),m.indexOf(_[1].toLowerCase())>-1&&(_[1]=capitalize(_[1].toLowerCase()))):3===_.length&&(_[0]=_[0].toLowerCase(),2===_[1].length&&(_[1]=_[1].toUpperCase()),"sgn"!==_[0]&&2===_[2].length&&(_[2]=_[2].toUpperCase()),m.indexOf(_[1].toLowerCase())>-1&&(_[1]=capitalize(_[1].toLowerCase())),m.indexOf(_[2].toLowerCase())>-1&&(_[2]=capitalize(_[2].toLowerCase()))),_.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?h.toLowerCase():h}isSupportedCode(h){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(h=this.getLanguagePartFromCode(h)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(h)>-1}getBestMatchFromCodes(h){let m;return h?(h.forEach(h=>{if(m)return;let _=this.formatLanguageCode(h);(!this.options.supportedLngs||this.isSupportedCode(_))&&(m=_)}),!m&&this.options.supportedLngs&&h.forEach(h=>{if(m)return;let _=this.getLanguagePartFromCode(h);if(this.isSupportedCode(_))return m=_;m=this.options.supportedLngs.find(h=>{if(h===_||!(0>h.indexOf("-")&&0>_.indexOf("-"))&&(h.indexOf("-")>0&&0>_.indexOf("-")&&h.substring(0,h.indexOf("-"))===_||0===h.indexOf(_)&&_.length>1))return h})}),m||(m=this.getFallbackCodes(this.options.fallbackLng)[0]),m):null}getFallbackCodes(h,m){if(!h)return[];if("function"==typeof h&&(h=h(m)),"string"==typeof h&&(h=[h]),Array.isArray(h))return h;if(!m)return h.default||[];let _=h[m];return _||(_=h[this.getScriptPartFromCode(m)]),_||(_=h[this.formatLanguageCode(m)]),_||(_=h[this.getLanguagePartFromCode(m)]),_||(_=h.default),_||[]}toResolveHierarchy(h,m){let _=this.getFallbackCodes(m||this.options.fallbackLng||[],h),v=[],addCode=h=>{h&&(this.isSupportedCode(h)?v.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return"string"==typeof h&&(h.indexOf("-")>-1||h.indexOf("_")>-1)?("languageOnly"!==this.options.load&&addCode(this.formatLanguageCode(h)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&addCode(this.getScriptPartFromCode(h)),"currentOnly"!==this.options.load&&addCode(this.getLanguagePartFromCode(h))):"string"==typeof h&&addCode(this.formatLanguageCode(h)),_.forEach(h=>{0>v.indexOf(h)&&addCode(this.formatLanguageCode(h))}),v}};let sd=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],sh={1:function(h){return Number(h>1)},2:function(h){return Number(1!=h)},3:function(h){return 0},4:function(h){return Number(h%10==1&&h%100!=11?0:h%10>=2&&h%10<=4&&(h%100<10||h%100>=20)?1:2)},5:function(h){return Number(0==h?0:1==h?1:2==h?2:h%100>=3&&h%100<=10?3:h%100>=11?4:5)},6:function(h){return Number(1==h?0:h>=2&&h<=4?1:2)},7:function(h){return Number(1==h?0:h%10>=2&&h%10<=4&&(h%100<10||h%100>=20)?1:2)},8:function(h){return Number(1==h?0:2==h?1:8!=h&&11!=h?2:3)},9:function(h){return Number(h>=2)},10:function(h){return Number(1==h?0:2==h?1:h<7?2:h<11?3:4)},11:function(h){return Number(1==h||11==h?0:2==h||12==h?1:h>2&&h<20?2:3)},12:function(h){return Number(h%10!=1||h%100==11)},13:function(h){return Number(0!==h)},14:function(h){return Number(1==h?0:2==h?1:3==h?2:3)},15:function(h){return Number(h%10==1&&h%100!=11?0:h%10>=2&&(h%100<10||h%100>=20)?1:2)},16:function(h){return Number(h%10==1&&h%100!=11?0:0!==h?1:2)},17:function(h){return Number(1==h||h%10==1&&h%100!=11?0:1)},18:function(h){return Number(0==h?0:1==h?1:2)},19:function(h){return Number(1==h?0:0==h||h%100>1&&h%100<11?1:h%100>10&&h%100<20?2:3)},20:function(h){return Number(1==h?0:0==h||h%100>0&&h%100<20?1:2)},21:function(h){return Number(h%100==1?1:h%100==2?2:h%100==3||h%100==4?3:0)},22:function(h){return Number(1==h?0:2==h?1:(h<0||h>10)&&h%10==0?2:3)}},sp=["v1","v2","v3"],sm=["v4"],sf={zero:0,one:1,two:2,few:3,many:4,other:5};let PluralResolver=class PluralResolver{constructor(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=h,this.options=m,this.logger=o9.create("pluralResolver"),(!this.options.compatibilityJSON||sm.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let h={};return sd.forEach(m=>{m.lngs.forEach(_=>{h[_]={numbers:m.nr,plurals:sh[m.fc]}})}),h}()}addRule(h,m){this.rules[h]=m}getRule(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode("dev"===h?"en":h),{type:m.ordinal?"ordinal":"cardinal"})}catch(h){return}return this.rules[h]||this.rules[this.languageUtils.getLanguagePartFromCode(h)]}needsPlural(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=this.getRule(h,m);return this.shouldUseIntlApi()?_&&_.resolvedOptions().pluralCategories.length>1:_&&_.numbers.length>1}getPluralFormsOfKey(h,m){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(h,_).map(h=>`${m}${h}`)}getSuffixes(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=this.getRule(h,m);return _?this.shouldUseIntlApi()?_.resolvedOptions().pluralCategories.sort((h,m)=>sf[h]-sf[m]).map(h=>`${this.options.prepend}${m.ordinal?`ordinal${this.options.prepend}`:""}${h}`):_.numbers.map(_=>this.getSuffix(h,_,m)):[]}getSuffix(h,m){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=this.getRule(h,_);return v?this.shouldUseIntlApi()?`${this.options.prepend}${_.ordinal?`ordinal${this.options.prepend}`:""}${v.select(m)}`:this.getSuffixRetroCompatible(v,m):(this.logger.warn(`no plural rule found for: ${h}`),"")}getSuffixRetroCompatible(h,m){let _=h.noAbs?h.plurals(m):h.plurals(Math.abs(m)),v=h.numbers[_];this.options.simplifyPluralSuffix&&2===h.numbers.length&&1===h.numbers[0]&&(2===v?v="plural":1===v&&(v=""));let returnSuffix=()=>this.options.prepend&&v.toString()?this.options.prepend+v.toString():v.toString();return"v1"===this.options.compatibilityJSON?1===v?"":"number"==typeof v?`_plural_${v.toString()}`:returnSuffix():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===h.numbers.length&&1===h.numbers[0]?returnSuffix():this.options.prepend&&_.toString()?this.options.prepend+_.toString():_.toString()}shouldUseIntlApi(){return!sp.includes(this.options.compatibilityJSON)}};function deepFindWithDefaults(h,m,_){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",b=!(arguments.length>4)||void 0===arguments[4]||arguments[4],A=function(h,m,_){let v=getPath(h,_);return void 0!==v?v:getPath(m,_)}(h,m,_);return!A&&b&&"string"==typeof _&&void 0===(A=deepFind(h,_,v))&&(A=deepFind(m,_,v)),A}let Interpolator=class Interpolator{constructor(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=o9.create("interpolator"),this.options=h,this.format=h.interpolation&&h.interpolation.format||(h=>h),this.init(h)}init(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.interpolation||(h.interpolation={escapeValue:!0});let{escape:m,escapeValue:_,useRawValueToEscape:v,prefix:b,prefixEscaped:A,suffix:C,suffixEscaped:S,formatSeparator:I,unescapeSuffix:w,unescapePrefix:O,nestingPrefix:L,nestingPrefixEscaped:M,nestingSuffix:F,nestingSuffixEscaped:B,nestingOptionsSeparator:U,maxReplaces:$,alwaysFormat:G}=h.interpolation;this.escape=void 0!==m?m:i18next_escape,this.escapeValue=void 0===_||_,this.useRawValueToEscape=void 0!==v&&v,this.prefix=b?regexEscape(b):A||"{{",this.suffix=C?regexEscape(C):S||"}}",this.formatSeparator=I||",",this.unescapePrefix=w?"":O||"-",this.unescapeSuffix=this.unescapePrefix?"":w||"",this.nestingPrefix=L?regexEscape(L):M||regexEscape("$t("),this.nestingSuffix=F?regexEscape(F):B||regexEscape(")"),this.nestingOptionsSeparator=U||",",this.maxReplaces=$||1e3,this.alwaysFormat=void 0!==G&&G,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let getOrResetRegExp=(h,m)=>h&&h.source===m?(h.lastIndex=0,h):RegExp(m,"g");this.regexp=getOrResetRegExp(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=getOrResetRegExp(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=getOrResetRegExp(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(h,m,_,v){let b,A,C;let S=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function regexSafe(h){return h.replace(/\$/g,"$$$$")}let handleFormat=h=>{if(0>h.indexOf(this.formatSeparator)){let b=deepFindWithDefaults(m,S,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,_,{...v,...m,interpolationkey:h}):b}let b=h.split(this.formatSeparator),A=b.shift().trim(),C=b.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(m,S,A,this.options.keySeparator,this.options.ignoreJSONStructure),C,_,{...v,...m,interpolationkey:A})};this.resetRegExp();let I=v&&v.missingInterpolationHandler||this.options.missingInterpolationHandler,w=v&&v.interpolation&&void 0!==v.interpolation.skipOnVariables?v.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,O=[{regex:this.regexpUnescape,safeValue:h=>regexSafe(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?regexSafe(this.escape(h)):regexSafe(h)}];return O.forEach(m=>{for(C=0;b=m.regex.exec(h);){let _=b[1].trim();if(void 0===(A=handleFormat(_))){if("function"==typeof I){let m=I(h,b,v);A="string"==typeof m?m:""}else if(v&&Object.prototype.hasOwnProperty.call(v,_))A="";else if(w){A=b[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${h}`),A=""}else"string"==typeof A||this.useRawValueToEscape||(A=makeString(A));let S=m.safeValue(A);if(h=h.replace(b[0],S),w?(m.regex.lastIndex+=A.length,m.regex.lastIndex-=b[0].length):m.regex.lastIndex=0,++C>=this.maxReplaces)break}}),h}nest(h,m){let _,v,b,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function handleHasOptions(h,m){let _=this.nestingOptionsSeparator;if(0>h.indexOf(_))return h;let v=h.split(RegExp(`${_}[ ]*{`)),A=`{${v[1]}`;h=v[0],A=this.interpolate(A,b);let C=A.match(/'/g),S=A.match(/"/g);(C&&C.length%2==0&&!S||S.length%2!=0)&&(A=A.replace(/'/g,'"'));try{b=JSON.parse(A),m&&(b={...m,...b})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,m),`${h}${_}${A}`}return b.defaultValue&&b.defaultValue.indexOf(this.prefix)>-1&&delete b.defaultValue,h}for(;_=this.nestingRegexp.exec(h);){let C=[];(b=(b={...A}).replace&&"string"!=typeof b.replace?b.replace:b).applyPostProcessor=!1,delete b.defaultValue;let S=!1;if(-1!==_[0].indexOf(this.formatSeparator)&&!/{.*}/.test(_[1])){let h=_[1].split(this.formatSeparator).map(h=>h.trim());_[1]=h.shift(),C=h,S=!0}if((v=m(handleHasOptions.call(this,_[1].trim(),b),b))&&_[0]===h&&"string"!=typeof v)return v;"string"!=typeof v&&(v=makeString(v)),v||(this.logger.warn(`missed to resolve ${_[1]} for nesting ${h}`),v=""),S&&(v=C.reduce((h,m)=>this.format(h,m,A.lng,{...A,interpolationkey:_[1].trim()}),v.trim())),h=h.replace(_[0],v),this.regexp.lastIndex=0}return h}};function createCachedFormatter(h){let m={};return function(_,v,b){let A=v+JSON.stringify(b),C=m[A];return C||(C=h(getCleanedCode(v),b),m[A]=C),C(_)}}let Formatter=class Formatter{constructor(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=o9.create("formatter"),this.options=h,this.formats={number:createCachedFormatter((h,m)=>{let _=new Intl.NumberFormat(h,{...m});return h=>_.format(h)}),currency:createCachedFormatter((h,m)=>{let _=new Intl.NumberFormat(h,{...m,style:"currency"});return h=>_.format(h)}),datetime:createCachedFormatter((h,m)=>{let _=new Intl.DateTimeFormat(h,{...m});return h=>_.format(h)}),relativetime:createCachedFormatter((h,m)=>{let _=new Intl.RelativeTimeFormat(h,{...m});return h=>_.format(h,m.range||"day")}),list:createCachedFormatter((h,m)=>{let _=new Intl.ListFormat(h,{...m});return h=>_.format(h)})},this.init(h)}init(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},_=m.interpolation;this.formatSeparator=_.formatSeparator?_.formatSeparator:_.formatSeparator||","}add(h,m){this.formats[h.toLowerCase().trim()]=m}addCached(h,m){this.formats[h.toLowerCase().trim()]=createCachedFormatter(m)}format(h,m,_){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},b=m.split(this.formatSeparator),A=b.reduce((h,m)=>{let{formatName:b,formatOptions:A}=function(h){let m=h.toLowerCase().trim(),_={};if(h.indexOf("(")>-1){let v=h.split("(");m=v[0].toLowerCase().trim();let b=v[1].substring(0,v[1].length-1);if("currency"===m&&0>b.indexOf(":"))_.currency||(_.currency=b.trim());else if("relativetime"===m&&0>b.indexOf(":"))_.range||(_.range=b.trim());else{let h=b.split(";");h.forEach(h=>{if(h){let[m,...v]=h.split(":"),b=v.join(":").trim().replace(/^'+|'+$/g,""),A=m.trim();_[A]||(_[A]=b),"false"===b&&(_[A]=!1),"true"===b&&(_[A]=!0),isNaN(b)||(_[A]=parseInt(b,10))}})}}return{formatName:m,formatOptions:_}}(m);if(this.formats[b]){let m=h;try{let C=v&&v.formatParams&&v.formatParams[v.interpolationkey]||{},S=C.locale||C.lng||v.locale||v.lng||_;m=this.formats[b](h,S,{...A,...v,...C})}catch(h){this.logger.warn(h)}return m}return this.logger.warn(`there was no format function for ${b}`),h},h);return A}};let Connector=class Connector extends EventEmitter{constructor(h,m,_){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=h,this.store=m,this.services=_,this.languageUtils=_.languageUtils,this.options=v,this.logger=o9.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=v.maxParallelReads||10,this.readingCalls=0,this.maxRetries=v.maxRetries>=0?v.maxRetries:5,this.retryTimeout=v.retryTimeout>=1?v.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(_,v.backend,v)}queueLoad(h,m,_,v){let b={},A={},C={},S={};return h.forEach(h=>{let v=!0;m.forEach(m=>{let C=`${h}|${m}`;!_.reload&&this.store.hasResourceBundle(h,m)?this.state[C]=2:this.state[C]<0||(1===this.state[C]?void 0===A[C]&&(A[C]=!0):(this.state[C]=1,v=!1,void 0===A[C]&&(A[C]=!0),void 0===b[C]&&(b[C]=!0),void 0===S[m]&&(S[m]=!0)))}),v||(C[h]=!0)}),(Object.keys(b).length||Object.keys(A).length)&&this.queue.push({pending:A,pendingCount:Object.keys(A).length,loaded:{},errors:[],callback:v}),{toLoad:Object.keys(b),pending:Object.keys(A),toLoadLanguages:Object.keys(C),toLoadNamespaces:Object.keys(S)}}loaded(h,m,_){let v=h.split("|"),b=v[0],A=v[1];m&&this.emit("failedLoading",b,A,m),_&&this.store.addResourceBundle(b,A,_,void 0,void 0,{skipCopy:!0}),this.state[h]=m?-1:2;let C={};this.queue.forEach(_=>{(function(h,m,_,v){let{obj:b,k:A}=getLastOfPath(h,m,Object);b[A]=b[A]||[],b[A].push(_)})(_.loaded,[b],A),void 0!==_.pending[h]&&(delete _.pending[h],_.pendingCount--),m&&_.errors.push(m),0!==_.pendingCount||_.done||(Object.keys(_.loaded).forEach(h=>{C[h]||(C[h]={});let m=_.loaded[h];m.length&&m.forEach(m=>{void 0===C[h][m]&&(C[h][m]=!0)})}),_.done=!0,_.errors.length?_.callback(_.errors):_.callback())}),this.emit("loaded",C),this.queue=this.queue.filter(h=>!h.done)}read(h,m,_){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,A=arguments.length>5?arguments[5]:void 0;if(!h.length)return A(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:h,ns:m,fcName:_,tried:v,wait:b,callback:A});return}this.readingCalls++;let resolver=(C,S)=>{if(this.readingCalls--,this.waitingReads.length>0){let h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(C&&S&&v<this.maxRetries){setTimeout(()=>{this.read.call(this,h,m,_,v+1,2*b,A)},b);return}A(C,S)},C=this.backend[_].bind(this.backend);if(2===C.length){try{let _=C(h,m);_&&"function"==typeof _.then?_.then(h=>resolver(null,h)).catch(resolver):resolver(null,_)}catch(h){resolver(h)}return}return C(h,m,resolver)}prepareLoading(h,m){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),v&&v();"string"==typeof h&&(h=this.languageUtils.toResolveHierarchy(h)),"string"==typeof m&&(m=[m]);let b=this.queueLoad(h,m,_,v);if(!b.toLoad.length)return b.pending.length||v(),null;b.toLoad.forEach(h=>{this.loadOne(h)})}load(h,m,_){this.prepareLoading(h,m,{},_)}reload(h,m,_){this.prepareLoading(h,m,{reload:!0},_)}loadOne(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",_=h.split("|"),v=_[0],b=_[1];this.read(v,b,"read",void 0,void 0,(_,A)=>{_&&this.logger.warn(`${m}loading namespace ${b} for language ${v} failed`,_),!_&&A&&this.logger.log(`${m}loaded namespace ${b} for language ${v}`,A),this.loaded(h,_,A)})}saveMissing(h,m,_,v,b){let A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},C=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(m)){this.logger.warn(`did not save key "${_}" as the namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=_&&""!==_){if(this.backend&&this.backend.create){let S={...A,isUpdate:b},I=this.backend.create.bind(this.backend);if(I.length<6)try{let b;(b=5===I.length?I(h,m,_,v,S):I(h,m,_,v))&&"function"==typeof b.then?b.then(h=>C(null,h)).catch(C):C(null,b)}catch(h){C(h)}else I(h,m,_,v,C,S)}h&&h[0]&&this.store.addResource(h[0],m,_,v)}}};function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(h){let m={};if("object"==typeof h[1]&&(m=h[1]),"string"==typeof h[1]&&(m.defaultValue=h[1]),"string"==typeof h[2]&&(m.tDescription=h[2]),"object"==typeof h[2]||"object"==typeof h[3]){let _=h[3]||h[2];Object.keys(_).forEach(h=>{m[h]=_[h]})}return m},interpolation:{escapeValue:!0,format:h=>h,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(h){return"string"==typeof h.ns&&(h.ns=[h.ns]),"string"==typeof h.fallbackLng&&(h.fallbackLng=[h.fallbackLng]),"string"==typeof h.fallbackNS&&(h.fallbackNS=[h.fallbackNS]),h.supportedLngs&&0>h.supportedLngs.indexOf("cimode")&&(h.supportedLngs=h.supportedLngs.concat(["cimode"])),h}function noop(){}let I18n=class I18n extends EventEmitter{constructor(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(h),this.services={},this.logger=o9,this.modules={external:[]},!function(h){let m=Object.getOwnPropertyNames(Object.getPrototypeOf(h));m.forEach(m=>{"function"==typeof h[m]&&(h[m]=h[m].bind(h))})}(this),m&&!this.isInitialized&&!h.isClone){if(!this.options.initImmediate)return this.init(h,m),this;setTimeout(()=>{this.init(h,m)},0)}}init(){var h=this;let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof m&&(_=m,m={}),!m.defaultNS&&!1!==m.defaultNS&&m.ns&&("string"==typeof m.ns?m.defaultNS=m.ns:0>m.ns.indexOf("translation")&&(m.defaultNS=m.ns[0]));let v=get();function createClassOnDemand(h){return h?"function"==typeof h?new h:h:null}if(this.options={...v,...this.options,...transformOptions(m)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...v.interpolation,...this.options.interpolation}),void 0!==m.keySeparator&&(this.options.userDefinedKeySeparator=m.keySeparator),void 0!==m.nsSeparator&&(this.options.userDefinedNsSeparator=m.nsSeparator),!this.options.isClone){let m;this.modules.logger?o9.init(createClassOnDemand(this.modules.logger),this.options):o9.init(null,this.options),this.modules.formatter?m=this.modules.formatter:"undefined"!=typeof Intl&&(m=Formatter);let _=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);let b=this.services;b.logger=o9,b.resourceStore=this.store,b.languageUtils=_,b.pluralResolver=new PluralResolver(_,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===v.interpolation.format)&&(b.formatter=createClassOnDemand(m),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new Interpolator(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new Connector(createClassOnDemand(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(m){for(var _=arguments.length,v=Array(_>1?_-1:0),b=1;b<_;b++)v[b-1]=arguments[b];h.emit(m,...v)}),this.modules.languageDetector&&(b.languageDetector=createClassOnDemand(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=createClassOnDemand(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(m){for(var _=arguments.length,v=Array(_>1?_-1:0),b=1;b<_;b++)v[b-1]=arguments[b];h.emit(m,...v)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,_||(_=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&"dev"!==h[0]&&(this.options.lng=h[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=function(){return h.store[m](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=function(){return h.store[m](...arguments),h}});let b=defer(),load=()=>{let finish=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),b.resolve(m),_(h,m)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return finish(null,this.t.bind(this));this.changeLanguage(this.options.lng,finish)};return this.options.resources||!this.options.initImmediate?load():setTimeout(load,0),b}loadResources(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,_=m,v="string"==typeof h?h:this.language;if("function"==typeof h&&(_=h),!this.options.resources||this.options.partialBundledLanguages){if(v&&"cimode"===v.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return _();let h=[],append=m=>{if(!m||"cimode"===m)return;let _=this.services.languageUtils.toResolveHierarchy(m);_.forEach(m=>{"cimode"!==m&&0>h.indexOf(m)&&h.push(m)})};if(v)append(v);else{let h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.forEach(h=>append(h))}this.options.preload&&this.options.preload.forEach(h=>append(h)),this.services.backendConnector.load(h,this.options.ns,h=>{h||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),_(h)})}else _(null)}reloadResources(h,m,_){let v=defer();return h||(h=this.languages),m||(m=this.options.ns),_||(_=noop),this.services.backendConnector.reload(h,m,h=>{v.resolve(),_(h)}),v}use(h){if(!h)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!h.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===h.type&&(this.modules.backend=h),("logger"===h.type||h.log&&h.warn&&h.error)&&(this.modules.logger=h),"languageDetector"===h.type&&(this.modules.languageDetector=h),"i18nFormat"===h.type&&(this.modules.i18nFormat=h),"postProcessor"===h.type&&sc.addPostProcessor(h),"formatter"===h.type&&(this.modules.formatter=h),"3rdParty"===h.type&&this.modules.external.push(h),this}setResolvedLanguage(h){if(h&&this.languages&&!(["cimode","dev"].indexOf(h)>-1))for(let h=0;h<this.languages.length;h++){let m=this.languages[h];if(!(["cimode","dev"].indexOf(m)>-1)&&this.store.hasLanguageSomeTranslations(m)){this.resolvedLanguage=m;break}}}changeLanguage(h,m){var _=this;this.isLanguageChangingTo=h;let v=defer();this.emit("languageChanging",h);let setLngProps=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},done=(h,b)=>{b?(setLngProps(b),this.translator.changeLanguage(b),this.isLanguageChangingTo=void 0,this.emit("languageChanged",b),this.logger.log("languageChanged",b)):this.isLanguageChangingTo=void 0,v.resolve(function(){return _.t(...arguments)}),m&&m(h,function(){return _.t(...arguments)})},setLng=m=>{h||m||!this.services.languageDetector||(m=[]);let _="string"==typeof m?m:this.services.languageUtils.getBestMatchFromCodes(m);_&&(this.language||setLngProps(_),this.translator.language||this.translator.changeLanguage(_),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(_)),this.loadResources(_,h=>{done(h,_)})};return h||!this.services.languageDetector||this.services.languageDetector.async?!h&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(setLng):this.services.languageDetector.detect(setLng):setLng(h):setLng(this.services.languageDetector.detect()),v}getFixedT(h,m,_){var v=this;let fixedT=function(h,m){let b,A;if("object"!=typeof m){for(var C=arguments.length,S=Array(C>2?C-2:0),I=2;I<C;I++)S[I-2]=arguments[I];b=v.options.overloadTranslationOptionHandler([h,m].concat(S))}else b={...m};b.lng=b.lng||fixedT.lng,b.lngs=b.lngs||fixedT.lngs,b.ns=b.ns||fixedT.ns,""!==b.keyPrefix&&(b.keyPrefix=b.keyPrefix||_||fixedT.keyPrefix);let w=v.options.keySeparator||".";return A=b.keyPrefix&&Array.isArray(h)?h.map(h=>`${b.keyPrefix}${w}${h}`):b.keyPrefix?`${b.keyPrefix}${w}${h}`:h,v.t(A,b)};return"string"==typeof h?fixedT.lng=h:fixedT.lngs=h,fixedT.ns=m,fixedT.keyPrefix=_,fixedT}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(h){this.options.defaultNS=h}hasLoadedNamespace(h){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let _=m.lng||this.resolvedLanguage||this.languages[0],v=!!this.options&&this.options.fallbackLng,b=this.languages[this.languages.length-1];if("cimode"===_.toLowerCase())return!0;let loadNotPending=(h,m)=>{let _=this.services.backendConnector.state[`${h}|${m}`];return -1===_||2===_};if(m.precheck){let h=m.precheck(this,loadNotPending);if(void 0!==h)return h}return!!(this.hasResourceBundle(_,h)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||loadNotPending(_,h)&&(!v||loadNotPending(b,h)))}loadNamespaces(h,m){let _=defer();return this.options.ns?("string"==typeof h&&(h=[h]),h.forEach(h=>{0>this.options.ns.indexOf(h)&&this.options.ns.push(h)}),this.loadResources(h=>{_.resolve(),m&&m(h)}),_):(m&&m(),Promise.resolve())}loadLanguages(h,m){let _=defer();"string"==typeof h&&(h=[h]);let v=this.options.preload||[],b=h.filter(h=>0>v.indexOf(h)&&this.services.languageUtils.isSupportedCode(h));return b.length?(this.options.preload=v.concat(b),this.loadResources(h=>{_.resolve(),m&&m(h)}),_):(m&&m(),Promise.resolve())}dir(h){if(h||(h=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!h)return"rtl";let m=this.services&&this.services.languageUtils||new LanguageUtil(get());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(m.getLanguagePartFromCode(h))>-1||h.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;return new I18n(h,m)}cloneInstance(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,_=h.forkResourceStore;_&&delete h.forkResourceStore;let v={...this.options,...h,isClone:!0},b=new I18n(v);return(void 0!==h.debug||void 0!==h.prefix)&&(b.logger=b.logger.clone(h)),["store","services","language"].forEach(h=>{b[h]=this[h]}),b.services={...this.services},b.services.utils={hasLoadedNamespace:b.hasLoadedNamespace.bind(b)},_&&(b.store=new ResourceStore(this.store.data,v),b.services.resourceStore=b.store),b.translator=new Translator(b.services,v),b.translator.on("*",function(h){for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];b.emit(h,..._)}),b.init(v,m),b.translator.options=v,b.translator.backendConnector.services.utils={hasLoadedNamespace:b.hasLoadedNamespace.bind(b)},b}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};let sg=I18n.createInstance();sg.createInstance=I18n.createInstance,sg.createInstance,sg.dir,sg.init,sg.loadResources,sg.reloadResources,sg.use,sg.changeLanguage,sg.getFixedT,sg.t,sg.exists,sg.setDefaultNamespace,sg.hasLoadedNamespace,sg.loadNamespaces,sg.loadLanguages;var s_=_(2849),sE=_(334),sv=_(8764).lW;function esm_p(h){return h.endsWith("info.json")?h:h.endsWith("/")?`${h}info.json`:`${h}/info.json`}let sT="http://library.stanford.edu/iiif/image-api/compliance.html#level1",sy="http://library.stanford.edu/iiif/image-api/compliance.html#level2",sb="http://library.stanford.edu/iiif/image-api/conformance.html#level1",sk="http://library.stanford.edu/iiif/image-api/conformance.html#level2",sA="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",sx="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",sC="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",sS="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",sI="http://iiif.io/api/image/1/level1.json",sw="http://iiif.io/api/image/1/profiles/level1.json",sN="http://iiif.io/api/image/1/level2.json",sO="http://iiif.io/api/image/1/profiles/level2.json",sR="http://iiif.io/api/image/2/level1.json",sL="http://iiif.io/api/image/2/profiles/level1.json",sD="http://iiif.io/api/image/2/level2.json",sP="http://iiif.io/api/image/2/profiles/level2.json",sM="level1",sF="level2",sB="http://iiif.io/api/image/2/level1",sH="http://iiif.io/api/image/2/level2",sU=[sH,sy,sk,sx,sS,sN,sO,sD,sP,sF],s$=[...sU,sB,sT,sb,sA,sC,sI,sw,sR,sL,sM],sz=["http://iiif.io/api/image/2/level0",sB,sH,"http://library.stanford.edu/iiif/image-api/compliance.html#level0",sT,sy,"http://library.stanford.edu/iiif/image-api/conformance.html#level0",sb,sk,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",sA,sx,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",sC,sS,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json",sI,sw,sN,sO,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json",sR,sL,sD,sP,"level0",sM,sF],sG={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["sizeByWhListed"]},sj={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPx","regionSquare","sizeByWhListed","sizeByH","sizeByW","sizeByWh"]},sV={extraFormats:["jpg","png"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPct","regionByPx","regionSquare","rotationBy90s","sizeByWhListed","sizeByConfinedWh","sizeByH","sizeByPct","sizeByW","sizeByWh"]};function esm_h(h){return h["@id"]?h["@id"]:h.id?h.id:void 0}function esm_w(h){if(!h||!h.profile||!esm_h(h))return!1;let m=Array.isArray(h.profile)?h.profile:[h.profile];for(let h of m)if("string"==typeof h&&-1!==sz.indexOf(h))return!0;return!1}function esm_v(h,m){if(m&&m.profile){let _=m.profile;if(_){let m=Array.isArray(_)?_:[_];return m.includes(`level${h}`)||m.includes(`http://iiif.io/api/image/2/level${h}.json`)||m.includes(`http://iiif.io/api/image/1/level${h}.json`)||m.includes(`http://iiif.io/api/image/1/profiles/level${h}.json`)}}return!1}function esm_F(h){return esm_w(h)?esm_v(0,h)?0:esm_v(1,h)?1:esm_v(2,h)?2:null:null}function esm_X(h){return -1!==(h["@context"]?Array.isArray(h["@context"])?h["@context"]:[h["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")}function esm_Y(h){let m=h.match(/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/);if(m){let _=m[1],v=parseInt(m[4],10),b=parseInt(m[5],10),A=m[7];if(("max"===_||"full"===_)&&v&&b&&A)return{type:"fixed",id:h,height:b,width:v}}return{type:"unknown",id:h}}function esm_q(h){let m=[],_=h.length;for(let v=0;v<_;v++){let _=function(h){return esm_w(h)?(h&&h.sizes?h.sizes:[]).map(m=>({id:esm_h(h),type:"fixed-service",height:m.height,width:m.width,level:esm_F(h),version:esm_X(h)?3:2})):[]}(h[v]);_.length&&m.push(..._);let b=function(h){if(!function(h){if(!esm_w(h))return!1;let m=Array.isArray(h.profile)?h.profile:[h.profile];for(let h of m)if("string"==typeof h){if(-1!==s$.indexOf(h))return!0}else{let m=[...h.supports||[],...h.extraFeatures||[]];if(-1!==m.indexOf("regionByPx")&&(-1!==m.indexOf("sizeByW")||-1!==m.indexOf("sizeByWh")))return!0}return!1}(h))return[];let m=[],_=Array.isArray(h.profile)?h.profile:[h.profile],v=_.length;for(let m=0;m<v;m++){let v=_[m];if("string"!=typeof v&&(v.maxHeight||v.maxWidth))return[{id:esm_h(h),type:"variable",minWidth:0,minHeight:0,maxHeight:v.maxHeight||v.maxWidth,maxWidth:v.maxWidth||v.maxHeight,level:esm_F(h),version:"http://iiif.io/api/image/3/context.json"===h["@context"]?3:2}]}if(h.tiles){let _=h.tiles.length;for(let v=0;v<_;v++){let _=h.tiles[v];(_.height||_.width)&&m.push({id:esm_h(h),type:"variable",minHeight:0,minWidth:0,maxHeight:_.height||_.width,maxWidth:_.width,level:esm_F(h),version:esm_X(h)?3:2})}}return m}(h[v]);b.length&&m.push(...b)}return m}function esm_ee(h){let m=h.service?Array.isArray(h.service)?h.service:[h.service]:[],_=m.length,v=[];for(let h=0;h<_;h++)esm_w(m[h])&&v.push(m[h]);return v}var sq=Object.defineProperty,sW=Object.defineProperties,sY=Object.getOwnPropertyDescriptors,sQ=Object.getOwnPropertySymbols,sX=Object.prototype.hasOwnProperty,sK=Object.prototype.propertyIsEnumerable,esm_$e=(h,m,_)=>m in h?sq(h,m,{enumerable:!0,configurable:!0,writable:!0,value:_}):h[m]=_,esm_x=(h,m)=>{for(var _ in m||(m={}))sX.call(m,_)&&esm_$e(h,_,m[_]);if(sQ)for(var _ of sQ(m))sK.call(m,_)&&esm_$e(h,_,m[_]);return h},esm_I=(h,m)=>sW(h,sY(m));function esm_O(h,m,_){let v=function(h){let m=function(h,m=""){let{path:_,scheme:v,server:b,prefix:A}=function(h,m=""){let _=h.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!_)throw Error(`Invalid or unknown input ${h}`);let v=_[2],b=_[3],A=_[4];if("/"===A[0]&&(A=A.substr(1)),m.length>0){if("/"===m[0]&&(m=m.substr(1)),m!==A.substr(0,m.length))throw Error(`Path does not start with prefix (path: ${A}, prefix: ${m})`);A=A.substr(m.length)}return{scheme:v,server:b,path:A,prefix:m}}(h,m),C=_.split("/").reverse(),[S,I,w,O,...L]=C,M=L.reverse().filter(Boolean).join("/");if(1===C.length||""===S)return{type:"base",scheme:v,server:b,prefix:A,identifier:M};if("info.json"===S){let[,...h]=C;return{type:"info",scheme:v,server:b,prefix:A,identifier:h.reverse().filter(Boolean).join("/")}}let F=S.split(".");return{type:"image",scheme:v,server:b,prefix:A,identifier:M,originalPath:_,region:function(h){try{if("full"===h)return{full:!0};if("square"===h)return{square:!0};let m=h.startsWith("pct:"),_=h.substr(m?4:0).split(",").map(h=>parseFloat(h));return{x:_[0],y:_[1],w:_[2],h:_[3],percent:m}}catch{throw Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+h)}}(O),size:function(h){let m={upscaled:!1,max:!1,confined:!1};if("^"===h[0]&&(m.upscaled=!0,h=h.slice(1)),"max"===h||"full"===h)return m.max=!0,m.serialiseAsFull="full"===h,m;if("!"===h[0]&&(m.confined=!0,h=h.slice(1)),"p"===h[0])return m.percentScale=parseFloat(h.slice(4)),m;let _=h.split(",").map(h=>h.trim());return _.length&&(""!==_[0]&&(m.width=parseInt(_[0],10)),""!==_[1]?(m.height=parseInt(_[1],10),m.version=2):m.version=3),m}(w),rotation:function(h){let m={angle:0};if("!"===h[0]&&(m.mirror=!0,h=h.substr(1)),m.angle=parseFloat(h)%360,Number.isNaN(m.angle))throw Error(`Invalid rotation ${h}`);return m}(I),quality:F[0],format:F[1]}}(esm_p(h.id));if("info"!==m.type)throw Error("Invalid service URL");let _=function(h){let m=h?Array.isArray(h.profile)?h.profile:[h.profile]:[],_={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let h of m){var v;if("string"==typeof h&&(v=h,h=-1!==sU.indexOf(v)?sV:-1!==s$.indexOf(v)?sj:sG),h){if(h.formats)for(let m of h.formats)-1===_.extraFormats.indexOf(m)&&_.extraFormats.push(m);if(h.qualities)for(let m of h.qualities)-1===_.extraQualities.indexOf(m)&&_.extraQualities.push(m);if(h.supports)for(let m of h.supports)-1===_.extraFeatures.indexOf(m)&&_.extraFeatures.push(m);if(h.maxHeight&&(_.maxHeight=h.maxHeight),h.maxWidth&&(_.maxWidth=h.maxWidth),h.maxArea&&(_.maxArea=h.maxArea),h.extraFormats)for(let m of h.extraFormats)-1===_.extraFormats.indexOf(m)&&_.extraFormats.push(m);if(h.extraQualities)for(let m of h.extraQualities)-1===_.extraQualities.indexOf(m)&&_.extraQualities.push(m);if(h.extraFeatures)for(let m of h.extraFeatures)-1===_.extraFeatures.indexOf(m)&&_.extraFeatures.push(m);h.maxHeight&&(_.maxHeight=h.maxHeight),h.maxWidth&&(_.maxWidth=h.maxWidth),h.maxArea&&(_.maxArea=h.maxArea)}}if(h.extraFormats)for(let m of h.extraFormats)-1===_.extraFormats.indexOf(m)&&_.extraFormats.push(m);if(h.extraFeatures)for(let m of h.extraFeatures)-1===_.extraFeatures.indexOf(m)&&_.extraFeatures.push(m);if(h.extraQualities)for(let m of h.extraQualities)-1===_.extraQualities.indexOf(m)&&_.extraQualities.push(m);return _}(h);return{identifier:m.identifier,originalPath:"",server:m.server,prefix:m.prefix,scheme:m.scheme,type:"image",quality:-1===_.extraQualities.indexOf("default")?_.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}({"@context":3===h.version?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:esm_p(esm_h(h)),profile:null===h.level||typeof h.level>"u"?"level0":`level${h.level}}`,type:3===h.version?"ImageService3":"ImageService2"});if("image"!==v.type)throw Error("Invalid service");return v.size.max=!1,v.size.width=m,v.size.height=_,{id:function(h,m){let _=h.prefix.startsWith("/")?h.prefix.substr(1):h.prefix,v=`${h.scheme}://${h.server}/${_?`${_}/`:""}${h.identifier}`;if("base"===h.type)return v;if("info"===h.type)return`${v}/info.json`;let{size:b}=h,{region:A,rotation:C,format:S,quality:I}=h;if(m){let h=m["@context"]?Array.isArray(m["@context"])?m["@context"]:[m["@context"]]:[],_=-1!==h.indexOf("http://iiif.io/api/image/2/context.json"),v=-1!==h.indexOf("http://iiif.io/api/image/3/context.json");if((b.width!==m.width||b.height)&&(b.height!==m.height||b.width)&&(b.width!==m.width||b.height!==m.height)||(b=esm_I(esm_x({},b),{max:!0})),_&&(b.max&&!b.serialiseAsFull&&(b=esm_I(esm_x({},b),{serialiseAsFull:!0})),!b.max&&b.width&&b.height&&(b=esm_I(esm_x({},b),{height:void 0})),b=esm_I(esm_x({},b),{version:2})),v){if(b.max&&b.serialiseAsFull&&(b=esm_I(esm_x({},b),{serialiseAsFull:!1})),b.width&&!b.height&&m.width&&m.height){let h=m.height/m.width;b=esm_I(esm_x({},b),{height:Math.ceil(b.width*h)})}b=esm_I(esm_x({},b),{version:3})}}return[v,function({x:h=0,y:m=0,w:_,h:v,full:b,square:A,percent:C}){if(b)return"full";if(A)return"square";if(typeof _>"u"||typeof v>"u")throw Error("RegionParameter: invalid region");let S=`${h},${m},${_},${v}`;return C?`pct:${S}`:S}(A),function({max:h,percentScale:m,upscaled:_,confined:v,width:b,height:A,serialiseAsFull:C,version:S}){let I=[];return _&&I.push("^"),h?I.push(C?"full":"max"):(v&&I.push("!"),m&&I.push(`pct:${m}`),b&&I.push(`${b}`),I.push(","),A&&3===S&&I.push(`${A}`)),I.join("")}(b),`${C.mirror?"!":""}${(C.angle||0)%360}`,`${I}.${S}`].filter(Boolean).join("/")}(v),type:"fixed",width:m,height:_||h.height/(h.width||1)*m,unsafe:h.width>m}}function esm_y(h){let m=h.replace(/(https?:\/\/)?(www.)?/i,"");return -1!==m.indexOf("/")?m.split("/")[0]:m}var sJ=Object.defineProperty,sZ=Object.defineProperties,s0=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertySymbols,s2=Object.prototype.hasOwnProperty,s3=Object.prototype.propertyIsEnumerable,esm_Re=(h,m,_)=>m in h?sJ(h,m,{enumerable:!0,configurable:!0,writable:!0,value:_}):h[m]=_,ri=(h,m)=>{for(var _ in m||(m={}))s2.call(m,_)&&esm_Re(h,_,m[_]);if(s1)for(var _ of s1(m))s3.call(m,_)&&esm_Re(h,_,m[_]);return h},si=(h,m)=>sZ(h,s0(m)),esm_=(h,m,_)=>new Promise((v,b)=>{var s=h=>{try{o(_.next(h))}catch(h){b(h)}},a=h=>{try{o(_.throw(h))}catch(h){b(h)}},o=h=>h.done?v(h.value):Promise.resolve(h.value).then(s,a);o((_=_.apply(h,m)).next())});new class{constructor(){this.config={verificationsRequired:1,approximateServices:!0,enableFetching:!0,disableThrottling:!1},this.fetchingCount=0,this.imageServices={},this.knownImageServers={}}setConfig(h){Object.assign(this.config,h)}sample(h,m,_=!0){let v=esm_y(esm_h(h)),b=esm_p(esm_h(h)),A=this.knownImageServers[v];return this.imageServices[b]=Object.assign(h,{real:!0}),A||!h.tiles||esm_v(0,h)?this.verify(h):(this.knownImageServers[v]={verifications:0,malformed:!1,root:v,preLoaded:_,sampledId:esm_h(h),verified:!1,server:null,result:{context:h["@context"]||[],sampledProfile:h.profile,resourceServiceRatio:m&&h.height?m.height/h.height:1,sampledSizes:h.sizes||[],sizeRatios:function(h,m,_){let v=_.length,b=[];for(let m=0;m<v;m++){let v=_[m].width;b.push(h/v)}return b}(h.width,h.height,h.sizes||[]),sampledTiles:h.tiles||[]}},!0)}preLoad(h,m=!0){this.knownImageServers[h.root]=h,m&&(this.knownImageServers[h.root].malformed=!1,this.knownImageServers[h.root].verifications=this.config.verificationsRequired)}predict(h,m=!1,_=!1){let v=null==h?void 0:h.source,b=esm_y(esm_h(h)),A=this.knownImageServers[b];if(!A||!A.result||!((null==v?void 0:v.height)||h.height)||!((null==v?void 0:v.width)||h.width)||!_&&(A.malformed||A.verifications<this.config.verificationsRequired)||esm_v(0,h.source))return null;let C=esm_p(esm_h(h));return this.imageServices[C]||(this.imageServices[C]={"@context":A.result.context,"@id":esm_h(h),id:esm_h(h),protocol:"http://iiif.io/api/image",tiles:(null==v?void 0:v.tiles)||function(h,m,_){let v=h>m?h:m,b=_.length,A=[];for(let h=0;h<b;h++){let m=_[h],b=m.scaleFactors[0],C=v/b,S=[b];for(;C>=m.width;)S.push(b*=2),C/=2;A.push(si(ri({},m),{scaleFactors:S}))}return A}(h.width,h.height,A.result.sampledTiles),sizes:(null==v?void 0:v.sizes)||function(h,m,_){let v=_.length,b=[];for(let A=0;A<v;A++){let v=_[A];b.push({width:Math.floor(h/v),height:Math.floor(m/v)})}return b}(Math.round(h.width/A.result.resourceServiceRatio),Math.round(h.height/A.result.resourceServiceRatio),A.result.sizeRatios),profile:(null==v?void 0:v.profile)||A.result.sampledProfile,height:(null==v?void 0:v.height)||h.height,width:(null==v?void 0:v.width)||h.width,real:!1}),this.imageServices[C]}getThumbnailFromResource(h,m){return esm_(this,arguments,function*(h,m,_=!0,v=[]){let b=h?yield this.getImageCandidates(h,_):[];return function(h,m){let _=[],v=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},h),r=(h,m=0)=>v.explain?_.push(Array(m).fill(0).map(h=>"    ").join("")+h().trim()):void 0,b=[],A=[],C=null;r(()=>`Using configuration: ${JSON.stringify(v,null,2)}`);let f=(h,m)=>{if(r(()=>"Swapping choice",3),function(h,m,_){let v=h.width?h.width:h.maxWidth;return _.height<=h.maxHeight&&_.width<=h.maxWidth&&_.height>=h.minHeight&&_.width>=h.minWidth&&(!m||Math.abs(_.width-v)<Math.abs(m.width-v))}(v,m,h)){if(v.preferFixedSize&&h.unsafe){r(()=>`We found an image that was marked as unsafe, but it was the best size. (${h.id})`,4),A.push(h);return}v.returnAllOptions&&m&&A.push(m),r(()=>`We found a new image that was the best size. (${h.id})`,4),C=h}else v.returnAllOptions&&A.push(h)};r(()=>`The input shows we have ${m.length} list(s) of candidates to choose from.`);let S=m.length;for(let h=0;h<S;h++){let _=m[h]();r(()=>`Candidate group ${h}: ${JSON.stringify(_,null,2)}`,1);let A=_.length;r(()=>`Checking candidate list number ${h} and found ${A} potential ways of creating image(s)`,1);for(let h=0;h<A;h++){let m=_[h];if(r(()=>`-> Checking candidate ${h}`,1),"unknown"===m.type&&v.atAnyCost&&(r(()=>'We\'ve found an unknown image type, adding this to the "last resort" list',2),b.push(m)),"fixed"===m.type&&(m.unsafe?(r(()=>'We\'ve found an unsafe fixed image type, adding this to the "last resort" list',2),b.push(m)):(r(()=>"We've found a fixed size image, checking if it matches the request",2),f(m,C))),"fixed-service"===m.type){if(v.unsafeImageService){r(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2);let h=esm_O(m,v.width,v.height);f(h,C)}else{r(()=>"Checking for an image from the tile source 3",2);let h=esm_O(m,m.width,m.height);f(h,C)}}if("variable"===m.type&&m.maxWidth){let h=esm_O({id:m.id,type:"fixed-service",width:m.maxWidth,height:m.maxWidth,level:m.level,version:m.version},m.maxWidth);f(h,C)}}if(C&&!v.returnAllOptions){if(C.unsafe||v.allowUnsafe)continue;r(()=>`We found a match in choice list number ${h}, no searching any more`);break}}return v.atAnyCost&&0===A.length?(r(()=>C?`We found an image! ${C.id} of type ${C.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:C||b[0],fallback:b.slice(1),log:_}):v.returnAllOptions?(r(()=>"Returning all options that we have found"),{best:v.atAnyCost?C||A[0]||b[0]:C||A[0],fallback:[...A,...b],log:_}):(r(()=>"Returning the best image that we found, and a fallback"),{best:C||A[0]||null,fallback:C?A:A.slice(1),log:_})}(m,[()=>v,()=>b])})}getImageCandidates(h,m=!0){return esm_(this,null,function*(){if(m&&h.height&&h.width){let m=esm_ee(h);for(let _ of m){let m={id:esm_h(_),width:_.width?_.width:h.width,height:_.height?_.height:h.height,source:_};yield this.loadService(m)}}return function(h,m=!0,_){let v=[],b=function(h){if("string"==typeof h)return esm_Y(h);let m=h["@type"]?h["@type"]:h.type?h.type:void 0;if("Image"!==m&&"sc:Image"!==m)return null;let _=esm_h(h);return _?_&&h.width&&h.height?{id:_,type:"fixed",width:h.width,height:h.height,unsafe:!0}:esm_Y(_):null}(h);if(null===b)return v;if(v.push(b),m&&h.width&&h.height){let m=[],b=esm_ee(h);for(let v of b){let b={id:esm_h(v),width:h.width,height:h.height};if(_.canLoadSync(b)){let v=_.loadServiceSync(b);v&&(v.height||(v.height=h.height),v.width||(v.width=h.width),m.push(...esm_q([v])))}}if(m.length)return v.push(...m),v}return h.service&&v.push(...esm_q(h.service)),v}(h,m,this)})}verify(h){return esm_(this,null,function*(){let m=this.predict(h,!1,!0),_=yield this.fetchService(esm_h(h));if(!m)return!1;let v=m.height===_.height&&m.width===_.width&&m["@context"]===_["@context"]&&function(h,m){if(h.length!==m.length)return!1;if(0===h.length&&0===m.length)return!0;let _=h.length,v=!0;for(let b=0;b<_;b++){let _=h[b],A=m[b];if(_.width!==A.width||_.height!==A.height){v=!1;break}}if(v)return!0;let b=0;for(let v=0;v<_;v++)for(let A=0;A<_;A++)if(h[v].width===m[A].width&&h[v].height===m[A].height){b++;break}return b===_}(m.sizes||[],_.sizes||[]);if(v){let m=esm_y(esm_h(h));this.knownImageServers[m].verifications+=1,this.knownImageServers[m].verifications>=this.config.verificationsRequired&&(this.knownImageServers[m].verified=!0)}return v})}canLoadSync(h){let m="string"==typeof h?h:esm_h(h),_=esm_p(m);if(this.imageServices[_])return!0;let v=this.knownImageServers[esm_y(m)];return v&&!v.malformed&&v.verifications>=this.config.verificationsRequired}markAsMalformed(h){return esm_(this,null,function*(){return this.knownImageServers[esm_y(esm_h(h))].malformed=!0,this.loadService(h,!0)})}fetchService(h,m=!1){return esm_(this,null,function*(){let _=esm_p(h);if(this.imageServices[_]&&(!m||this.imageServices[_].real))return this.imageServices[_];if(!this.config.enableFetching)throw Error("Fetching is not enabled");let v=yield this.fetch(_).then(h=>h.json());return!v.id&&v["@id"]&&(v.id=v["@id"]),v.id!==h&&(v.id=h,v["@id"]&&(v["@id"]=h)),this.imageServices[_]=Object.assign(v,{real:!0}),this.imageServices[_]})}fetch(h,m){return esm_(this,null,function*(){return fetch(h,m)})}loadService(h,m=!1){return esm_(this,null,function*(){if(!this.config.disableThrottling){let h=!0;for(;h;)if(this.fetchingCount>=this.config.verificationsRequired)yield new Promise(h=>setTimeout(h,500));else{h=!1;break}}let _=this.knownImageServers[esm_y(esm_h(h))];if(_&&!_.malformed&&!m){yield _.result;let m=this.loadServiceSync(h);if(m)return m}this.fetchingCount++;let v=yield this.fetchService(esm_h(h),m);return this.fetchingCount--,v.real&&this.sample(v,h),v})}loadServiceSync(h){let m=esm_p(esm_h(h));return this.imageServices[m]?this.imageServices[m]:this.predict(h)}},Symbol.for("_refs_"),Symbol.for("_reactive_"),Symbol.for("_defined_");var s4=_(434),s5=_(150),s6=_(9821);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(h){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var v in _)({}).hasOwnProperty.call(_,v)&&(h[v]=_[v])}return h}).apply(null,arguments)}function $e42e1063c40fb3ef$export$b9ecd428b558ff10(h,m,{checkForDefaultPrevented:_=!0}={}){return function(v){if(null==h||h(v),!1===_||!v.defaultPrevented)return null==m?void 0:m(v)}}function $6ed0406888f73fc4$export$43e446d32b3d21af(...h){return m=>h.forEach(h=>{"function"==typeof h?h(m):null!=h&&(h.current=m)})}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...h){return(0,eD.useCallback)($6ed0406888f73fc4$export$43e446d32b3d21af(...h),h)}let s8=(null==globalThis?void 0:globalThis.document)?eD.useLayoutEffect:()=>{},s9=eP["useId".toString()]||(()=>void 0),s7=0;function $1746a345f3d73bb7$export$f680877a34711e37(h){let[m,_]=eD.useState(s9());return s8(()=>{h||_(h=>null!=h?h:String(s7++))},[h]),h||(m?`radix-${m}`:"")}_(3935);let ln=(0,eD.forwardRef)((h,m)=>{let{children:_,...v}=h,b=eD.Children.toArray(_),A=b.find($5e63c961fc1ce211$var$isSlottable);if(A){let h=A.props.children,_=b.map(m=>m!==A?m:eD.Children.count(h)>1?eD.Children.only(null):(0,eD.isValidElement)(h)?h.props.children:null);return(0,eD.createElement)(li,_extends({},v,{ref:m}),(0,eD.isValidElement)(h)?(0,eD.cloneElement)(h,void 0,_):null)}return(0,eD.createElement)(li,_extends({},v,{ref:m}),_)});ln.displayName="Slot";let li=(0,eD.forwardRef)((h,m)=>{let{children:_,...v}=h;return(0,eD.isValidElement)(_)?(0,eD.cloneElement)(_,{...function(h,m){let _={...m};for(let v in m){let b=h[v],A=m[v],C=/^on[A-Z]/.test(v);C?b&&A?_[v]=(...h)=>{A(...h),b(...h)}:b&&(_[v]=b):"style"===v?_[v]={...b,...A}:"className"===v&&(_[v]=[b,A].filter(Boolean).join(" "))}return{...h,..._}}(v,_.props),ref:m?$6ed0406888f73fc4$export$43e446d32b3d21af(m,_.ref):_.ref}):eD.Children.count(_)>1?eD.Children.only(null):null});li.displayName="SlotClone";let $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:h})=>(0,eD.createElement)(eD.Fragment,null,h);function $5e63c961fc1ce211$var$isSlottable(h){return(0,eD.isValidElement)(h)&&h.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}let ls=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((h,m)=>{let _=(0,eD.forwardRef)((h,_)=>{let{asChild:v,...b}=h,A=v?ln:m;return(0,eD.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,eD.createElement)(A,_extends({},b,{ref:_}))});return _.displayName=`Primitive.${m}`,{...h,[m]:_}},{}),[ll,lc]=((h,m)=>(0,eD.createElement)(ls.label,_extends({},h,{ref:m,onMouseDown:m=>{var _;null===(_=h.onMouseDown)||void 0===_||_.call(h,m),!m.defaultPrevented&&m.detail>1&&m.preventDefault()}})),function(h,m=[]){let _=[],createScope=()=>{let m=_.map(h=>(0,eD.createContext)(h));return function(_){let v=(null==_?void 0:_[h])||m;return(0,eD.useMemo)(()=>({[`__scope${h}`]:{..._,[h]:v}}),[_,v])}};return createScope.scopeName=h,[function(m,v){let b=(0,eD.createContext)(v),A=_.length;function Provider(m){let{scope:_,children:v,...C}=m,S=(null==_?void 0:_[h][A])||b,I=(0,eD.useMemo)(()=>C,Object.values(C));return(0,eD.createElement)(S.Provider,{value:I},v)}return _=[..._,v],Provider.displayName=m+"Provider",[Provider,function(_,C){let S=(null==C?void 0:C[h][A])||b,I=(0,eD.useContext)(S);if(I)return I;if(void 0!==v)return v;throw Error(`\`${_}\` must be used within \`${m}\``)}]},function(...h){let m=h[0];if(1===h.length)return m;let createScope1=()=>{let _=h.map(h=>({useScope:h(),scopeName:h.scopeName}));return function(h){let v=_.reduce((m,{useScope:_,scopeName:v})=>{let b=_(h),A=b[`__scope${v}`];return{...m,...A}},{});return(0,eD.useMemo)(()=>({[`__scope${m.scopeName}`]:v}),[v])}};return createScope1.scopeName=m.scopeName,createScope1}(createScope,...m)]}("Form")),lu="Form",[ld,lh]=ll(lu),[lp,lm]=ll(lu),lf=(0,eD.forwardRef)((h,m)=>{let{__scopeForm:_,onClearServerErrors:v=()=>{},...b}=h,A=(0,eD.useRef)(null),C=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(m,A),[S,I]=(0,eD.useState)({}),w=(0,eD.useCallback)(h=>S[h],[S]),O=(0,eD.useCallback)((h,m)=>I(_=>{var v;return{..._,[h]:{...null!==(v=_[h])&&void 0!==v?v:{},...m}}}),[]),L=(0,eD.useCallback)(h=>{I(m=>({...m,[h]:void 0})),j(m=>({...m,[h]:{}}))},[]),[M,F]=(0,eD.useState)({}),B=(0,eD.useCallback)(h=>{var m;return null!==(m=M[h])&&void 0!==m?m:[]},[M]),U=(0,eD.useCallback)((h,m)=>{F(_=>{var v;return{..._,[h]:[...null!==(v=_[h])&&void 0!==v?v:[],m]}})},[]),$=(0,eD.useCallback)((h,m)=>{F(_=>{var v;return{..._,[h]:(null!==(v=_[h])&&void 0!==v?v:[]).filter(h=>h.id!==m)}})},[]),[G,j]=(0,eD.useState)({}),q=(0,eD.useCallback)(h=>{var m;return null!==(m=G[h])&&void 0!==m?m:{}},[G]),Q=(0,eD.useCallback)((h,m)=>{j(_=>{var v;return{..._,[h]:{...null!==(v=_[h])&&void 0!==v?v:{},...m}}})},[]),[X,K]=(0,eD.useState)({}),J=(0,eD.useCallback)((h,m)=>{K(_=>{let v=new Set(_[h]).add(m);return{..._,[h]:v}})},[]),Z=(0,eD.useCallback)((h,m)=>{K(_=>{let v=new Set(_[h]);return v.delete(m),{..._,[h]:v}})},[]),ee=(0,eD.useCallback)(h=>{var m;return Array.from(null!==(m=X[h])&&void 0!==m?m:[]).join(" ")||void 0},[X]);return(0,eD.createElement)(ld,{scope:_,getFieldValidity:w,onFieldValidityChange:O,getFieldCustomMatcherEntries:B,onFieldCustomMatcherEntryAdd:U,onFieldCustomMatcherEntryRemove:$,getFieldCustomErrors:q,onFieldCustomErrorsChange:Q,onFieldValiditionClear:L},(0,eD.createElement)(lp,{scope:_,onFieldMessageIdAdd:J,onFieldMessageIdRemove:Z,getFieldDescription:ee},(0,eD.createElement)(ls.form,_extends({},b,{ref:C,onInvalid:$e42e1063c40fb3ef$export$b9ecd428b558ff10(h.onInvalid,h=>{let m=$d94698215c4408a7$var$getFirstInvalidControl(h.currentTarget);m===h.target&&m.focus(),h.preventDefault()}),onSubmit:$e42e1063c40fb3ef$export$b9ecd428b558ff10(h.onSubmit,v,{checkForDefaultPrevented:!1}),onReset:$e42e1063c40fb3ef$export$b9ecd428b558ff10(h.onReset,v)}))))}),lg="FormField",[l_,lE]=ll(lg),lv=(0,eD.forwardRef)((h,m)=>{let{__scopeForm:_,name:v,serverInvalid:b=!1,...A}=h,C=lh(lg,_),S=C.getFieldValidity(v),I=$1746a345f3d73bb7$export$f680877a34711e37();return(0,eD.createElement)(l_,{scope:_,id:I,name:v,serverInvalid:b},(0,eD.createElement)(ls.div,_extends({"data-valid":$d94698215c4408a7$var$getValidAttribute(S,b),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(S,b)},A,{ref:m})))}),lT="FormControl",ly=(0,eD.forwardRef)((h,m)=>{let{__scopeForm:_,...v}=h,b=lh(lT,_),A=lE(lT,_),C=lm(lT,_),S=(0,eD.useRef)(null),I=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(m,S),w=v.name||A.name,O=v.id||A.id,L=b.getFieldCustomMatcherEntries(w),{onFieldValidityChange:M,onFieldCustomErrorsChange:F,onFieldValiditionClear:B}=b,U=(0,eD.useCallback)(async h=>{if($d94698215c4408a7$var$hasBuiltInError(h.validity)){let m=$d94698215c4408a7$var$validityStateToObject(h.validity);M(w,m);return}let m=h.form?new FormData(h.form):new FormData,_=[h.value,m],v=[],b=[];L.forEach(h=>{"AsyncFunction"===h.match.constructor.name||(0,h.match)(..._) instanceof Promise?b.push(h):"Function"===h.match.constructor.name&&v.push(h)});let A=v.map(({id:h,match:m})=>[h,m(..._)]),C=Object.fromEntries(A),S=Object.values(C).some(Boolean);h.setCustomValidity(S?lb:"");let I=$d94698215c4408a7$var$validityStateToObject(h.validity);if(M(w,I),F(w,C),!S&&b.length>0){let m=b.map(({id:h,match:m})=>m(..._).then(m=>[h,m])),v=await Promise.all(m),A=Object.fromEntries(v),C=Object.values(A).some(Boolean);h.setCustomValidity(C?lb:"");let S=$d94698215c4408a7$var$validityStateToObject(h.validity);M(w,S),F(w,A)}},[L,w,F,M]);(0,eD.useEffect)(()=>{let h=S.current;if(h){let handleChange=()=>U(h);return h.addEventListener("change",handleChange),()=>h.removeEventListener("change",handleChange)}},[U]);let $=(0,eD.useCallback)(()=>{let h=S.current;h&&(h.setCustomValidity(""),B(w))},[w,B]);(0,eD.useEffect)(()=>{var h;let m=null===(h=S.current)||void 0===h?void 0:h.form;if(m)return m.addEventListener("reset",$),()=>m.removeEventListener("reset",$)},[$]),(0,eD.useEffect)(()=>{let h=S.current,m=null==h?void 0:h.closest("form");if(m&&A.serverInvalid){let _=$d94698215c4408a7$var$getFirstInvalidControl(m);_===h&&_.focus()}},[A.serverInvalid]);let G=b.getFieldValidity(w);return(0,eD.createElement)(ls.input,_extends({"data-valid":$d94698215c4408a7$var$getValidAttribute(G,A.serverInvalid),"data-invalid":$d94698215c4408a7$var$getInvalidAttribute(G,A.serverInvalid),"aria-invalid":!!A.serverInvalid||void 0,"aria-describedby":C.getFieldDescription(w),title:""},v,{ref:I,id:O,name:w,onInvalid:$e42e1063c40fb3ef$export$b9ecd428b558ff10(h.onInvalid,h=>{let m=h.currentTarget;U(m)}),onChange:$e42e1063c40fb3ef$export$b9ecd428b558ff10(h.onChange,h=>{$()})}))}),lb="This value is not valid",lk={badInput:lb,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},lA="FormMessage",lx=((h,m)=>{let{match:_,forceMatch:v=!1,name:b,children:A,...C}=h,S=lh(lA,C.__scopeForm),I=S.getFieldValidity(b),w=v||(null==I?void 0:I[_]);return w?(0,eD.createElement)(lx,_extends({ref:m},C,{name:b}),null!=A?A:lk[_]):null},(0,eD.forwardRef)((h,m)=>{let{__scopeForm:_,id:v,name:b,...A}=h,C=lm(lA,_),S=$1746a345f3d73bb7$export$f680877a34711e37(),I=null!=v?v:S,{onFieldMessageIdAdd:w,onFieldMessageIdRemove:O}=C;return(0,eD.useEffect)(()=>(w(b,I),()=>O(b,I)),[b,I,w,O]),(0,eD.createElement)(ls.span,_extends({id:I},A,{ref:m}))})),lC=(0,eD.forwardRef)((h,m)=>{let{__scopeForm:_,...v}=h;return(0,eD.createElement)(ls.button,_extends({type:"submit"},v,{ref:m}))});function $d94698215c4408a7$var$validityStateToObject(h){let m={};for(let _ in h)m[_]=h[_];return m}function $d94698215c4408a7$var$isHTMLElement(h){return h instanceof HTMLElement}function $d94698215c4408a7$var$isInvalid(h){return"validity"in h&&(!1===h.validity.valid||"true"===h.getAttribute("aria-invalid"))}function $d94698215c4408a7$var$getFirstInvalidControl(h){let m=h.elements,[_]=Array.from(m).filter($d94698215c4408a7$var$isHTMLElement).filter($d94698215c4408a7$var$isInvalid);return _}function $d94698215c4408a7$var$hasBuiltInError(h){let m=!1;for(let _ in h)if("valid"!==_&&"customError"!==_&&h[_]){m=!0;break}return m}function $d94698215c4408a7$var$getValidAttribute(h,m){if((null==h?void 0:h.valid)===!0&&!m)return!0}function $d94698215c4408a7$var$getInvalidAttribute(h,m){if((null==h?void 0:h.valid)===!1||m)return!0}var lS=_(6419),lI=_(5059),lw=_(761);let lN="clover",lO=Object.fromEntries(Object.entries({en:{commonClose:"Close",commonNext:"Next",commonPrevious:"Previous",commonSearch:"Search",commonSearchPlaceholder:"Search...",commonShare:"Share",commonViewAll:"View All",copyFailure:"Failed",copySuccess:"Copied",informationPanelTabs:"Select",informationPanelTabsAbout:"About",informationPanelTabsAnnotations:"Annotations",informationPanelTabsSearch:"Search",informationPanelToggle:"More Information",shareCollectionJson:"View Collection",shareCollectionCopy:"Copy Collection URL",shareManifestJson:"View Manifest",shareManifestCopy:"Copy Manifest URL"},pt:{}}).map(([h,m])=>[h,{[`${lN}`]:m}]));sg.use(Browser).use(s_.Db).init({defaultNS:lN,fallbackLng:"en",ns:[lN],resources:{...lO}});let Sn=h=>{let m=h.toString().split(":"),_=Math.ceil(parseInt(m[0])),v=Math.ceil(parseInt(m[1])),b=kn(Math.ceil(parseInt(m[2])),2),A=`${0!==_&&v<10?(v+"").padStart(2,"0"):v}:${b}`;return 0!==_&&(A=`${_}:${A}`),A},viewer_Je=h=>{let m=new Date(1e3*h).toISOString().substr(11,8);return Sn(m)},viewer_Ze=(h,m)=>{if("object"!=typeof h||null===h)return m;for(let _ in m)"object"!=typeof m[_]||null===m[_]||Array.isArray(m[_])?h[_]=m[_]:(h[_]||(h[_]={}),h[_]=viewer_Ze(h[_],m[_]));return h},Cn=h=>h.split("").reduce(function(h,m){return(h=(h<<5)-h+m.charCodeAt(0))&h},0),viewer_Xe=(h,m)=>Object.hasOwn(h,m)?h[m].toString():void 0,kn=(h,m)=>String(h).padStart(m,"0"),lR={annotationOverlays:{backgroundColor:"#6666ff",borderColor:"#000099",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:2},background:"transparent",canvasBackgroundColor:"#6662",canvasHeight:"500px",contentSearch:{searchResultsLimit:20,overlays:{backgroundColor:"#ff6666",borderColor:"#990000",borderType:"solid",borderWidth:"1px",opacity:"0.5",renderOverlays:!0,zoomLevel:4}},ignoreCaptionLabels:[],informationPanel:{vtt:{autoScroll:{enabled:!0,settings:{behavior:"smooth",block:"center"}}},open:!0,renderAbout:!0,renderSupplementing:!0,renderToggle:!0,renderAnnotation:!0,renderContentSearch:!0},openSeadragon:{},requestHeaders:{"Content-Type":"application/json"},showDownload:!0,showIIIFBadge:!0,showTitle:!0,withCredentials:!1,localeText:{contentSearch:{tabLabel:"Search Results",formPlaceholder:"Enter search words",noSearchResults:"No search results",loading:"Loading...",moreResults:"more results"}}};function viewer_Ye(h){let m={...lR.informationPanel.vtt.autoScroll};return"object"==typeof h&&(m="enabled"in h?h:{enabled:!0,settings:h}),!1===h&&(m.enabled=!1),function({behavior:h,block:m}){let _=["auto","instant","smooth"],v=["center","end","nearest","start"];if(!_.includes(h))throw TypeError(`'${h}' not in ${_.join(" | ")}`);if(!v.includes(m))throw TypeError(`'${m}' not in ${v.join(" | ")}`)}(m.settings),m}let lL=viewer_Ye(null==(eS=null==(eC=null==lR?void 0:lR.informationPanel)?void 0:eC.vtt)?void 0:eS.autoScroll),lD={activeCanvas:"",activeManifest:"",OSDImageLoaded:!1,collection:{},configOptions:lR,customDisplays:[],plugins:[],isAutoScrollEnabled:lL.enabled,isAutoScrolling:!1,isInformationOpen:null==(eI=null==lR?void 0:lR.informationPanel)?void 0:eI.open,isLoaded:!1,isUserScrolling:void 0,vault:new Vault,contentSearchVault:new Vault,openSeadragonViewer:null,viewerId:esm_browser_v4()},lP=eD.createContext(lD),lM=eD.createContext(lD);function Tn(h,m){switch(m.type){case"updateActiveCanvas":return m.canvasId||(m.canvasId=""),{...h,activeCanvas:m.canvasId};case"updateActiveManifest":return{...h,activeManifest:m.manifestId};case"updateOSDImageLoaded":return{...h,OSDImageLoaded:m.OSDImageLoaded};case"updateAutoScrollAnnotationEnabled":return{...h,isAutoScrollEnabled:m.isAutoScrollEnabled};case"updateAutoScrolling":return{...h,isAutoScrolling:m.isAutoScrolling};case"updateCollection":return{...h,collection:m.collection};case"updateConfigOptions":return{...h,configOptions:viewer_Ze(h.configOptions,m.configOptions)};case"updateInformationOpen":return{...h,isInformationOpen:m.isInformationOpen};case"updateIsLoaded":return{...h,isLoaded:m.isLoaded};case"updateUserScrolling":return{...h,isUserScrolling:m.isUserScrolling};case"updateOpenSeadragonViewer":return{...h,openSeadragonViewer:m.openSeadragonViewer};case"updateViewerId":return{...h,viewerId:m.viewerId};default:throw Error(`Unhandled action type: ${m.type}`)}}let Ln=({initialState:h=lD,children:m})=>{let[_,v]=(0,eD.useReducer)(Tn,h);return eD.createElement(lP.Provider,{value:_},eD.createElement(lM.Provider,{value:v},m))};function viewer_$(){let h=eD.useContext(lP);if(void 0===h)throw Error("useViewerState must be used within a ViewerProvider");return h}function viewer_P(){let h=eD.useContext(lM);if(void 0===h)throw Error("useViewerDispatch must be used within a ViewerProvider");return h}let Mn=async(h,m)=>{let _=h.get({id:m,type:"Canvas"});if(!(null!=_&&_.annotations)||!_.annotations[0])return[];let v=h.get(_.annotations).filter(h=>!!h.items&&h),b=[];for(let m of v)if(m.items.length>0){let h=m.label||{none:["Annotations"]};b.push({...m,label:h})}else{let _={};try{_=await h.load(m.id)}catch(h){console.log(h)}if(_.items&&_.items.length>0){let h=_.label||{none:["Annotations"]};b.push({..._,label:h})}}return b},viewer_et=async(h,m,_,v)=>{let b;if(null==v||null==v.q)return{label:{none:[_]}};let A=`${m}?q=${v.q.trim()}`;try{b=await h.load(A)}catch{return console.log("Could not load content search."),{}}return null==b.label&&(b.label={none:[_]}),b},viewer_tt=(h,m,_,v)=>{var b,A;let C={canvas:void 0,accompanyingCanvas:void 0,annotationPage:void 0,annotations:[]};if(C.canvas=h.get(m),C.canvas&&(C.annotationPage=h.get(C.canvas.items[0]),C.accompanyingCanvas=null!=(b=C.canvas)&&b.accompanyingCanvas?h.get(null==(A=C.canvas)?void 0:A.accompanyingCanvas):void 0),C.annotationPage){let b=h.get(C.annotationPage.items).map(m=>({body:h.get(m.body[0].id),motivation:m.motivation,type:"Annotation"})),A=[];b.forEach(m=>{"Choice"===m.body.type?m.body.items.forEach(_=>A.push({...m,id:_.id,body:h.get(_.id)})):A.push(m)}),C.annotations=A.filter(b=>{if(b){if(!b.body||!b.motivation){console.error("Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'",b);return}let A=b.body;Array.isArray(A)&&(A=A[0]);let C=h.get(A.id);if(C)switch(_){case"painting":return b.target===m.id&&b.motivation&&"painting"===b.motivation[0]&&v.includes(C.type)&&(b.body=C),!!b;case"supplementing":return;default:throw Error("Invalid annotation motivation.")}}})}return C},viewer_J=(h,m="en")=>{if(!h)return"";if(!h[m]){let m=Object.getOwnPropertyNames(h);if(m.length>0)return h[m[0]]}return h[m]},viewer_oe=(h,m)=>{let _=viewer_tt(h,{id:m,type:"Canvas"},"painting",["Image","Sound","Video"]);if(0!==_.annotations.length&&_.annotations&&_.annotations)return _.annotations.map(h=>null==h?void 0:h.body)},Rn=(h,m,_,v)=>{let b=[];if(m.canvas&&m.canvas.thumbnail.length>0){let _=h.get(m.canvas.thumbnail[0]);b.push(_)}if(m.annotations[0]){if(m.annotations[0].thumbnail&&m.annotations[0].thumbnail.length>0){let _=h.get(m.annotations[0].thumbnail[0]);b.push(_)}if(!m.annotations[0].body)return;let _=m.annotations[0].body;"Image"===_.type&&b.push(_)}return 0===b.length?void 0:{id:b[0].id,format:b[0].format,type:b[0].type,width:_,height:v}},lF=window.OpenSeadragon;if(!lF&&!(lF=eO))throw Error("OpenSeadragon is missing.");let lB="http://www.w3.org/2000/svg";lF.Viewer&&(lF.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new viewer_Se(this)),this._svgOverlayInfo});let viewer_Se=function(h){let m=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(lB,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(lB,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){m.resize()}),this._viewer.addHandler("open",function(){m.resize()}),this._viewer.addHandler("rotate",function(){m.resize()}),this._viewer.addHandler("flip",function(){m.resize()}),this._viewer.addHandler("resize",function(){m.resize()}),this.resize()};viewer_Se.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new lF.Point(0,0),!0),m=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),v=this._viewer.viewport.getFlip(),b=this._viewer.viewport._containerInnerSize.x,A=b*m,C=A;v&&(A=-A,h.x=-h.x+b),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+A+","+C+") rotate("+_+")")},onClick:function(h,m){new lF.MouseTracker({element:h,clickHandler:m}).setTracking(!0)}};let Pn=h=>new viewer_Se(h),viewer_nt=h=>{var m,_,v,b,A;let C={id:"string"==typeof h?h:h.source};if("string"==typeof h){if(h.includes("#xywh=")){let m=h.split("#xywh=");if(m&&m[1]){let[h,_,v,b]=m[1].split(",").map(h=>Number(h));C={id:m[0],rect:{x:h,y:_,w:v,h:b}}}}else if(h.includes("#t=")){let m=h.split("#t=");m&&m[1]&&(C={id:m[0],t:m[1]})}}else if("object"==typeof h){if((null==(m=h.selector)?void 0:m.type)==="PointSelector")C={id:h.source,point:{x:h.selector.x,y:h.selector.y}};else if((null==(_=h.selector)?void 0:_.type)==="SvgSelector")C={id:h.source,svg:h.selector.value};else if((null==(v=h.selector)?void 0:v.type)==="FragmentSelector"&&null!=(b=h.selector)&&b.value.includes("xywh=")&&"Canvas"==h.source.type&&h.source.id){let m=null==(A=h.selector)?void 0:A.value.split("xywh=");if(m&&m[1]){let[_,v,b,A]=m[1].split(",").map(h=>Number(h));C={id:h.source.id,rect:{x:_,y:v,w:b,h:A}}}}}return C},zn=h=>fetch(`${h.replace(/\/$/,"")}/info.json`).then(h=>h.json()).then(h=>h).catch(m=>{console.error(`The IIIF tilesource ${h.replace(/\/$/,"")}/info.json failed to load: ${m}`)}),Fn=h=>{let m,_;return Array.isArray(h)&&(m=h[0])&&(_="@id"in m?m["@id"]:m.id),_},viewer_Ce=h=>{var m;let _,v;if(On(h))_=h,v={};else{let b=JSON.parse(function(h){let m=function(h){let m=h.length%4;if(1===m)throw Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");return h+(m?"====".slice(0,4-m):"")}(h),_=m.replace(/-/g,"+").replace(/_/g,"/"),v="undefined"==typeof atob?sv.from(_,"base64").toString("utf-8"):atob(_);return decodeURIComponent(v).trim()}(h));switch(null==b?void 0:b.type){case"SpecificResource":case"Range":case"Annotation":v={manifest:_=null==b?void 0:b.target.partOf[0].id,canvas:null==b?void 0:b.target.id};break;case"Canvas":v={manifest:_=null==b?void 0:b.partOf[0].id,canvas:null==b?void 0:b.id};break;case"Manifest":_=null==b?void 0:b.id,v={collection:null==(m=null==b?void 0:b.partOf[0])?void 0:m.id,manifest:null==b?void 0:b.id};break;case"Collection":v={collection:_=null==b?void 0:b.id}}}return{resourceId:_,active:v}},Vn=h=>{let{resourceId:m,active:_}=viewer_Ce(h);return _.collection||_.manifest||m},Hn=(h,m)=>{let _=m.items.map(h=>h.id),{active:v}=viewer_Ce(h),b=v.canvas;return _.includes(b)?b:_[0]},Bn=(h,m)=>{let{active:_}=viewer_Ce(h),v=_.manifest,b=m.items.filter(h=>"Manifest"===h.type).map(h=>h.id);return 0==b.length?null:b.includes(v)?v:b[0]},On=h=>{try{new URL(h)}catch{return!1}return!0};var lH=((en=lH||{}).TiledImage="tiledImage",en.SimpleImage="simpleImage",en);function viewer_rt(h,m,_,v,b){if(!h)return;let A=1/m.width;v.forEach(m=>{if(!m.target)return;let v=viewer_nt(m.target),{point:C,rect:S,svg:I}=v;if(S){let{x:m,y:v,w:C,h:I}=S;!function(h,m,_,v,b,A,C){let S=new eO.Rect(m,_,v,b),I=document.createElement("div");if(A){let{backgroundColor:h,opacity:m,borderType:_,borderColor:v,borderWidth:b}=A;I.style.backgroundColor=h,I.style.opacity=m,I.style.border=`${_} ${b} ${v}`,I.className=C}h.addOverlay(I,S)}(h,m*A,v*A,C*A,I*A,_,b)}if(C){let{x:m,y:v}=C,S=`
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
          <circle cx="${m}" cy="${v}" r="20" />
        </svg>
      `;viewer_Pe(h,S,_,A,b)}I&&viewer_Pe(h,I,_,A,b)})}function viewer_Pe(h,m,_,v,b){let A=function(h){if(!h)return null;let m=document.createElement("template");return m.innerHTML=h.trim(),m.content.children[0]}(m);if(A)for(let m of A.children)!function viewer_ot(h,m,_,v,b){var A;if("#text"===m.nodeName)m.textContent&&(m.textContent.includes(`
`)||console.log("nodeName:",m.nodeName,", textContent:",m.textContent,", childNodes.length",m.childNodes.length));else{let C=function(h,m,_){let v=!1,b=!1,A=!1,C=!1,S=document.createElementNS("http://www.w3.org/2000/svg",h.nodeName);if(h.attributes.length>0)for(let m=0;m<h.attributes.length;m++){let _=h.attributes[m];switch(_.name){case"fill":A=!0;break;case"stroke":v=!0;break;case"stroke-width":b=!0;break;case"fill-opacity":C=!0}S.setAttribute(_.name,_.textContent)}return v||(S.style.stroke=null==m?void 0:m.borderColor),b||(S.style.strokeWidth=null==m?void 0:m.borderWidth),A||(S.style.fill=null==m?void 0:m.backgroundColor),C||(S.style.fillOpacity=null==m?void 0:m.opacity),S.setAttribute("transform",`scale(${_})`),S}(m,_,v),S=Pn(h);S.node().append(C),null==(A=S._svg)||A.setAttribute("class",b),m.childNodes.forEach(m=>{viewer_ot(h,m,_,v,b)})}}(h,m,_,v,b)}let Gn=h=>{let m=Array.isArray(null==h?void 0:h.service)&&(null==h?void 0:h.service.length)>0,_=m?Fn(null==h?void 0:h.service):null==h?void 0:h.id,v=m?lH.TiledImage:lH.SimpleImage;return{uri:_,imageType:v}},Un=(h,m)=>{let _=m?lH.TiledImage:lH.SimpleImage;return{uri:h,imageType:_}};function viewer_at(h,m){if(!h)return;m.startsWith(".")||(m="."+m);let _=document.querySelectorAll(m);_&&_.forEach(m=>h.removeOverlay(m))}function viewer_ge(h,m,_,v){let b=viewer_nt(_),{point:A,rect:C,svg:S}=b;if(A||C||S){let _=function(h,m,_){let v,b,A=40,C=40;m.rect&&(v=m.rect.x,b=m.rect.y,A=m.rect.w,C=m.rect.h),m.point&&(v=m.point.x,b=m.point.y);let S=1/h.width;return new eO.Rect(v*S-A*S/2*(_-1),b*S-C*S/2*(_-1),A*S*_,C*S*_)}(v,b,m);null==h||h.viewport.fitBounds(_)}}let lU={xxs:"(max-width: 349px)",xs:"(max-width: 575px)",sm:"(max-width: 767px)",md:"(max-width: 991px)",lg:"(max-width: 90rem)",xl:"(min-width: calc(90rem + 1px))"},{styled:l$,css:lz,keyframes:lG,createTheme:lj}=(0,eL.Th)({theme:{colors:{primary:"#1a1d1e",primaryMuted:"#26292b",primaryAlt:"#151718",accent:"hsl(209 100% 38.2%)",accentMuted:"hsl(209 80% 61.8%)",accentAlt:"hsl(209 80% 30%)",secondary:"#FFFFFF",secondaryMuted:"#e6e8eb",secondaryAlt:"#c1c8cd"},fontSizes:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},lineHeights:{1:"12px",2:"13px",3:"15px",4:"17px",5:"19px",6:"21px",7:"27px",8:"35px",9:"59px"},sizes:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},space:{1:"5px",2:"10px",3:"15px",4:"20px",5:"25px",6:"35px",7:"45px",8:"65px",9:"80px"},radii:{1:"4px",2:"6px",3:"8px",4:"12px",round:"50%",pill:"9999px"},transitions:{all:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},zIndices:{1:"100",2:"200",3:"300",4:"400",max:"999"}},media:lU}),lV=l$("div",{display:"flex",flexDirection:"column",alignItems:"center"}),lq=l$("p",{fontWeight:"bold",fontSize:"x-large"}),lW=l$("span",{fontSize:"medium"}),viewer_$e=({error:h})=>{let{message:m}=h;return eD.createElement(lV,{role:"alert"},eD.createElement(lq,{"data-testid":"headline"},"Something went wrong"),m&&eD.createElement(lW,null,`Error message: ${m}`," "))},lY=l$("div",{position:"relative",zIndex:"0"}),lQ=l$("div",{display:"flex",flexDirection:"row",flexGrow:"1",overflow:"hidden","@sm":{flexDirection:"column"}}),lX=l$("div",{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",width:"61.8%","@sm":{width:"100%"}}),lK=l$(sE.xz,{display:"none",border:"none",padding:"0",transition:"$all",opacity:"1",background:"#6663",margin:"1rem 0",borderRadius:"6px","&[data-information-panel='false']":{opacity:"0",marginTop:"-59px"},"@sm":{display:"flex","> span":{display:"flex",flexGrow:"1",fontSize:"0.8333em",justifyContent:"center",padding:"0.5rem",fontFamily:"inherit"}}}),lJ=l$(sE.VY,{width:"100%",display:"flex"}),lZ=l$("aside",{display:"flex",flexGrow:"1",flexShrink:"0",width:"38.2%",maxHeight:"100%","@sm":{width:"100%"}}),l0=l$("div",{display:"flex",flexDirection:"column",fontSmooth:"auto",webkitFontSmoothing:"antialiased",'&[data-absolute-position="true"]':{position:"absolute",width:"100%",height:"100%",zIndex:"0"},"> div":{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"flex-start",height:"100%",maxHeight:"100%","@sm":{[`& ${lQ}`]:{flexGrow:"1"},[`& ${lX}`]:{flexGrow:"0"}}},"@sm":{padding:"0"},"&[data-information-panel-open='true']":{"@sm":{position:"fixed",height:"100%",width:"100%",top:"0",left:"0",zIndex:"2500000000",[`& ${lY}`]:{display:"none"},[`& ${lK}`]:{margin:"1rem"},[`& ${lJ}`]:{height:"100%"}}}}),l1=l$(s4.fC,{display:"flex",flexDirection:"column",width:"100%",height:"100%",flexGrow:"1",flexShrink:"0",position:"relative",zIndex:"1",maskImage:"linear-gradient(180deg, rgba(0, 0, 0, 1) calc(100% - 2rem), transparent 100%)","@sm":{marginTop:"0.5rem",boxShadow:"none"}}),l2=l$(s4.aV,{display:"flex",flexGrow:"0",margin:"0 1.618rem",borderBottom:"4px solid #6663","@sm":{margin:"0 1rem"}}),l3=l$(s4.xz,{display:"flex",position:"relative",padding:"0.5rem 1rem",background:"none",backgroundColor:"transparent",fontFamily:"inherit",border:"none",opacity:"0.7",fontSize:"1rem",marginRight:"1rem",lineHeight:"1rem",whiteSpace:"nowrap",cursor:"pointer",fontWeight:400,transition:"$all","&::after":{width:"0",height:"4px",content:"",position:"absolute",bottom:"-4px",left:"0",transition:"$all"},"&[data-state='active']":{opacity:"1",fontWeight:700,"&::after":{width:"100%",backgroundColor:"$accent"}}}),l4=l$(s4.VY,{display:"flex",flexGrow:"1",flexShrink:"0",position:"absolute",top:"0",left:"0","&[data-state='active']":{width:"100%",height:"calc(100% - 2rem)",padding:"1.618rem 0"}}),l5=l$(({handleScroll:h,children:m,className:_})=>eD.createElement("div",{className:_,onScroll:h},m),{position:"relative",height:"100%",width:"100%",overflowY:"scroll"}),l6={position:"relative",cursor:"pointer",display:"flex",width:"100%",justifyContent:"space-between",textAlign:"left",margin:"0",padding:"0.5rem 1.618rem",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",color:"inherit",border:"none",background:"none"},l8=l$("button",{textAlign:"left","&:hover":{color:"$accent"}}),l9=l$("div",{display:"flex",flexDirection:"column",width:"100%"}),l7=l$("div",{...l6}),cn=l$("div",{"&:hover":{color:"$accent"}}),viewer_ze=({value:h,handleClick:m})=>eD.createElement(l8,{onClick:m},h),lr=({value:h,handleClick:m})=>eD.createElement(cn,{dangerouslySetInnerHTML:{__html:h},onClick:m}),sr=()=>{function e(h){return h.map(h=>{let m=h.identifier||esm_browser_v4();return{...h,identifier:m}})}return{addIdentifiersToParsedCues:e,createNestedCues:function(h){var m;let _=[],v=[],b=e(h);for(let h of b){for(;v.length>0&&v[v.length-1].end<=h.start;)v.pop();v.length>0?(v[v.length-1].children||(v[v.length-1].children=[]),null==(m=v[v.length-1].children)||m.push(h)):_.push(h),v.push(h)}return _},isChild:function(h,m=[]){return m.some(m=>h.start>=m.start&&h.end<=m.end)},orderCuesByTime:function(h=[]){return h.sort((h,m)=>h.start-m.start)}}},cr=lG({from:{transform:"rotate(360deg)"},to:{transform:"rotate(0deg)"}}),ci=l$(s5.fC,{display:"flex",flexDirection:"column",width:"100%"}),cs=l$(s5.ck,{...l6,"@sm":{padding:"0.5rem 1rem",fontSize:"0.8333rem"},"&::before":{content:"",width:"12px",height:"12px",borderRadius:"12px",position:"absolute",backgroundColor:"$primaryMuted",opacity:"0",left:"8px",marginTop:"3px",boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",opacity:"0",clipPath:"polygon(100% 50%, 0 100%, 0 0)",left:"13px",marginTop:"6px",boxSizing:"content-box","@sm":{content:"unset"}},strong:{marginLeft:"1rem"},"&:hover":{color:"$accent","&::before":{backgroundColor:"$accent",opacity:"1"},"&::after":{content:"",width:"4px",height:"6px",position:"absolute",backgroundColor:"$secondary",clipPath:"polygon(100% 50%, 0 100%, 0 0)",opacity:"1"}},"&[aria-checked='true']":{backgroundColor:"#6663","&::before":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accentMuted",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1s linear infinite",animationName:cr,boxSizing:"content-box","@sm":{content:"unset"}},"&::after":{content:"",width:"6px",height:"6px",position:"absolute",backgroundColor:"transparent",border:"3px solid $accent",clipPath:"polygon(100% 0, 100% 100%, 0 0)",borderRadius:"12px",left:"8px",marginTop:"4px",opacity:"1",animation:"1.5s linear infinite",animationName:cr,boxSizing:"content-box","@sm":{content:"unset"}}}}),viewer_mr=h=>{for(;h&&h!==document.body;){let m=window.getComputedStyle(h).overflowY;if("visible"!==m&&"hidden"!==m&&h.scrollHeight>h.clientHeight)return h;h=h.parentNode}return null},ur=({label:h,start:m,end:_})=>{var v,b;let A=viewer_P(),{configOptions:C,isAutoScrollEnabled:S,isUserScrolling:I}=viewer_$(),w=null==(b=null==(v=null==C?void 0:C.informationPanel)?void 0:v.vtt)?void 0:b.autoScroll,[O,L]=(0,eD.useState)(!1),M=(0,eD.useRef)(null),F=document.getElementById("clover-iiif-video");return(0,eD.useEffect)(()=>(null==F||F.addEventListener("timeupdate",()=>{let{currentTime:h}=F;L(m<=h&&h<_)}),()=>document.removeEventListener("timeupdate",()=>{})),[_,m,F]),(0,eD.useEffect)(()=>{var h,m;if(S&&O&&M.current&&!I){let _=M.current;if(_&&_ instanceof HTMLElement){let v=viewer_mr(_);if(v&&v instanceof HTMLElement){let b;switch(null==(h=null==w?void 0:w.settings)?void 0:h.block){case"center":let C=v.getBoundingClientRect();b=_.offsetTop+_.offsetHeight-Math.floor((C.bottom-C.top)/2);break;case"end":b=_.offsetTop+_.offsetHeight-(v.clientHeight-_.clientHeight)+2;break;default:b=_.offsetTop-2}A({type:"updateAutoScrolling",isAutoScrolling:!0}),v.scrollTo({top:b,left:0,behavior:null==(m=null==w?void 0:w.settings)?void 0:m.behavior}),setTimeout(()=>A({type:"updateAutoScrolling",isAutoScrolling:!1}),750)}}}},[w,O,I,S,A]),eD.createElement(cs,{ref:M,"aria-checked":O,"data-testid":"information-panel-cue",onClick:()=>{F&&(F.pause(),F.currentTime=m,F.play())},value:h},h,eD.createElement("strong",null,viewer_Je(m)))},cl=l$("ul",{listStyle:"none",paddingLeft:"1rem",position:"relative","&&:first-child":{paddingLeft:"0"},"& li ul":{[`& ${cs}`]:{backgroundColor:"unset","&::before":{content:"none"},"&::after":{content:"none"}}},"&:first-child":{margin:"0 0 1.618rem"}}),viewer_ft=({items:h})=>eD.createElement(cl,null,h.map(h=>{let{text:m,start:_,end:v,children:b,identifier:A}=h;return eD.createElement("li",{key:A},eD.createElement(ur,{label:m,start:_,end:v}),b&&eD.createElement(viewer_ft,{items:b}))})),fr=({label:h,vttUri:m})=>{let[_,v]=eD.useState([]),{createNestedCues:b,orderCuesByTime:A}=sr(),[C,S]=eD.useState();return(0,eD.useEffect)(()=>{m&&fetch(m,{headers:{"Content-Type":"text/plain",Accept:"application/json"}}).then(h=>h.text()).then(h=>{let m=(0,s6.parse)(h).cues,_=A(m),C=b(_);v(C)}).catch(h=>{console.error(m,h.toString()),S(h)})},[m]),eD.createElement(ci,{"data-testid":"annotation-item-vtt","aria-label":`${viewer_J(h)}`},C&&eD.createElement("div",{"data-testid":"error-message"},"Network Error: ",C.toString()),eD.createElement(viewer_ft,{items:_}))},hr=({caption:h,handleClick:m,imageUri:_})=>eD.createElement(l8,{onClick:m},eD.createElement("img",{src:_,alt:`A visual annotation for ${h}`}),eD.createElement("span",null,h)),gr=({annotation:h})=>{var m,_;let{target:v}=h,b=viewer_$(),{openSeadragonViewer:A,vault:C,activeCanvas:S,configOptions:I}=b,w=h.body.map(h=>C.get(h.id)),O=(null==(m=w.find(h=>h.format))?void 0:m.format)||"",L=(null==(_=w.find(h=>h.value))?void 0:_.value)||"",M=C.get({id:S,type:"Canvas"});function u(){var h;if(!v)return;let m=(null==(h=I.annotationOverlays)?void 0:h.zoomLevel)||1;viewer_ge(A,m,v,M)}return eD.createElement(l7,null,function(){var h,m;switch(O){case"text/plain":return eD.createElement(viewer_ze,{value:L,handleClick:u});case"text/html":return eD.createElement(lr,{value:L,handleClick:u});case"text/vtt":return eD.createElement(fr,{label:w[0].label,vttUri:w[0].id||""});case null==(h=O.match(/^image\//))?void 0:h.input:let _=(null==(m=w.find(h=>{var m;return!(null!=(m=h.id)&&m.includes("vault://"))}))?void 0:m.id)||"";return eD.createElement(hr,{caption:L,handleClick:u,imageUri:_});default:return eD.createElement(viewer_ze,{value:L,handleClick:u})}}())},viewer_vr=({annotationPage:h})=>{var m;let _=viewer_$(),{vault:v}=_;if(!h||!h.items||(null==(m=h.items)?void 0:m.length)===0)return eD.createElement(eD.Fragment,null);let b=h.items.map(h=>v.get(h.id));return b?eD.createElement(l9,{"data-testid":"annotation-page"},null==b?void 0:b.map(h=>eD.createElement(gr,{key:h.id,annotation:h}))):eD.createElement(eD.Fragment,null)},cc=l$("button",{textAlign:"left","&:hover":{color:"$accent"}}),cu=l$("li",{margin:"0.25rem 0"}),cd=l$("ol",{listStyleType:"auto",marginBottom:"1rem",listStylePosition:"inside"}),ch=l$("div",{margin:"0.5rem 1.618rem"}),cp=l$("div",{fontWeight:"bold"}),cm=l$("div",{marginBottom:"1rem"}),Cr=({value:h,handleClick:m,target:_,canvas:v})=>eD.createElement(cc,{onClick:m,"data-target":_,"data-canvas":v},h),kr=({annotation:h,activeContentSearchTarget:m,setActiveContentSearchTarget:_})=>{var v,b,A;let C,S;let I=viewer_P(),w=viewer_$(),{openSeadragonViewer:O,vault:L,contentSearchVault:M,activeCanvas:F,configOptions:B,OSDImageLoaded:U}=w,$=L.get({id:F,type:"Canvas"}),G=(null==(v=h.body.map(h=>M.get(h.id)).find(h=>h.value))?void 0:v.value)||"";if(h.target&&"string"==typeof h.target&&(C=h.target),C){let h=C.split("#xywh");h.length>1&&(S=h[0])}let j=(null==(A=null==(b=B.contentSearch)?void 0:b.overlays)?void 0:A.zoomLevel)||1;(0,eD.useEffect)(()=>{U&&O&&h.target&&h.target==m&&viewer_ge(O,j,C,$)},[O,U]);let q=JSON.stringify(C);return eD.createElement(cu,null,eD.createElement(Cr,{target:q,canvas:S,value:G,handleClick:function(h){if(!O)return;let m=JSON.parse(h.target.dataset.target),v=h.target.dataset.canvas;F===v?viewer_ge(O,j,C,$):(I({type:"updateOSDImageLoaded",OSDImageLoaded:!1}),I({type:"updateActiveCanvas",canvasId:v}),_(m))}}))},Ir=({annotationPage:h})=>{var m,_,v;let b=viewer_$(),{contentSearchVault:A,configOptions:C}=b,[S,I]=(0,eD.useState)(),w=null==(m=C.contentSearch)?void 0:m.searchResultsLimit,O=null==(_=C.localeText)?void 0:_.contentSearch;return h&&h.items&&(null==(v=h.items)?void 0:v.length)!==0?eD.createElement(eD.Fragment,null,Object.entries(function(h){let m={};return h.items.forEach(h=>{let _=A.get(h.id),v="";if(_.label){let h=viewer_J(_.label);h&&(v=h[0])}null==m[v]&&(m[v]=[]),m[v].push(_)}),m}(h)).map(([h,m],_)=>eD.createElement("div",{key:_},eD.createElement(cp,{className:"content-search-results-title"},h),eD.createElement(cd,{className:"content-search-results"},(w?m.slice(0,w):m).map((h,m)=>eD.createElement(kr,{key:m,annotation:h,activeContentSearchTarget:S,setActiveContentSearchTarget:I}))),function(h){if(w){let m=h.length-w;if(m>0)return eD.createElement(cm,null,m," ",null==O?void 0:O.moreResults)}}(m)))):eD.createElement("p",null,null==O?void 0:O.noSearchResults)},cf=l$("div",{".content-search-form":{display:"flex",marginBottom:"1rem"},input:{padding:".25rem",marginRight:"1rem"}}),cg=l$("button",{display:"flex",background:"none",border:"none",width:"2rem",height:"2rem",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),viewer_Tr=({searchServiceUrl:h,setContentSearchResource:m,setLoading:_})=>{var v;let[b,A]=(0,eD.useState)(),C=viewer_$(),{contentSearchVault:S,openSeadragonViewer:I,configOptions:w}=C,O=null==(v=w.localeText)?void 0:v.contentSearch;async function p(v){v.preventDefault();let A=null==O?void 0:O.tabLabel;if(I&&h){if(!b||""===b.trim()){m({label:{none:[A]}});return}_(!0),viewer_et(S,h,A,{q:b}).then(h=>{m(h),_(!1)})}}return eD.createElement(cf,null,eD.createElement(lf,{onSubmit:p,className:"content-search-form"},eD.createElement(lv,{className:"FormField",name:"searchTerms",onChange:h=>{h.preventDefault(),A(h.target.value)}},eD.createElement(ly,{placeholder:null==O?void 0:O.formPlaceholder})),eD.createElement(lC,{asChild:!0},eD.createElement(cg,{type:"submit"},eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eD.createElement("title",null,"Search"),eD.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}))))))},Lr=({searchServiceUrl:h,setContentSearchResource:m,activeCanvas:_,annotationPage:v})=>{let[b,A]=(0,eD.useState)(!1);return eD.createElement(ch,null,eD.createElement(viewer_Tr,{searchServiceUrl:h,setContentSearchResource:m,activeCanvas:_,setLoading:A}),!b&&eD.createElement(Ir,{annotationPage:v}),b&&eD.createElement("span",null,"Loading..."))},c_=l$("div",{padding:" 0 1.618rem 2rem",display:"flex",flexDirection:"column",overflow:"scroll",position:"absolute",fontWeight:"400",fontSize:"1rem",zIndex:"0",img:{maxWidth:"100px",maxHeight:"100px",objectFit:"contain",color:"transparent",margin:"0 0 1rem",borderRadius:"3px",backgroundColor:"$secondaryMuted"},video:{display:"none"},"a, a:visited":{color:"$accent"},p:{fontSize:"1rem",lineHeight:"1.45em",margin:"0"},dl:{margin:"0",dt:{fontWeight:"700",margin:"1rem 0 0.25rem"},dd:{margin:"0"}},".manifest-property-title":{fontWeight:"700",margin:"1rem 0 0.25rem"},"ul, ol":{padding:"0",margin:"0",li:{fontSize:"1rem",lineHeight:"1.45em",listStyle:"none",margin:"0.25rem 0 0.25rem"}}}),cE=l$("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),viewer_ht=(h,m="none")=>{if(!h)return null;if("string"==typeof h)return[h];if(!h[m]){let m=Object.getOwnPropertyNames(h);if(m.length>0)return h[m[0]]}return h[m]&&Array.isArray(h[m])?h[m]:null},viewer_F=(h,m="none",_=", ")=>{let v=viewer_ht(h,m);return Array.isArray(v)?v.join(`${_}`):v};function viewer_B(h,m){let _=Object.keys(h).filter(h=>m.includes(h)?null:h),v={};return _.forEach(m=>{v[m]=h[m]}),v}let cv=l$("span",{}),viewer_W=h=>{let{as:m,label:_}=h,v=viewer_B(h,["as","label"]);return eD.createElement(cv,{as:m,...v},viewer_F(_,v.lang))},Vr=(h,m="200,",_="full")=>{let v;Array.isArray(h)&&(h=h[0]);let{id:b,service:A}=h;if(!A)return b;if(Array.isArray(h.service)&&h.service.length>0&&(v=A[0]),v){if(v["@id"])return`${v["@id"]}/${_}/${m}/0/default.jpg`;if(v.id)return`${v.id}/${_}/${m}/0/default.jpg`}},cT=l$("img",{objectFit:"cover"}),Hr=h=>{let m;let _=(0,eD.useRef)(null),{contentResource:v,altAsLabel:b,region:A="full"}=h;b&&(m=viewer_F(b));let C=viewer_B(h,["contentResource","altAsLabel"]),{type:S,id:I,width:w=200,height:O=200,duration:L}=v;(0,eD.useEffect)(()=>{if(!I&&!_.current||["Image"].includes(S)||!I.includes("m3u8"))return;let h=new nb.ZP;return _.current&&(h.attachMedia(_.current),h.on(nb.ZP.Events.MEDIA_ATTACHED,function(){h.loadSource(I)})),h.on(nb.ZP.Events.ERROR,function(m,_){if(_.fatal)switch(_.type){case nb.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${m} network error encountered, try to recover`),h.startLoad();break;case nb.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${m} media error encountered, try to recover`),h.recoverMediaError();break;default:h.destroy()}}),()=>{h&&(h.detachMedia(),h.destroy())}},[I,S]);let M=(0,eD.useCallback)(()=>{if(!_.current)return;let h=0,m=30;if(L&&(m=L),!I.split("#t=")&&L&&(h=.1*L),I.split("#t=").pop()){let m=I.split("#t=").pop();m&&(h=parseInt(m.split(",")[0]))}let v=_.current;v.autoplay=!0,v.currentTime=h,setTimeout(()=>M(),1e3*m)},[L,I]);(0,eD.useEffect)(()=>M(),[M]);let F=Vr(v,`${w},${O}`,A);switch(S){case"Image":return eD.createElement(cT,{as:"img",alt:m,css:{width:w,height:O},key:I,src:F,...C});case"Video":return eD.createElement(cT,{as:"video",css:{width:w,height:O},disablePictureInPicture:!0,key:I,loop:!0,muted:!0,onPause:M,ref:_,src:I});default:return console.warn(`Resource type: ${S} is not valid or not yet supported in Primitives.`),eD.createElement(eD.Fragment,null)}},cy=l$("a",{}),Or=h=>{let{children:m,homepage:_}=h,v=viewer_B(h,["children","homepage"]);return eD.createElement(eD.Fragment,null,_&&_.map(h=>{let _=viewer_F(h.label,v.lang);return eD.createElement(cy,{"aria-label":m?_:void 0,href:h.id,key:h.id,...v},m||_)}))},cb={delimiter:", "},ck=(0,eD.createContext)(void 0),viewer_gt=()=>{let h=(0,eD.useContext)(ck);if(void 0===h)throw Error("usePrimitivesContext must be used with a PrimitivesProvider");return h},viewer_Te=({children:h,initialState:m=cb})=>{let _=Dr(m,"delimiter");return eD.createElement(ck.Provider,{value:{delimiter:_}},h)},Dr=(h,m)=>Object.hasOwn(h,m)?h[m].toString():void 0,cA=l$("span",{}),viewer_He=h=>{let{as:m,markup:_}=h,{delimiter:v}=viewer_gt();if(!_)return eD.createElement(eD.Fragment,null);let b=viewer_B(h,["as","markup"]),A={__html:ny(viewer_F(_,b.lang,v),{allowedAttributes:{a:["href"],img:["alt","src","height","width"]},allowedSchemes:["http","https","mailto"],allowedTags:["a","b","br","i","img","p","small","span","sub","sup"]})};return eD.createElement(cA,{as:m,...b,dangerouslySetInnerHTML:A})},viewer_vt=h=>eD.useContext(ck)?eD.createElement(viewer_He,{...h}):eD.createElement(viewer_Te,null,eD.createElement(viewer_He,{...h})),_r=({as:h="dd",lang:m,value:_})=>eD.createElement(viewer_vt,{markup:_,as:h,lang:m}),cx=l$("span",{}),Gr=({as:h="dd",customValueContent:m,lang:_,value:v})=>{var b;let{delimiter:A}=viewer_gt(),C=null==(b=viewer_ht(v,_))?void 0:b.map(h=>(0,eD.cloneElement)(m,{value:h}));return eD.createElement(cx,{as:h,lang:_},null==C?void 0:C.map((h,m)=>[m>0&&`${A}`,eD.createElement(eD.Fragment,{key:m},h)]))},viewer_yt=h=>{var m;let{item:_,lang:v,customValueContent:b}=h,{label:A,value:C}=_,S=null==(m=viewer_F(A))?void 0:m.replace(" ","-").toLowerCase();return eD.createElement("div",{role:"group","data-label":S},eD.createElement(viewer_W,{as:"dt",label:A,lang:v}),b?eD.createElement(Gr,{as:"dd",customValueContent:b,value:C,lang:v}):eD.createElement(_r,{as:"dd",value:C,lang:v}))},cC=l$("dl",{}),Jr=h=>{let{as:m,customValueContent:_,metadata:v}=h;if(!Array.isArray(v))return eD.createElement(eD.Fragment,null);let b=viewer_Xe(h,"customValueDelimiter"),A=viewer_B(h,["as","customValueContent","customValueDelimiter","metadata"]);return eD.createElement(viewer_Te,{..."string"==typeof b?{initialState:{delimiter:b}}:void 0},v.length>0&&eD.createElement(cC,{as:m,...A},v.map((h,m)=>{let v=_?function(h,m){let _=m.filter(m=>{let{matchingLabel:_}=m,v=Object.keys(m.matchingLabel)[0],b=viewer_F(_,v);if(viewer_F(h,v)===b)return!0}).map(h=>h.Content);if(Array.isArray(_))return _[0]}(h.label,_):void 0;return eD.createElement(viewer_yt,{customValueContent:v,item:h,key:m,lang:null==A?void 0:A.lang})})))};l$("li",{}),l$("ul",{});let cS=l$("li",{}),cI=l$("ul",{}),Yr=h=>{let{as:m,rendering:_}=h,v=viewer_B(h,["as","rendering"]);return eD.createElement(cI,{as:m},_&&_.map(h=>{let m=viewer_F(h.label,v.lang);return eD.createElement(cS,{key:h.id},eD.createElement("a",{href:h.id,...v,target:"_blank"},m||h.id))}))},cw=l$("dl",{}),Qr=h=>{let{as:m,requiredStatement:_}=h;if(!_)return eD.createElement(eD.Fragment,null);let v=viewer_Xe(h,"customValueDelimiter"),b=viewer_B(h,["as","customValueDelimiter","requiredStatement"]);return eD.createElement(viewer_Te,{..."string"==typeof v?{initialState:{delimiter:v}}:void 0},eD.createElement(cw,{as:m,...b},eD.createElement(viewer_yt,{item:_,lang:b.lang})))},cN=l$("li",{}),cO=l$("ul",{}),no=h=>{let{as:m,seeAlso:_}=h,v=viewer_B(h,["as","seeAlso"]);return eD.createElement(cO,{as:m},_&&_.map(h=>{let m=viewer_F(h.label,v.lang);return eD.createElement(cN,{key:h.id},eD.createElement("a",{href:h.id,...v},m||h.id))}))},ro=h=>{let{as:m,summary:_}=h,v=viewer_B(h,["as","customValueDelimiter","summary"]);return eD.createElement(viewer_vt,{as:m,markup:_,...v})},viewer_bt=h=>{let{thumbnail:m,region:_}=h,v=viewer_B(h,["thumbnail"]);return eD.createElement(eD.Fragment,null,m&&m.map(h=>eD.createElement(Hr,{contentResource:h,key:h.id,region:_,...v})))},oo=({homepage:h})=>(null==h?void 0:h.length)===0?eD.createElement(eD.Fragment,null):eD.createElement(eD.Fragment,null,eD.createElement("span",{className:"manifest-property-title"},"Homepage"),eD.createElement(Or,{homepage:h})),ao=({id:h,htmlLabel:m,parent:_="manifest"})=>eD.createElement(eD.Fragment,null,eD.createElement("span",{className:"manifest-property-title"},m),eD.createElement("a",{href:h,target:"_blank",id:`iiif-${_}-id`},h)),io=({metadata:h,parent:m="manifest"})=>h?eD.createElement(eD.Fragment,null,eD.createElement(Jr,{metadata:h,id:`iiif-${m}-metadata`})):eD.createElement(eD.Fragment,null),lo=({rendering:h})=>(null==h?void 0:h.length)===0?eD.createElement(eD.Fragment,null):eD.createElement(eD.Fragment,null,eD.createElement("span",{className:"manifest-property-title"},"Alternate formats"),eD.createElement(Yr,{rendering:h})),so=({requiredStatement:h,parent:m="manifest"})=>h?eD.createElement(eD.Fragment,null,eD.createElement(Qr,{requiredStatement:h,id:`iiif-${m}-required-statement`})):eD.createElement(eD.Fragment,null),co=({rights:h})=>h?eD.createElement(eD.Fragment,null,eD.createElement("span",{className:"manifest-property-title"},"Rights"),eD.createElement("a",{href:h,target:"_blank"},h)):eD.createElement(eD.Fragment,null),mo=({seeAlso:h})=>(null==h?void 0:h.length)===0?eD.createElement(eD.Fragment,null):eD.createElement(eD.Fragment,null,eD.createElement("span",{className:"manifest-property-title"},"See Also"),eD.createElement(no,{seeAlso:h})),uo=({summary:h,parent:m="manifest"})=>h?eD.createElement(eD.Fragment,null,eD.createElement(ro,{summary:h,as:"p",id:`iiif-${m}-summary`})):eD.createElement(eD.Fragment,null),po=({label:h,thumbnail:m})=>(null==m?void 0:m.length)===0?eD.createElement(eD.Fragment,null):eD.createElement(eD.Fragment,null,eD.createElement(viewer_bt,{altAsLabel:h||{none:["resource"]},thumbnail:m,style:{backgroundColor:"#6663",objectFit:"cover"}})),fo=()=>{let h=viewer_$(),{activeManifest:m,vault:_}=h,[v,b]=(0,eD.useState)(),[A,C]=(0,eD.useState)([]),[S,I]=(0,eD.useState)([]),[w,O]=(0,eD.useState)([]),[L,M]=(0,eD.useState)([]);return(0,eD.useEffect)(()=>{var h,v,A,S;let w=_.get(m);b(w),(null==(h=w.homepage)?void 0:h.length)>0&&C(_.get(w.homepage)),(null==(v=w.seeAlso)?void 0:v.length)>0&&I(_.get(w.seeAlso)),(null==(A=w.rendering)?void 0:A.length)>0&&O(_.get(w.rendering)),(null==(S=w.thumbnail)?void 0:S.length)>0&&M(_.get(w.thumbnail))},[m,_]),v?eD.createElement(cE,null,eD.createElement(c_,null,eD.createElement(po,{thumbnail:L,label:v.label}),eD.createElement(uo,{summary:v.summary}),eD.createElement(io,{metadata:v.metadata}),eD.createElement(so,{requiredStatement:v.requiredStatement}),eD.createElement(co,{rights:v.rights}),eD.createElement(oo,{homepage:A}),eD.createElement(mo,{seeAlso:S}),eD.createElement(lo,{rendering:w}),eD.createElement(ao,{id:v.id,htmlLabel:"IIIF Manifest"}))):eD.createElement(eD.Fragment,null)},vo=({activeCanvas:h,annotationResources:m,searchServiceUrl:_,setContentSearchResource:v,contentSearchResource:b})=>{let{t:A}=(0,s_.$G)(),C=viewer_P(),S=viewer_$(),{isAutoScrolling:I,isUserScrolling:w,vault:O,configOptions:L,plugins:M}=S,{informationPanel:F}=L,[B,U]=(0,eD.useState)(),$=null==F?void 0:F.renderAbout,G=null==F?void 0:F.renderAnnotation,j=O.get({id:h,type:"Canvas"}),q=null==F?void 0:F.renderContentSearch,{pluginsWithInfoPanel:Q}=function(h){let m=[];return h.forEach(h=>{var _;null!=(_=h.informationPanel)&&_.component&&m.push(h)}),{pluginsWithInfoPanel:m}}(M);return(0,eD.useEffect)(()=>{if(!B){if(null!=F&&F.defaultTab){let h=["manifest-about","manifest-content-search"];j.annotations.length>0&&j.annotations.forEach(m=>h.push(m.id)),h.includes(null==F?void 0:F.defaultTab)?U(F.defaultTab):U("manifest-about")}else $?U("manifest-about"):q?U("manifest-content-search"):m&&(null==m?void 0:m.length)>0?U(m[0].id):M.length>0&&U(M[0].id)}},[null==F?void 0:F.defaultTab,h,B,$,q,m,b,null==j?void 0:j.annotations,M]),eD.createElement(l1,{"data-testid":"information-panel",defaultValue:B,onValueChange:h=>{U(h)},orientation:"horizontal",value:B,className:"clover-viewer-information-panel"},eD.createElement(l2,{"aria-label":A("informationPanelTabs"),"data-testid":"information-panel-list"},$&&eD.createElement(l3,{value:"manifest-about"},A("informationPanelTabsAbout")),q&&b&&eD.createElement(l3,{value:"manifest-content-search"},eD.createElement(viewer_W,{label:b.label})),G&&m&&m.map((h,m)=>eD.createElement(l3,{key:m,value:h.id},eD.createElement(viewer_W,{label:h.label}))),Q&&Q.map((h,m)=>{var _;return eD.createElement(l3,{key:m,value:h.id},eD.createElement(viewer_W,{label:null==(_=h.informationPanel)?void 0:_.label}))})),eD.createElement(l5,{handleScroll:function(){if(!I){clearTimeout(w);let h=setTimeout(()=>{C({type:"updateUserScrolling",isUserScrolling:void 0})},1500);C({type:"updateUserScrolling",isUserScrolling:h})}}},$&&eD.createElement(l4,{value:"manifest-about"},eD.createElement(fo,null)),q&&b&&eD.createElement(l4,{value:"manifest-content-search"},eD.createElement(Lr,{searchServiceUrl:_,setContentSearchResource:v,activeCanvas:h,annotationPage:b})),G&&m&&m.map(h=>eD.createElement(l4,{key:h.id,value:h.id},eD.createElement(viewer_vr,{annotationPage:h}))),Q&&Q.map((h,m)=>(function(h,m){var _,v;let b=null==(_=null==h?void 0:h.informationPanel)?void 0:_.component;return void 0===b?eD.createElement(eD.Fragment,null):eD.createElement(l4,{key:m,value:h.id},eD.createElement(eR.SV,{FallbackComponent:viewer_$e},eD.createElement(b,{...null==(v=null==h?void 0:h.informationPanel)?void 0:v.componentProps,canvas:j,useViewerDispatch:viewer_P,useViewerState:viewer_$})))})(h,m))))},cR=l$("div",{position:"absolute",right:"1rem",top:"1rem",display:"flex",justifyContent:"flex-end",zIndex:"1"}),cL=l$("input",{flexGrow:"1",border:"none",backgroundColor:"$secondaryMuted",color:"$primary",marginRight:"1rem",height:"2rem",padding:"0 1rem",borderRadius:"2rem",fontFamily:"inherit",fontSize:"1rem",lineHeight:"1rem",boxShadow:"inset 1px 1px 2px #0003","&::placeholder":{color:"$primaryMuted"}}),cD=l$("button",{display:"flex",background:"none",border:"none",width:"2rem !important",height:"2rem !important",padding:"0",margin:"0",fontWeight:"700",borderRadius:"2rem",backgroundColor:"$accent",color:"$secondary",cursor:"pointer",boxSizing:"content-box !important",transition:"$all",svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",opacity:"1",filter:"drop-shadow(5px 5px 5px #000D)",boxSizing:"inherit",transition:"$all"},"&:disabled":{backgroundColor:"transparent",boxShadow:"none",svg:{opacity:"0.25"}}}),cP=l$("div",{display:"flex",marginRight:"0.618rem",backgroundColor:"$accentAlt",borderRadius:"2rem",boxShadow:"5px 5px 5px #0003",color:"$secondary",alignItems:"center","> span":{display:"flex",margin:"0 0.5rem",fontSize:"0.7222rem"}}),cM=l$("div",{display:"flex",position:"relative",zIndex:"1",width:"100%",padding:"0",transition:"$all",variants:{isToggle:{true:{paddingTop:"2.618rem",[`& ${cR}`]:{width:"calc(100% - 2rem)","@sm":{width:"calc(100% - 2rem)"}}}}}}),Eo=(h,m)=>{(0,eD.useEffect)(()=>{function r(_){_.key===h&&m()}return window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)},[])},wo=({title:h})=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eD.createElement("title",null,h),eD.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M244 400L100 256l144-144M120 256h292"})),So=({title:h})=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eD.createElement("title",null,h),eD.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M268 112l144 144-144 144M392 256H100"})),Co=({title:h})=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eD.createElement("title",null,h),eD.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),ko=({title:h})=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eD.createElement("title",null,h),eD.createElement("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})),Io=({handleCanvasToggle:h,handleFilter:m,activeIndex:_,canvasLength:v})=>{let[b,A]=(0,eD.useState)(!1),[C,S]=(0,eD.useState)(!1),[I,w]=(0,eD.useState)(!1),{t:O}=(0,s_.$G)();return(0,eD.useEffect)(()=>{w(0===_),_===v-1?S(!0):S(!1)},[_,v]),Eo("Escape",()=>{A(!1),m("")}),eD.createElement(cM,{isToggle:b},eD.createElement(cR,null,b&&eD.createElement(cL,{autoFocus:!0,onChange:h=>m(h.target.value),placeholder:O("commonSearchPlaceholder")}),!b&&eD.createElement(cP,null,eD.createElement(cD,{onClick:()=>h(-1),disabled:I,type:"button"},eD.createElement(wo,{title:O("commonPrevious")})),eD.createElement("span",null,_+1," of ",v),eD.createElement(cD,{onClick:()=>h(1),disabled:C,type:"button"},eD.createElement(So,{title:O("commonNext")}))),eD.createElement(cD,{onClick:()=>{A(h=>!h),m("")},type:"button"},b?eD.createElement(Co,{title:O("commonClose")}):eD.createElement(ko,{title:O("commonSearch")}))))},cF=l$(s5.fC,{display:"flex",flexDirection:"row",flexGrow:"1",padding:"1.618rem",overflowX:"scroll",position:"relative",zIndex:"0"}),cB=l$("svg",{display:"inline-flex",variants:{isLarge:{true:{height:"4rem",width:"4rem"}},isMedium:{true:{height:"2rem",width:"2rem"}},isSmall:{true:{height:"1rem",width:"1rem"}}}}),viewer_M=h=>eD.createElement(cB,{...h,"data-testid":"icon-svg",role:"img",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},h.children);viewer_M.Title=({children:h})=>eD.createElement("title",null,h),viewer_M.Add=()=>eD.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288M400 256H112"}),viewer_M.Audio=()=>eD.createElement(eD.Fragment,null,eD.createElement("path",{d:"M232 416a23.88 23.88 0 01-14.2-4.68 8.27 8.27 0 01-.66-.51L125.76 336H56a24 24 0 01-24-24V200a24 24 0 0124-24h69.75l91.37-74.81a8.27 8.27 0 01.66-.51A24 24 0 01256 120v272a24 24 0 01-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 01-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0128.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 01320 336z"}),eD.createElement("path",{d:"M368 384a16 16 0 01-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0127.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 01-13.87 8z"}),eD.createElement("path",{d:"M416 432a16 16 0 01-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1127-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 01416 432z"})),viewer_M.Close=()=>eD.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}),viewer_M.Download=()=>eD.createElement(eD.Fragment,null,eD.createElement("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),eD.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})),viewer_M.Image=()=>eD.createElement("path",{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}),viewer_M.Video=()=>eD.createElement("path",{d:"M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z"});let cH=lG({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),cU=lG({"0%":{opacity:0,transform:"translateY(1rem)"},"100%":{opacity:1,transform:"translateY(0)"}}),c$=l$(lS.Eh,{fill:"$secondaryAlt"}),cz=l$(lS.x8,{position:"absolute",right:"0",top:"0",padding:"0.5rem",margin:"0",cursor:"pointer",border:"none",background:"none",fill:"inherit","&:hover":{opacity:"0.75"}}),cG=l$(lS.VY,{border:"none",backgroundColor:"white",fill:"inhrerit",padding:"1rem 2rem 1rem 1rem",width:"auto",minWidth:"200px",maxWidth:"350px",borderRadius:"3px",boxShadow:"5px 5px 13px #0002",animationDuration:"0.3s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",'&[data-side="top"]':{animationName:cU},'&[data-side="bottom"]':{animationName:cH},'&[data-align="end"]':{[`& ${c$}`]:{margin:"0 0.7rem"}}}),cj=l$(lS.xz,{display:"inline-flex",padding:"0.5rem 0",margin:"0 0.5rem 0 0",cursor:"pointer",border:"none",background:"none","> button, > span":{margin:"0"}}),cV=l$(lS.fC,{boxSizing:"content-box"}),viewer_U=({children:h})=>eD.createElement(cV,null,h);viewer_U.Trigger=h=>eD.createElement(cj,{...h},h.children),viewer_U.Content=h=>eD.createElement(cG,{...h},eD.createElement(c$,null),eD.createElement(cz,null,eD.createElement(viewer_M,{isSmall:!0},eD.createElement(viewer_M.Close,null))),h.children);let cq=l$("div",{boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:"5px",padding:"$1",marginBottom:"$2",marginRight:"$2",backgroundColor:"$lightGrey",color:"$richBlack50",textTransform:"uppercase",fontSize:"$2",objectFit:"contain",lineHeight:"1em !important","&:last-child":{marginRight:"0"},[`${cB}`]:{position:"absolute",left:"$1",height:"$3",width:"$3"},variants:{isIcon:{true:{position:"relative",paddingLeft:"$5"}}}}),cW=l$("span",{display:"flex"}),cY=l$("span",{display:"flex",width:"1.2111rem",height:"0.7222rem"}),cQ=l$("span",{display:"inline-flex",marginLeft:"5px",marginBottom:"-1px"}),cX=l$(s5.ck,{display:"flex",flexShrink:"0",margin:"0 1.618rem 0 0",padding:"0",cursor:"pointer",background:"none",border:"none",fontFamily:"inherit",lineHeight:"1.25em",fontSize:"1rem",textAlign:"left","&:last-child":{marginRight:"1rem"},figure:{margin:"0",width:"161.8px","> div":{position:"relative",display:"flex",backgroundColor:"$secondaryAlt",width:"inherit",height:"100px",overflow:"hidden",borderRadius:"3px",transition:"$all",img:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(0)",transform:"scale3d(1, 1, 1)",transition:"$all",color:"transparent"},[`& ${cW}`]:{position:"absolute",right:"0",bottom:"0",[`& ${cq}`]:{margin:"0",paddingLeft:"0",fontSize:"0.7222rem",backgroundColor:"#000d",color:"$secondary",fill:"$secondary",borderBottomLeftRadius:"0",borderTopRightRadius:"0"}}},figcaption:{marginTop:"0.5rem",fontWeight:"400",fontSize:"0.8333rem",display:"-webkit-box",overflow:"hidden",MozBoxOrient:"vertical",WebkitBoxOrient:"vertical",WebkitLineClamp:"5","@sm":{fontSize:"0.8333rem"}}},"&[aria-checked='true']":{figure:{"> div":{backgroundColor:"$primaryAlt","&::before":{position:"absolute",zIndex:"1",color:"$secondaryMuted",content:"Active Item",textTransform:"uppercase",fontWeight:"700",fontSize:"0.6111rem",letterSpacing:"0.03rem",display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",textAlign:"center",textShadow:"5px 5px 5px #0003"},img:{opacity:"0.3",transform:"scale3d(1.1, 1.1, 1.1)",filter:"blur(2px)"},[`& ${cW}`]:{[`& ${cq}`]:{backgroundColor:"$accent"}}}},figcaption:{fontWeight:"700"}}}),Uo=({type:h})=>{switch(h){case"Sound":return eD.createElement(viewer_M.Audio,null);case"Image":default:return eD.createElement(viewer_M.Image,null);case"Video":return eD.createElement(viewer_M.Video,null)}},qo=({canvas:h,canvasIndex:m,isActive:_,thumbnail:v,type:b,handleChange:A})=>eD.createElement(cX,{"aria-checked":_,"data-testid":"media-thumbnail","data-canvas":m,onClick:()=>A(h.id),value:h.id},eD.createElement("figure",null,eD.createElement("div",null,(null==v?void 0:v.id)&&eD.createElement("img",{src:v.id,alt:null!=h&&h.label?viewer_J(h.label):""}),eD.createElement(cW,null,eD.createElement(cq,{isIcon:!0,"data-testid":"thumbnail-tag"},eD.createElement(cY,null),eD.createElement(viewer_M,{"aria-label":b},eD.createElement(Uo,{type:b})),["Video","Sound"].includes(b)&&eD.createElement(cQ,null,viewer_Je(h.duration))))),(null==h?void 0:h.label)&&eD.createElement("figcaption",{"data-testid":"fig-caption"},eD.createElement(viewer_W,{label:h.label})))),Jo=h=>h.body?h.body.type:"Image",Zo=({items:h})=>{let{t:m}=(0,s_.$G)(["viewer"]),_=viewer_P(),v=viewer_$(),{activeCanvas:b,vault:A}=v,[C,S]=(0,eD.useState)(""),[I,w]=(0,eD.useState)([]),[O,L]=(0,eD.useState)(0),M=eD.useRef(null),g=h=>{b!==h&&_({type:"updateActiveCanvas",canvasId:h})};return(0,eD.useEffect)(()=>{if(!I.length){let m=["Image","Sound","Video"],_=h.map(h=>viewer_tt(A,h,"painting",m)).filter(h=>h.annotations.length>0);w(_)}},[h,I.length,A]),(0,eD.useEffect)(()=>{I.forEach((h,m)=>{null!=h&&h.canvas&&h.canvas.id===b&&L(m)})},[b,I]),(0,eD.useEffect)(()=>{let h=document.querySelector(`[data-canvas="${O}"]`);if(h instanceof HTMLElement&&M.current){let m=h.offsetLeft-M.current.offsetWidth/2+h.offsetWidth/2;M.current.scrollTo({left:m,behavior:"smooth"})}},[O]),eD.createElement(eD.Fragment,null,eD.createElement(Io,{handleFilter:h=>S(h),handleCanvasToggle:h=>{let m=I[O+h];null!=m&&m.canvas&&g(m.canvas.id)},activeIndex:O,canvasLength:I.length}),eD.createElement(cF,{"aria-label":m("media.selectItem"),"data-testid":"media",ref:M},I.filter(h=>{var m;if(null!=(m=h.canvas)&&m.label){let m=viewer_J(h.canvas.label);if(Array.isArray(m))return m[0].toLowerCase().includes(C.toLowerCase())}}).map((h,m)=>{var _,v;return eD.createElement(qo,{canvas:h.canvas,canvasIndex:m,handleChange:g,isActive:b===(null==(_=null==h?void 0:h.canvas)?void 0:_.id),key:null==(v=null==h?void 0:h.canvas)?void 0:v.id,thumbnail:Rn(A,h,200,200),type:Jo(h.annotations[0])})})))},cK=l$("button",{position:"absolute",background:"none",border:"none",cursor:"zoom-in",margin:"0",padding:"0",width:"100%",height:"100%",transition:"$all","& img":{width:"100%",height:"100%",objectFit:"contain",color:"transparent",transition:"$all"},variants:{isMedia:{true:{cursor:"pointer"}}}}),cJ=l$("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",backgroundColor:"$primary",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&[data-button=rotate-right]":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=rotate-left]":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&[data-button=reset]":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}}),cZ=l$(cJ,{position:"absolute",width:"2rem",top:"1rem",right:"1rem",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"$all",borderRadius:"50%",backgroundColor:"$accent",cursor:"pointer","&:hover, &:focus":{backgroundColor:"$accent !important"},variants:{isInteractive:{true:{"&:hover":{opacity:"1"}},false:{}},isMedia:{true:{cursor:"pointer !important"}}},compoundVariants:[{isInteractive:!1,isMedia:!0,css:{top:"50%",right:"50%",width:"4rem",height:"4rem",transform:"translate(50%,-50%)"}}]}),c0=l$("div",{position:"relative",display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1",gap:"1rem",zIndex:"0",overflow:"hidden","&:hover":{[`${cZ}`]:{backgroundColor:"$accent"},[`${cK}`]:{backgroundColor:"#6662"}}}),c1=l$("div",{width:"100%",height:"100%"}),c2=l$("svg",{height:"19px",color:"$accent",fill:"$accent",stroke:"$accent",display:"flex",margin:"0.25rem 0.85rem"}),c3=l$(lI.xz,{fontSize:"1.25rem",fontWeight:"400",fontFamily:"inherit",alignSelf:"flex-start",flexGrow:"1",cursor:"pointer",transition:"$all",border:"1px solid #6663",boxShadow:"2px 2px 5px #0001",borderRadius:"3px",display:"flex",alignItems:"center",paddingLeft:"0.5rem",width:"100%","@sm":{fontSize:"1rem"}}),c4=l$(lI.VY,{borderRadius:"3px",boxShadow:"3px 3px 8px #0003",backgroundColor:"$secondary",marginTop:"2.25rem",marginLeft:"6px",paddingBottom:"0.25rem",maxHeight:"calc(61.8vh - 2.5rem) !important",borderTopLeftRadius:"0",border:"1px solid $secondaryMuted",maxWidth:"90vw"}),c5=l$(lI.ck,{display:"flex",alignItems:"center",fontFamily:"inherit",padding:"0.25rem 0.5rem",color:"$primary",fontWeight:"400",fontSize:"0.8333rem",cursor:"pointer",backgroundColor:"$secondary",width:"calc(100% - 1rem)","> span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},'&[data-state="checked"]':{fontWeight:"700",color:"$primary !important"},"&:hover":{color:"$accent"},img:{width:"31px",height:"31px",marginRight:"0.5rem",borderRadius:"3px"}}),c6=l$(lI.__,{color:"$primaryMuted",fontFamily:"inherit",fontSize:"0.85rem",padding:"0.5rem 1rem 0.5rem 0.5rem",display:"flex",alignItems:"center",marginBottom:"0.25rem",borderRadius:"3px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",backgroundColor:"$secondaryMuted"}),c8=l$(lI.fC,{position:"relative",zIndex:"5",width:"100%"}),viewer_pe=({direction:h,title:m})=>eD.createElement(c2,{xmlns:"http://www.w3.org/2000/svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eD.createElement("title",null,m),"up"===h&&eD.createElement(()=>eD.createElement("path",{d:"M414 321.94L274.22 158.82a24 24 0 00-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z"}),null),"down"===h&&eD.createElement(()=>eD.createElement("path",{d:"M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"}),null)),viewer_$t=({children:h,label:m,maxHeight:_,onValueChange:v,value:b})=>eD.createElement(c8,{onValueChange:v,value:b},eD.createElement(c3,{"data-testid":"select-button"},eD.createElement(lI.ki,{"data-testid":"select-button-value"}),eD.createElement(lI.GV,null,eD.createElement(viewer_pe,{direction:"down",title:"select"}))),eD.createElement(lI.ue,null,eD.createElement(c4,{css:{maxHeight:`${_} !important`},"data-testid":"select-content"},eD.createElement(lI.Pn,null,eD.createElement(viewer_pe,{direction:"up",title:"scroll up for more"})),eD.createElement(lI.Q_,null,eD.createElement(lI.DI,null,m&&eD.createElement(c6,null,eD.createElement(viewer_W,{"data-testid":"select-label",label:m})),h)),eD.createElement(lI.Jk,null,eD.createElement(viewer_pe,{direction:"down",title:"scroll down for more"}))))),viewer_At=h=>eD.createElement(c5,{...h},h.thumbnail&&eD.createElement(viewer_bt,{thumbnail:h.thumbnail}),eD.createElement(lI.S_,null,eD.createElement(viewer_W,{label:h.label})),eD.createElement(lI.o6,null)),c9=l$("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),c7=l$("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),un=l$("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{[`${c9}`]:{display:"block"}},false:{[`${c9}`]:{display:"none"}}}}}),viewer_q=({className:h,id:m,label:_,children:v})=>{let b=_.toLowerCase().replace(/\s/g,"-");return eD.createElement(cJ,{id:m,className:h,"data-testid":"openseadragon-button","data-button":b},eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${m}-svg-title`,"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img"},eD.createElement("title",{id:`${m}-svg-title`},_),v))},ui=l$("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),ia=()=>eD.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),la=()=>eD.createElement("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),sa=()=>eD.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),ca=()=>eD.createElement("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),viewer_Be=()=>eD.createElement(eD.Fragment,null,eD.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),eD.createElement("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})),da=({_cloverViewerHasPlaceholder:h,config:m})=>{let _=viewer_$(),{activeCanvas:v,plugins:b,vault:A}=_,C=A.get({id:v,type:"Canvas"});return eD.createElement(ui,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:h},m.showZoomControl&&eD.createElement(eD.Fragment,null,eD.createElement(viewer_q,{id:m.zoomInButton,label:"zoom in"},eD.createElement(ia,null)),eD.createElement(viewer_q,{id:m.zoomOutButton,label:"zoom out"},eD.createElement(la,null))),m.showFullPageControl&&eD.createElement(viewer_q,{id:m.fullPageButton,label:"full page"},eD.createElement(sa,null)),m.showRotationControl&&eD.createElement(eD.Fragment,null,eD.createElement(viewer_q,{id:m.rotateRightButton,label:"rotate right"},eD.createElement(viewer_Be,null)),eD.createElement(viewer_q,{id:m.rotateLeftButton,label:"rotate left"},eD.createElement(viewer_Be,null))),m.showHomeControl&&eD.createElement(viewer_q,{id:m.homeButton,label:"reset"},eD.createElement(ca,null)),b.filter(h=>{var m;return null==(m=h.imageViewer)?void 0:m.controls}).map((h,m)=>{var _,v,b,A;let S=null==(v=null==(_=h.imageViewer)?void 0:_.controls)?void 0:v.component;return eD.createElement(S,{key:m,...null==(A=null==(b=null==h?void 0:h.imageViewer)?void 0:b.controls)?void 0:A.componentProps,canvas:C,useViewerDispatch:viewer_P,useViewerState:viewer_$})}))},ma=({ariaLabel:h,config:m,uri:_,_cloverViewerHasPlaceholder:v,imageType:b,openSeadragonCallback:A})=>{let[C,S]=(0,eD.useState)(),[I,w]=(0,eD.useState)(),O=viewer_P(),L=(0,eD.useRef)(!1);return(0,eD.useEffect)(()=>(L.current||(L.current=!0,I||w(eO(m))),()=>null==I?void 0:I.destroy()),[]),(0,eD.useEffect)(()=>{I&&A&&A(I)},[I,A]),(0,eD.useEffect)(()=>{I&&_!==C&&(null==I||I.forceRedraw(),S(_))},[I,C,_]),(0,eD.useEffect)(()=>{if(C&&I)switch(b){case"simpleImage":null==I||I.addSimpleImage({url:C});break;case"tiledImage":zn(C).then(h=>{try{if(!h)throw Error(`No tile source found for ${C}`);null==I||I.addTiledImage({tileSource:h,success:()=>{"function"==typeof O&&O({type:"updateOSDImageLoaded",OSDImageLoaded:!0})}})}catch(h){console.error(h)}});break;default:null==I||I.close(),console.warn(`Unable to render ${C} in OpenSeadragon as type: "${b}"`)}},[b,C]),eD.createElement(un,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":m.id,hasNavigator:m.showNavigator},eD.createElement(da,{_cloverViewerHasPlaceholder:v,config:m}),m.showNavigator&&eD.createElement(c9,{id:m.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),eD.createElement(c7,{id:m.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...h&&{"aria-label":h}}))},pa=({_cloverViewerHasPlaceholder:h=!1,body:m,instanceId:_,isTiledImage:v=!1,label:b,src:A="",openSeadragonCallback:C,openSeadragonConfig:S={}})=>{let I=_||esm_browser_v4(),w="string"==typeof b?b:viewer_F(b),O={id:`openseadragon-${I}`,navigatorId:`openseadragon-navigator-${I}`,loadTilesWithAjax:!0,fullPageButton:`fullPage-${I}`,homeButton:`reset-${I}`,rotateLeftButton:`rotateLeft-${I}`,rotateRightButton:`rotateRight-${I}`,zoomInButton:`zoomIn-${I}`,zoomOutButton:`zoomOut-${I}`,showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...S},{imageType:L,uri:M}=m?Gn(m):Un(A,v);return M?eD.createElement(eR.SV,{FallbackComponent:viewer_$e},eD.createElement(ma,{_cloverViewerHasPlaceholder:h,ariaLabel:w,config:O,imageType:L,key:I,uri:M,openSeadragonCallback:C})):null},fa=({isMedia:h,label:m,placeholderCanvas:_,setIsInteractive:v})=>{let{vault:b}=viewer_$(),A=viewer_oe(b,_),C=A?A[0]:void 0,S=m?viewer_J(m):["placeholder image"];return eD.createElement(cK,{onClick:()=>v(!0),isMedia:h,className:"clover-viewer-placeholder"},eD.createElement("img",{src:(null==C?void 0:C.id)||"",alt:S.join(),height:null==C?void 0:C.height,width:null==C?void 0:C.width}))},ua=l$("canvas",{position:"absolute",width:"100%",height:"100%",zIndex:"0"}),us=eD.forwardRef((h,m)=>{let _=eD.useRef(null),v=(0,eD.useCallback)(()=>{var h,v;if(null!=(h=m.current)&&h.currentTime&&(null==(v=m.current)?void 0:v.currentTime)>0)return;let b=m.current;if(!b)return;let A=new AudioContext,C=A.createMediaElementSource(b),S=A.createAnalyser(),I=_.current;if(!I)return;I.width=b.offsetWidth,I.height=b.offsetHeight;let w=I.getContext("2d");C.connect(S),S.connect(A.destination),S.fftSize=256;let O=S.frequencyBinCount,L=new Uint8Array(O);setInterval(function(){!function(h,m,_,v,b,A){let C=b/_*2.6,S,I=0;h.getByteFrequencyData(v),m.fillStyle="#000000",m.fillRect(0,0,b,A);for(let h=0;h<_;h++)S=2*v[h],m.fillStyle="rgba(78, 42, 132, 1)",m.fillRect(I,A-S,C,S),I+=C+6}(S,w,O,L,I.width,I.height)},20)},[m]);return eD.useEffect(()=>{m&&m.current&&(m.current.onplay=v)},[v,m]),eD.createElement(ua,{ref:_,role:"presentation"})}),ul=l$("div",{position:"relative",backgroundColor:"$primaryAlt",display:"flex",flexGrow:"0",flexShrink:"1",height:"100%",zIndex:"1",video:{backgroundColor:"transparent",objectFit:"contain",width:"100%",height:"100%",position:"relative",zIndex:"1"}}),ya=({resource:h,ignoreCaptionLabels:m})=>{let _=viewer_J(h.label,"en");return Array.isArray(_)&&_.some(h=>m.includes(h))?null:eD.createElement("track",{key:h.id,src:h.id,label:Array.isArray(_)?_[0]:_,srcLang:"en","data-testid":"player-track"})},uc=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],xa=({allSources:h,annotationResources:m,painting:_})=>{let[v,b]=eD.useState(0),[A,C]=eD.useState(),S=eD.useRef(null),I=(null==_?void 0:_.type)==="Sound",w=viewer_$(),{activeCanvas:O,configOptions:L,vault:M}=w;return(0,eD.useEffect)(()=>{if(!_.id||!S.current)return;if(null!=S&&S.current){let h=S.current;h.src=_.id,h.load()}if("m3u8"!==_.id.split(".").pop()&&_.format&&!uc.includes(_.format))return;let h=new nb.ZP({xhrSetup:function(h,m){h.withCredentials=!!L.withCredentials}});return h.attachMedia(S.current),h.on(nb.ZP.Events.MEDIA_ATTACHED,function(){h.loadSource(_.id)}),h.on(nb.ZP.Events.ERROR,function(m,_){if(_.fatal)switch(_.type){case nb.ZP.ErrorTypes.NETWORK_ERROR:console.error(`fatal ${m} network error encountered, try to recover`),h.startLoad();break;case nb.ZP.ErrorTypes.MEDIA_ERROR:console.error(`fatal ${m} media error encountered, try to recover`),h.recoverMediaError();break;default:h.destroy()}}),()=>{if(h&&S.current){let m=S.current;h.detachMedia(),h.destroy(),m.currentTime=0}}},[L.withCredentials,_.id]),(0,eD.useEffect)(()=>{var h,m,_,b;let A=M.get(O),S=null!=(h=A.accompanyingCanvas)&&h.id?viewer_oe(M,null==(m=A.accompanyingCanvas)?void 0:m.id):null,I=null!=(_=A.placeholderCanvas)&&_.id?viewer_oe(M,null==(b=A.placeholderCanvas)?void 0:b.id):null;S&&I?C(0===v?I[0].id:S[0].id):(S&&C(S[0].id),I&&C(I[0].id))},[O,v,M]),(0,eD.useEffect)(()=>{if(null!=S&&S.current){let h=S.current;return null==h||h.addEventListener("timeupdate",()=>b(h.currentTime)),()=>document.removeEventListener("timeupdate",()=>{})}},[]),eD.createElement(ul,{css:{backgroundColor:L.canvasBackgroundColor,maxHeight:L.canvasHeight,position:"relative"},"data-testid":"player-wrapper",className:"clover-viewer-player-wrapper"},eD.createElement("video",{id:"clover-iiif-video",key:_.id,ref:S,controls:!0,height:_.height,width:_.width,crossOrigin:"anonymous",poster:A,style:{maxHeight:L.canvasHeight,position:"relative",zIndex:"1"}},h.map(h=>eD.createElement("source",{src:h.id,type:h.format,key:h.id})),(null==m?void 0:m.length)>0&&m.map(h=>{let m=[];return h.items.forEach(h=>{M.get(h.id).body.forEach(h=>{let _=M.get(h.id);m.push(_)})}),m.map(h=>eD.createElement(ya,{resource:h,ignoreCaptionLabels:L.ignoreCaptionLabels||[],key:h.id}))}),"Sorry, your browser doesn't support embedded videos."),I&&eD.createElement(us,{ref:S}))},Ea=()=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"close-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eD.createElement("title",{id:"close-svg-title"},"close"),eD.createElement("path",{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})),wa=({isMedia:h})=>eD.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"open-svg-title",focusable:"false",viewBox:"0 0 512 512",role:"img"},eD.createElement("title",{id:"open-svg-title"},"open"),h?eD.createElement("path",{d:"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z"}):eD.createElement(eD.Fragment,null,eD.createElement("path",{d:"m456.69,421.39l-94.09-94.09c22.65-30.16,34.88-66.86,34.84-104.58,0-96.34-78.38-174.72-174.72-174.72S48,126.38,48,222.72s78.38,174.72,174.72,174.72c37.72.04,74.42-12.19,104.58-34.84l94.09,94.09c10.29,9.2,26.1,8.32,35.3-1.98,8.48-9.49,8.48-23.83,0-33.32Zm-233.97-73.87c-68.89-.08-124.72-55.91-124.8-124.8h0c0-68.93,55.87-124.8,124.8-124.8s124.8,55.87,124.8,124.8-55.87,124.8-124.8,124.8Z"}),eD.createElement("path",{d:"m279.5,197.76h-3.35s-28.47,0-28.47,0v-31.82c-.77-13.79-12.57-24.33-26.36-23.56-12.71.71-22.85,10.86-23.56,23.56v3.35h0v28.47h-31.82c-13.79.77-24.33,12.57-23.56,26.36.71,12.71,10.86,22.85,23.56,23.56h3.35s28.47,0,28.47,0v31.82c.77,13.79,12.57,24.33,26.36,23.56,12.71-.71,22.85-10.86,23.56-23.56v-3.35h0v-28.47h31.82c13.79-.77,24.33-12.57,23.56-26.36-.71-12.71-10.86-22.85-23.56-23.56Z"}))),Sa=({handleToggle:h,isInteractive:m,isMedia:_})=>eD.createElement(cZ,{onClick:h,isInteractive:m,isMedia:_,"data-testid":"placeholder-toggle"},m?eD.createElement(Ea,null):eD.createElement(wa,{isMedia:_})),Ca=({activeCanvas:h,annotationResources:m,isMedia:_,painting:v})=>{var b,A,C,S,I;let[w,O]=eD.useState(0),[L,M]=eD.useState(!1),{configOptions:F,customDisplays:B,openSeadragonViewer:U,vault:$,viewerId:G}=viewer_$(),j=viewer_P(),q=$.get(h),Q=null==(b=null==q?void 0:q.placeholderCanvas)?void 0:b.id,X=!!Q,K=(null==v?void 0:v.length)>1,J=Q&&!L&&!_,Z=`${G}-${Cn(h+w)}`,ee=B.find(m=>{var _;let b=!1,{canvasId:A,paintingFormat:C}=m.target;if(Array.isArray(A)&&A.length>0&&(b=A.includes(h)),Array.isArray(C)&&C.length>0){let h=(null==(_=v[w])?void 0:_.format)||"";b=!!(h&&C.includes(h))}return b}),en=[];null==(C=null==(A=m[0])?void 0:A.items)||C.forEach(h=>{let m=$.get(h.id);en.push(m)}),(0,eD.useEffect)(()=>{var h;en&&U&&null!=(h=F.annotationOverlays)&&h.renderOverlays&&(viewer_at(U,"annotation-overlay"),viewer_rt(U,q,F.annotationOverlays,en,"annotation-overlay"))},[q,en,U,F]);let er=null==(S=null==ee?void 0:ee.display)?void 0:S.component;return eD.createElement(c0,{className:"clover-viewer-painting"},eD.createElement(c1,{style:{backgroundColor:F.canvasBackgroundColor,height:"auto"===F.canvasHeight?"100%":F.canvasHeight}},Q&&!_&&eD.createElement(Sa,{handleToggle:()=>M(!L),isInteractive:L,isMedia:_}),J&&!_&&eD.createElement(fa,{isMedia:_,label:null==q?void 0:q.label,placeholderCanvas:Q,setIsInteractive:M}),!J&&!ee&&(_?eD.createElement(xa,{allSources:v,painting:v[w],annotationResources:m}):v&&eD.createElement(pa,{_cloverViewerHasPlaceholder:X,body:v[w],instanceId:Z,key:Z,openSeadragonCallback:h=>{h&&(null==U?void 0:U.id)!==`openseadragon-${Z}`&&j({type:"updateOpenSeadragonViewer",openSeadragonViewer:h})},openSeadragonConfig:F.openSeadragon})),!J&&er&&eD.createElement(er,{id:h,annotationBody:v[w],...null==ee?void 0:ee.display.componentProps})),K&&eD.createElement(viewer_$t,{value:null==(I=v[w])?void 0:I.id,onValueChange:h=>{let m=v.findIndex(m=>m.id===h);O(m)},maxHeight:"200px"},null==v?void 0:v.map(h=>eD.createElement(viewer_At,{value:null==h?void 0:h.id,key:null==h?void 0:h.id,label:null==h?void 0:h.label}))))},ka=({activeCanvas:h,annotationResources:m,searchServiceUrl:_,setContentSearchResource:v,contentSearchResource:b,isAudioVideo:A,items:C,painting:S})=>{let{t:I}=(0,s_.$G)(),{isInformationOpen:w,configOptions:O}=viewer_$(),{informationPanel:L}=O,M=(null==L?void 0:L.renderAbout)&&w,F=(null==L?void 0:L.renderAnnotation)&&m.length>0&&!L.open;return eD.createElement(lQ,{className:"clover-viewer-content","data-testid":"clover-viewer-content"},eD.createElement(lX,null,eD.createElement(Ca,{activeCanvas:h,annotationResources:m,isMedia:A,painting:S}),M&&eD.createElement(lK,null,eD.createElement("span",null,I("informationPanelToggle"))),C.length>1&&eD.createElement(lY,{className:"clover-viewer-media-wrapper"},eD.createElement(Zo,{items:C,activeItem:0}))),(M||F)&&eD.createElement(lZ,null,eD.createElement(lJ,null,eD.createElement(vo,{activeCanvas:h,annotationResources:m,searchServiceUrl:_,setContentSearchResource:v,contentSearchResource:b}))))},uu=l$(viewer_U.Trigger,{width:"30px",padding:"5px"}),ud=l$(viewer_U.Content,{display:"flex",flexDirection:"column",fontSize:"0.8333rem",border:"none",boxShadow:"2px 2px 5px #0003",zIndex:"2",button:{display:"flex",textDecoration:"none",marginBottom:"0.5em",color:"$accentAlt",cursor:"pointer",background:"$secondary",border:"none","&:last-child":{marginBottom:"0"}}}),uh=l$("span",{fontSize:"1.33rem",alignSelf:"flex-start",flexGrow:"0",flexShrink:"1",padding:"1rem","@sm":{fontSize:"1rem"},"&.visually-hidden":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}}),up=l$("header",{display:"flex",backgroundColor:"transparent !important",justifyContent:"space-between",alignItems:"flex-start",width:"100%",[`> ${c8}`]:{flexGrow:"1",flexShrink:"0"},form:{flexGrow:"0",flexShrink:"1"}}),um=l$("div",{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"1rem",flexShrink:"0",flexGrow:"1"}),La=()=>{var h;let m=viewer_P(),_=viewer_$(),{activeManifest:v,collection:b,configOptions:A,vault:C}=_,S=null==A?void 0:A.canvasHeight;return eD.createElement("div",{style:{margin:"0.75rem"}},eD.createElement(viewer_$t,{label:b.label,maxHeight:S,value:v,onValueChange:h=>{m({type:"updateActiveManifest",manifestId:h}),m({type:"updateViewerId",viewerId:esm_browser_v4()})}},null==(h=null==b?void 0:b.items)?void 0:h.map(h=>eD.createElement(viewer_At,{value:h.id,key:h.id,thumbnail:null!=h&&h.thumbnail?C.get(null==h?void 0:h.thumbnail):void 0,label:h.label}))))},Ma=(h,m=2500)=>{let{t:_}=(0,s_.$G)(),[v,b]=(0,eD.useState)(""),A=(0,eD.useCallback)(()=>{navigator.clipboard.writeText(h).then(()=>b(_("copySuccess")),()=>b(_("copyFailure")))},[h]);return(0,eD.useEffect)(()=>{if(!v)return;let h=setTimeout(()=>b(_("copyFailure")),m);return()=>clearTimeout(h)},[v]),[v,A]},uf=l$("span",{display:"flex",alignContent:"center",alignItems:"center",padding:"0.125rem 0.25rem 0",marginTop:"-0.125rem",marginLeft:"0.5rem",backgroundColor:"$accent",color:"$secondary",borderRadius:"3px",lineHeight:"1em"}),Pa=({status:h})=>h?eD.createElement(uf,{"data-copy-status":h},h):null,viewer_Oe=({textPrompt:h,textToCopy:m})=>{let[_,v]=Ma(m);return eD.createElement("button",{onClick:v},h," ",eD.createElement(Pa,{status:_}))},za=({title:h})=>{let m="#ed1d33",_="#2873ab";return eD.createElement("svg",{viewBox:"0 0 493.35999 441.33334",id:"iiif-logo",version:"1.1"},eD.createElement("title",null,h),eD.createElement("g",{transform:"matrix(1.3333333,0,0,-1.3333333,0,441.33333)"},eD.createElement("g",{transform:"scale(0.1)"},eD.createElement("path",{style:{fill:_},d:"M 65.2422,2178.75 775.242,1915 773.992,15 65.2422,276.25 v 1902.5"}),eD.createElement("path",{style:{fill:_},d:"m 804.145,2640.09 c 81.441,-240.91 -26.473,-436.2 -241.04,-436.2 -214.558,0 -454.511,195.29 -535.9527,436.2 -81.4335,240.89 26.4805,436.18 241.0387,436.18 214.567,0 454.512,-195.29 535.954,-436.18"}),eD.createElement("path",{style:{fill:m},d:"M 1678.58,2178.75 968.578,1915 969.828,15 1678.58,276.25 v 1902.5"}),eD.createElement("path",{style:{fill:m},d:"m 935.082,2640.09 c -81.437,-240.91 26.477,-436.2 241.038,-436.2 214.56,0 454.51,195.29 535.96,436.2 81.43,240.89 -26.48,436.18 -241.04,436.18 -214.57,0 -454.52,-195.29 -535.958,-436.18"}),eD.createElement("path",{style:{fill:_},d:"m 1860.24,2178.75 710,-263.75 -1.25,-1900 -708.75,261.25 v 1902.5"}),eD.createElement("path",{style:{fill:_},d:"m 2603.74,2640.09 c 81.45,-240.91 -26.47,-436.2 -241.03,-436.2 -214.58,0 -454.52,195.29 -535.96,436.2 -81.44,240.89 26.48,436.18 241.03,436.18 214.57,0 454.51,-195.29 535.96,-436.18"}),eD.createElement("path",{style:{fill:m},d:"m 3700.24,3310 v -652.5 c 0,0 -230,90 -257.5,-142.5 -2.5,-247.5 0,-336.25 0,-336.25 l 257.5,83.75 V 1690 l -258.61,-92.5 V 262.5 L 2735.24,0 v 2360 c 0,0 -15,850 965,950"}))))},ug=l$(lw.fC,{all:"unset",height:"2rem",width:"3.236rem",backgroundColor:"#6663",borderRadius:"9999px",position:"relative",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px $secondaryAlt"},'&[data-state="checked"]':{backgroundColor:"$accent",boxShadow:"inset 2px 2px 5px #0003"}}),u_=l$(lw.bU,{display:"block",height:"calc(2rem - 12px)",width:"calc(2rem - 12px)",backgroundColor:"$secondary",borderRadius:"100%",boxShadow:"2px 2px 5px #0001",transition:"$all",transform:"translateX(6px)",willChange:"transform",'&[data-state="checked"]':{transform:"translateX(calc(1.236rem + 6px))"}}),uE=l$("label",{fontSize:"0.8333rem",fontWeight:"400",lineHeight:"1em",userSelect:"none",cursor:"pointer",paddingRight:"0.618rem"}),uv=l$("form",{display:"flex",flexShrink:"0",flexGrow:"1",alignItems:"center",marginLeft:"1.618rem"}),Oa=()=>{var h;let{configOptions:m}=viewer_$(),_=viewer_P(),{t:v}=(0,s_.$G)(),[b,A]=(0,eD.useState)(null==(h=null==m?void 0:m.informationPanel)?void 0:h.open);return(0,eD.useEffect)(()=>{_({type:"updateInformationOpen",isInformationOpen:b})},[b,_]),eD.createElement(uv,null,eD.createElement(uE,{htmlFor:"information-toggle",css:b?{opacity:"1"}:{}},v("informationPanelToggle")),eD.createElement(ug,{checked:b,onCheckedChange:()=>A(!b),id:"information-toggle","aria-label":v("informationPanelToggle"),name:"toggled?"},eD.createElement(u_,null)))},uT=l$(viewer_U.Trigger,{width:"30px",padding:"5px",marginBottom:"auto"}),uy=l$(ud,{h3:{color:"$primaryAlt",fontSize:"$2",fontWeight:"700",margin:"$2 0"},button:{},"& ul li":{marginBottom:"$1"}});function viewer_Ne(h,m){let _=[];if(!h)return _;for(let v of h)if(v.id){let h=m.get(v.id);h&&_.push(h)}return _}function viewer_De(h,m){return h.map(({format:h,id:_,label:v})=>{let b=function(h){let{vault:m}=viewer_$();try{let _=h&&m.get(h);if(!_)throw Error(`Vault entity ${h} not found.`);return(null==_?void 0:_["@id"])||(null==_?void 0:_.id)}catch(m){return console.error(m),h}}(_);return{format:h,id:b,label:viewer_F(v)||m}})}let Ga=()=>{let{allPages:h,individualPages:m}=function(){let h=function(){let{activeCanvas:h,activeManifest:m,vault:_}=viewer_$(),[v,b]=(0,eD.useState)({root:[],canvas:[]});return(0,eD.useEffect)(()=>{let v=_.get(m),A=_.get(h),C=null==v?void 0:v.rendering,S=null==A?void 0:A.rendering,I=viewer_Ne(C,_),w=viewer_Ne(S,_);b({root:I,canvas:w})},[h,m,_]),{...v}}(),m=viewer_De((null==h?void 0:h.root)||[],"Root Rendering Label"),_=viewer_De((null==h?void 0:h.canvas)||[],"Canvas Rendering Label");return{allPages:m,individualPages:_}}(),_=h.length>0||m.length>0,a=h=>{window.open(h,"_blank")};return _?eD.createElement(viewer_U,null,eD.createElement(uT,{"data-testid":"download-button"},eD.createElement(viewer_M,null,eD.createElement(viewer_M.Download,null))),eD.createElement(uy,{"data-testid":"download-content"},m.length>0&&eD.createElement(eD.Fragment,null,eD.createElement("h3",null,"Individual Pages"),eD.createElement("ul",null,m.map(({format:h,id:m,label:_})=>eD.createElement("li",{key:_},eD.createElement("button",{onClick:()=>a(m)},_," (",h,")"))))),h.length>0&&eD.createElement(eD.Fragment,null,eD.createElement("h3",null,"All Pages"),eD.createElement("ul",null,h.map(({format:h,id:m,label:_})=>eD.createElement("li",{key:_},eD.createElement("button",{onClick:()=>a(m)},_," (",h,")"))))))):null},viewer_Lt=h=>{let n=()=>!!window.matchMedia&&window.matchMedia(h).matches,[m,_]=(0,eD.useState)(n);return(0,eD.useEffect)(()=>{let o=()=>_(n);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),m},Ua=({manifestId:h,manifestLabel:m})=>{let _=viewer_$(),{collection:v,configOptions:b}=_,{informationPanel:A,showDownload:C,showIIIFBadge:S,showTitle:I}=b,w=C||S||(null==A?void 0:A.renderToggle),O=viewer_Lt(lU.sm),{t:L}=(0,s_.$G)();return eD.createElement(up,{className:"clover-viewer-header"},null!=v&&v.items?eD.createElement(La,null):eD.createElement(uh,{className:I?"":"visually-hidden"},I&&eD.createElement(viewer_W,{label:m,className:"label"})),w&&eD.createElement(um,null,C&&eD.createElement(Ga,null),S&&eD.createElement(viewer_U,null,eD.createElement(uu,null,eD.createElement(za,{title:L("commonShare")})),eD.createElement(ud,null,(null==v?void 0:v.items)&&eD.createElement("button",{onClick:h=>{h.preventDefault(),window.open(v.id,"_blank")}},L("shareCollectionJson")),eD.createElement("button",{onClick:m=>{m.preventDefault(),window.open(h,"_blank")}},L("shareManifestJson"))," ",(null==v?void 0:v.items)&&eD.createElement(viewer_Oe,{textPrompt:L("shareCollectionCopy"),textToCopy:v.id}),eD.createElement(viewer_Oe,{textPrompt:L("shareManifestCopy"),textToCopy:h}))),(null==A?void 0:A.renderToggle)&&!O&&eD.createElement(Oa,null)))},qa=(h=!1)=>{let[m,_]=(0,eD.useState)(h);return(0,eD.useLayoutEffect)(()=>{if(!m)return;let h=document.documentElement.style.overflow;return document.documentElement.style.overflow="hidden",()=>{document.documentElement.style.overflow=h}},[m]),(0,eD.useEffect)(()=>{m!==h&&_(h)},[h]),[m,_]},Ja=({manifest:h,theme:m,iiifContentSearchQuery:_})=>{var v;let b=viewer_$(),A=viewer_P(),{activeCanvas:C,isInformationOpen:S,vault:I,contentSearchVault:w,configOptions:O,openSeadragonViewer:L}=b,M=(null==O?void 0:O.canvasHeight)&&["100%","auto"].includes(null==O?void 0:O.canvasHeight),[F,B]=(0,eD.useState)(!1),[U,$]=(0,eD.useState)(!1),[G,j]=(0,eD.useState)([]),[q,Q]=(0,eD.useState)([]),[X,K]=(0,eD.useState)(),[J,Z]=qa(!1),ee=viewer_Lt(lU.sm),[en,er]=(0,eD.useState)(),ei=(0,eD.useCallback)(h=>{A({type:"updateInformationOpen",isInformationOpen:h})},[A]);(0,eD.useEffect)(()=>{var h;null!=(h=null==O?void 0:O.informationPanel)&&h.open&&ei(!ee)},[ee,null==(v=null==O?void 0:O.informationPanel)?void 0:v.open,ei]),(0,eD.useEffect)(()=>{if(!ee){Z(!1);return}Z(S)},[S,ee,Z]),(0,eD.useEffect)(()=>{let h=viewer_oe(I,C);h&&($(["Sound","Video"].indexOf(h[0].type)>-1),j(h)),Mn(I,C).then(h=>{h.length>0&&A({type:"updateInformationOpen",isInformationOpen:!0}),Q(h),B(0!==h.length)})},[C,q.length,I,A]);let ea=h.service.some(h=>"SearchService2"===h.type);return(0,eD.useEffect)(()=>{if(ea){let m=h.service.find(h=>"SearchService2"===h.type);m&&er(m.id)}},[h,ea]),(0,eD.useEffect)(()=>{var h,m,v;en&&(null==(h=O.informationPanel)?void 0:h.renderContentSearch)!==!1&&viewer_et(w,en,null==(v=null==(m=O.localeText)?void 0:m.contentSearch)?void 0:v.tabLabel,_).then(h=>{K(h)})},[en]),(0,eD.useEffect)(()=>{if(!L||!X)return;let h=I.get({id:C,type:"Canvas"});viewer_at(L,"content-search-overlay"),function(h,m,_,v,b){var A;if(!(null!=m&&m.items)||(null==m?void 0:m.items.length)===0)return;let C=[];m.items.forEach(m=>{let _=h.get(m.id);"string"==typeof _.target&&_.target.startsWith(v.id)&&C.push(_)}),_&&null!=(A=b.contentSearch)&&A.overlays&&viewer_rt(_,v,b.contentSearch.overlays,C,"content-search-overlay")}(w,X,L,h,O)},[L,X]),eD.createElement(eR.SV,{FallbackComponent:viewer_$e},eD.createElement(l0,{className:`${m} clover-viewer`,css:{background:null==O?void 0:O.background},"data-body-locked":J,"data-absolute-position":M,"data-information-panel":F,"data-information-panel-open":S},eD.createElement(sE.fC,{open:S,onOpenChange:ei},eD.createElement(Ua,{manifestLabel:h.label,manifestId:h.id}),eD.createElement(ka,{activeCanvas:C,painting:G,annotationResources:q,searchServiceUrl:en,setContentSearchResource:K,contentSearchResource:X,items:h.items,isAudioVideo:U}))))},ub={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3,withCredentials:!1};function viewer_e(h,m=null){return{ok:!1,status:h.status,statusText:h.statusText,headers:h.getAllResponseHeaders(),data:m||h.statusText,json:()=>JSON.parse(m||h.statusText)}}let fi=({canvasIdCallback:h=()=>{},customDisplays:m=[],plugins:_=[],customTheme:v,iiifContent:b,id:A,manifestId:C,options:S,iiifContentSearchQuery:I})=>{var w,O,L;let M=b;A&&(M=A),C&&(M=C);let F=viewer_Ye(null==(O=null==(w=null==S?void 0:S.informationPanel)?void 0:w.vtt)?void 0:O.autoScroll);return eD.createElement(Ln,{initialState:{...lD,customDisplays:m,plugins:_,isAutoScrollEnabled:F.enabled,isInformationOpen:!!(null!=(L=null==S?void 0:S.informationPanel)&&L.open),vault:new Vault({customFetcher:h=>(function(h,m=ub){let _=m.headers||ub.headers;return new Promise((v,b)=>{let A=new XMLHttpRequest;A.open("get",h),A.withCredentials=m.withCredentials,_&&Object.keys(_).forEach(h=>A.setRequestHeader(h,_[h])),A.onload=()=>{v({ok:A.status>=200&&A.status<300,status:A.status,statusText:A.statusText,headers:A.getAllResponseHeaders(),data:A.responseText,json:()=>JSON.parse(A.responseText)})},A.onerror=()=>{b(viewer_e(A,"Failed to make request."))},A.ontimeout=()=>{b(viewer_e(A,"Request took longer than expected."))},A.send()})})(h,{withCredentials:null==S?void 0:S.withCredentials,headers:null==S?void 0:S.requestHeaders}).then(h=>JSON.parse(h.data))})}},eD.createElement(Ya,{iiifContent:M,canvasIdCallback:h,customTheme:v,options:S,iiifContentSearchQuery:I}))},Ya=({canvasIdCallback:h,customTheme:m,iiifContent:_,options:v,iiifContentSearchQuery:b})=>{let A=viewer_P(),C=viewer_$(),{activeCanvas:S,activeManifest:I,isLoaded:w,vault:O}=C,[L,M]=(0,eD.useState)(),[F,B]=(0,eD.useState)(),U={};return m&&(U=(0,eL.jG)("custom",m)),(0,eD.useEffect)(()=>{h&&h(S)},[S,h]),(0,eD.useEffect)(()=>{I&&O.loadManifest(I).then(h=>{B(h),A({type:"updateActiveCanvas",canvasId:Hn(_,h)})}).catch(h=>{console.error(`Manifest failed to load: ${h}`)}).finally(()=>{A({type:"updateIsLoaded",isLoaded:!0})})},[_,I,A,O]),(0,eD.useEffect)(()=>{A({type:"updateConfigOptions",configOptions:v});let h=Vn(_);O.load(h).then(h=>{M(h)}).catch(h=>{console.error(`The IIIF resource ${_} failed to load: ${h}`)})},[A,_,v,O]),(0,eD.useEffect)(()=>{if((null==L?void 0:L.type)==="Collection"){A({type:"updateCollection",collection:L});let h=Bn(_,L);h&&A({type:"updateActiveManifest",manifestId:h})}else(null==L?void 0:L.type)==="Manifest"&&A({type:"updateActiveManifest",manifestId:L.id})},[A,_,L]),w?F&&F.items?0===F.items.length?(console.log(`The IIIF manifest ${_} does not contain canvases.`),eD.createElement(eD.Fragment,null)):eD.createElement(Ja,{manifest:F,theme:U,key:F.id,iiifContentSearchQuery:b}):(console.log(`The IIIF manifest ${_} failed to load.`),eD.createElement(eD.Fragment,null)):eD.createElement(eD.Fragment,null,"Loading")},helpers_u=h=>{var m,_,v,b,A;let C={id:"string"==typeof h?h:h.source};if("string"==typeof h){if(h.includes("#xywh=")){let m=h.split("#xywh=");if(m&&m[1]){let[h,_,v,b]=m[1].split(",").map(h=>Number(h));C={id:m[0],rect:{x:h,y:_,w:v,h:b}}}}else if(h.includes("#t=")){let m=h.split("#t=");m&&m[1]&&(C={id:m[0],t:m[1]})}}else if("object"==typeof h){if((null==(m=h.selector)?void 0:m.type)==="PointSelector")C={id:h.source,point:{x:h.selector.x,y:h.selector.y}};else if((null==(_=h.selector)?void 0:_.type)==="SvgSelector")C={id:h.source,svg:h.selector.value};else if((null==(v=h.selector)?void 0:v.type)==="FragmentSelector"&&null!=(b=h.selector)&&b.value.includes("xywh=")&&"Canvas"==h.source.type&&h.source.id){let m=null==(A=h.selector)?void 0:A.value.split("xywh=");if(m&&m[1]){let[_,v,b,A]=m[1].split(",").map(h=>Number(h));C={id:h.source.id,rect:{x:_,y:v,w:b,h:A}}}}}return C},uk=window.OpenSeadragon;if(!uk&&!(uk=eO))throw Error("OpenSeadragon is missing.");let uA="http://www.w3.org/2000/svg";uk.Viewer&&(uk.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new a(this)),this._svgOverlayInfo});let a=function(h){let m=this;this._viewer=h,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(uA,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(uA,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){m.resize()}),this._viewer.addHandler("open",function(){m.resize()}),this._viewer.addHandler("rotate",function(){m.resize()}),this._viewer.addHandler("flip",function(){m.resize()}),this._viewer.addHandler("resize",function(){m.resize()}),this.resize()};a.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let h=this._viewer.viewport.pixelFromPoint(new uk.Point(0,0),!0),m=this._viewer.viewport.getZoom(!0),_=this._viewer.viewport.getRotation(),v=this._viewer.viewport.getFlip(),b=this._viewer.viewport._containerInnerSize.x,A=b*m,C=A;v&&(A=-A,h.x=-h.x+b),this._node.setAttribute("transform","translate("+h.x+","+h.y+") scale("+A+","+C+") rotate("+_+")")},onClick:function(h,m){new uk.MouseTracker({element:h,clickHandler:m}).setTracking(!0)}};let ux={parseAnnotationTarget:helpers_u,createOpenSeadragonRect:function(h,m,_){let v,b,A=40,C=40;m.rect&&(v=m.rect.x,b=m.rect.y,A=m.rect.w,C=m.rect.h),m.point&&(v=m.point.x,b=m.point.y),helpers_u.svg;let S=1/h.width;return new eO.Rect(v*S-A*S/2*(_-1),b*S-C*S/2*(_-1),A*S*_,C*S*_)}};var uC=fi}}]);